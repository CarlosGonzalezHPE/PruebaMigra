

[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01]

AdminInterface=
CCFLoader=CcfLoader
ClassName=com.hp.siu.adminagent.procmgr.SessionServerProcess
Description=
JDBCConnectionPoolService=PoolService

@Include(pattern="**")
@Include(pattern="**#*", merge=true)
Link=/templates/DEG/APNS/Common
Link=/templates/DEG/APNS/Common_Customize
MBeanServerConnection=service:jmx:rmi://10.192.13.172/jndi/rmi://10.192.13.172:36556/jmxconnector
RepositoryLoader=repositoryLoader
SNMESchemaLoader=SNMESchemaLoader
StartClassName=com.hp.siu.sessionserver.SessionServer


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/CcfLoader]

ClassName=com.hp.usage.ccf.framework.CCFLoader
FormatPath=datamodel/format
TransformationPath=datamodel/transform


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors]

ClassName=ConnectorManager
ConnectorNames=100.corbaConnector
ConnectorNames=200.corbaQueryConnector
ConnectorNames=300.APNSServerAdapter
ConnectorNames=500.VoWIFIAPNSConnector
#ConnectorNames=600.CambioAPNSConnector
ConnectorNames=700.EntitlementAPNSConnector
ConnectorNames=800.SchedulerConnector
#ConnectorNames=900.iCloudVoWiFiConnector
ConnectorNames=950.Multi-SimConnector
#ConnectorNames=960.SweetGumConnector


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/100.corbaConnector]

ClassName=com.hp.siu.sessionserver.CorbaConnector


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/200.corbaQueryConnector]

ClassName=com.hp.siu.sessionserver.CorbaQueryConnector


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/300.APNSServerAdapter]

BulkReadBufferSize=8192
ClassName=com.hp.usage.nme.rpc.server.NMERPCServerAdapter
InactivityMonitorPeriod=300
InactivityTimeout=600
MaxConnections=10
MaxPacketSize=2048
ThreadsPerConnection=100


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/300.APNSServerAdapter/Transport]

ClassName=com.hp.usage.transport.tcp.TCPTransport
PortNumber=${APNS_INTERFACE_PORT}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/500.VoWIFIAPNSConnector]

ClassName=com.hp.usage.connector.TCPConnector
CoreThreadPoolSize=${APNS_MIN_THREADS}
MaxRetryLimit=${APNS_MAX_RETRY}
MaxThreadPoolSize=${APNS_MIN_THREADS}
OperationAttribute=Service
Operations=APNSOperation
RetryInterval=15000
ThreadKeepAliveTime=60
ThreadQueueSize=${APNS_THREAD_QUEUE}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/500.VoWIFIAPNSConnector/APNSOperation]

ClassName=com.hp.usage.apns.operations.APNSOperation


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/500.VoWIFIAPNSConnector/EndPoints]

AvailabilityMonitorInterval=0
ClassName=com.hp.usage.connector.lookup.RoundRobinEndPointSelector
EndPoints=${APNS_ENDPOINT}
FailOnFirstConnectionError=false
InactivityTimeout=0
ReconnectRetryInterval=0
ReconnectRetryLimit=2


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/500.VoWIFIAPNSConnector/EndPoints/Production]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_PRODUCTION_HOST}
KeyStoreFile=${APNS_PRODUCTION_KEY_STORE_FILE_VOWIFI}
KeyStorePassword=${APNS_PRODUCTION_KEY_STORE_PWD_VOWIFI}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_VOWIFI}
Port=${APNS_PRODUCTION_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_PRODUCTION_TRUST_STORE_FILE}
TrustStorePassword=${APNS_PRODUCTION_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/500.VoWIFIAPNSConnector/EndPoints/Sandbox]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SANDBOX_HOST}
KeyStoreFile=${APNS_SANDBOX_KEY_STORE_FILE_VOWIFI}
KeyStorePassword=${APNS_SANDBOX_KEY_STORE_PWD_VOWIFI}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_VOWIFI}
Port=${APNS_SANDBOX_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_SANDBOX_TRUST_STORE_FILE}
TrustStorePassword=${APNS_SANDBOX_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/500.VoWIFIAPNSConnector/EndPoints/Simulator]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SIMULATOR_HOST}
KeepAlive=true
MaxConnections=${APNS_SIMULATOR_MAX_CONN}
Port=${APNS_SIMULATOR_PORT}
ReceiveBufferSize=4096
SendBufferSize=2048
SocketTimeout=20000
TCPNoDelay=true
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/500.VoWIFIAPNSConnector/Protocol]

ApproxMessageLength=4096
ClassName=com.hp.usage.apns.APNSProtocol
ErrorStatusNme=DEG_APNS_ErrorStatusInteger
OperationMode=Notification
RuleChainName=500.APNSErrorResponseRuleChain
TimeoutRuleChainName=600.APNSSuccessResponseRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/600.CambioAPNSConnector]

ClassName=com.hp.usage.connector.TCPConnector
CoreThreadPoolSize=${APNS_MIN_THREADS}
MaxRetryLimit=${APNS_MAX_RETRY}
MaxThreadPoolSize=${APNS_MIN_THREADS}
OperationAttribute=Service
Operations=APNSOperation
RetryInterval=15000
ThreadKeepAliveTime=60
ThreadQueueSize=${APNS_THREAD_QUEUE}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/600.CambioAPNSConnector/APNSOperation]

ClassName=com.hp.usage.apns.operations.APNSOperation


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/600.CambioAPNSConnector/EndPoints]

AvailabilityMonitorInterval=0
ClassName=com.hp.usage.connector.lookup.RoundRobinEndPointSelector
EndPoints=${APNS_ENDPOINT}
FailOnFirstConnectionError=false
InactivityTimeout=0
ReconnectRetryInterval=0
ReconnectRetryLimit=2


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/600.CambioAPNSConnector/EndPoints/Production]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_PRODUCTION_HOST}
KeyStoreFile=${APNS_PRODUCTION_KEY_STORE_FILE_CAMBIO}
KeyStorePassword=${APNS_PRODUCTION_KEY_STORE_PWD_CAMBIO}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_CAMBIO}
Port=${APNS_PRODUCTION_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_PRODUCTION_TRUST_STORE_FILE}
TrustStorePassword=${APNS_PRODUCTION_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/600.CambioAPNSConnector/EndPoints/Sandbox]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SANDBOX_HOST}
KeyStoreFile=${APNS_SANDBOX_KEY_STORE_FILE_CAMBIO}
KeyStorePassword=${APNS_SANDBOX_KEY_STORE_PWD_CAMBIO}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_CAMBIO}
Port=${APNS_SANDBOX_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_SANDBOX_TRUST_STORE_FILE}
TrustStorePassword=${APNS_SANDBOX_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/600.CambioAPNSConnector/EndPoints/Simulator]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SIMULATOR_HOST}
KeepAlive=true
MaxConnections=${APNS_SIMULATOR_MAX_CONN}
Port=${APNS_SIMULATOR_PORT}
ReceiveBufferSize=4096
SendBufferSize=2048
SocketTimeout=20000
TCPNoDelay=true
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/600.CambioAPNSConnector/Protocol]

ApproxMessageLength=4096
ClassName=com.hp.usage.apns.APNSProtocol
ErrorStatusNme=DEG_APNS_ErrorStatusInteger
OperationMode=Notification
RuleChainName=500.APNSErrorResponseRuleChain
TimeoutRuleChainName=600.APNSSuccessResponseRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/700.EntitlementAPNSConnector]

ClassName=com.hp.usage.connector.TCPConnector
CoreThreadPoolSize=${APNS_MIN_THREADS}
MaxRetryLimit=${APNS_MAX_RETRY}
MaxThreadPoolSize=${APNS_MIN_THREADS}
OperationAttribute=Service
Operations=APNSOperation
RetryInterval=15000
ThreadKeepAliveTime=60
ThreadQueueSize=${APNS_THREAD_QUEUE}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/700.EntitlementAPNSConnector/APNSOperation]

ClassName=com.hp.usage.apns.operations.APNSOperation


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/700.EntitlementAPNSConnector/EndPoints]

AvailabilityMonitorInterval=0
ClassName=com.hp.usage.connector.lookup.RoundRobinEndPointSelector
EndPoints=${APNS_ENDPOINT}
FailOnFirstConnectionError=false
InactivityTimeout=0
ReconnectRetryInterval=0
ReconnectRetryLimit=2


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/700.EntitlementAPNSConnector/EndPoints/Production]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_PRODUCTION_HOST}
KeyStoreFile=${APNS_PRODUCTION_KEY_STORE_FILE_VOLTE}
KeyStorePassword=${APNS_PRODUCTION_KEY_STORE_PWD_VOLTE}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_VOLTE}
Port=${APNS_PRODUCTION_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_PRODUCTION_TRUST_STORE_FILE}
TrustStorePassword=${APNS_PRODUCTION_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/700.EntitlementAPNSConnector/EndPoints/Sandbox]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SANDBOX_HOST}
KeyStoreFile=${APNS_SANDBOX_KEY_STORE_FILE_VOLTE}
KeyStorePassword=${APNS_SANDBOX_KEY_STORE_PWD_VOLTE}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_VOLTE}
Port=${APNS_SANDBOX_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_SANDBOX_TRUST_STORE_FILE}
TrustStorePassword=${APNS_SANDBOX_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/700.EntitlementAPNSConnector/EndPoints/Simulator]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SIMULATOR_HOST}
KeepAlive=true
MaxConnections=${APNS_SIMULATOR_MAX_CONN}
Port=${APNS_SIMULATOR_PORT}
ReceiveBufferSize=4096
SendBufferSize=2048
SocketTimeout=20000
TCPNoDelay=true
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/700.EntitlementAPNSConnector/Protocol]

ApproxMessageLength=4096
ClassName=com.hp.usage.apns.APNSProtocol
ErrorStatusNme=DEG_APNS_ErrorStatusInteger
OperationMode=Notification
RuleChainName=500.APNSErrorResponseRuleChain
TimeoutRuleChainName=600.APNSSuccessResponseRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/800.SchedulerConnector]

ClassName=com.hp.siu.scheduler.Scheduler
ScheduledJobs=Batch_ManualPushNotificationCallFlow


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/800.SchedulerConnector/Batch_ManualPushNotificationCallFlow]

MaxExecutions=-1
PollIntervalClassName=com.hp.siu.utils.SecondsInterval
QueryInterval=1h
TaskLogLevel=DEBUG4
Tasks=InvokeAPNSBatchManualProcessing


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/800.SchedulerConnector/Batch_ManualPushNotificationCallFlow/InvokeAPNSBatchManualProcessing]

ClassName=com.hp.siu.sessionserver.InvokeRuleChainTask
InputNMEAttributes=EndTime,%current_time%
RuleChain=900.Batch_ManualPushNotificationRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/900.iCloudVoWiFiConnector]

ClassName=com.hp.usage.connector.TCPConnector
CoreThreadPoolSize=${APNS_MIN_THREADS}
MaxRetryLimit=${APNS_MAX_RETRY}
MaxThreadPoolSize=${APNS_MIN_THREADS}
OperationAttribute=Service
Operations=APNSOperation
RetryInterval=15000
ThreadKeepAliveTime=60
ThreadQueueSize=${APNS_THREAD_QUEUE}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/900.iCloudVoWiFiConnector/APNSOperation]

ClassName=com.hp.usage.apns.operations.APNSOperation


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/900.iCloudVoWiFiConnector/EndPoints]

AvailabilityMonitorInterval=0
ClassName=com.hp.usage.connector.lookup.RoundRobinEndPointSelector
EndPoints=${APNS_ENDPOINT}
FailOnFirstConnectionError=false
InactivityTimeout=0
ReconnectRetryInterval=0
ReconnectRetryLimit=2


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/900.iCloudVoWiFiConnector/EndPoints/Production]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_PRODUCTION_HOST}
KeyStoreFile=${APNS_PRODUCTION_KEY_STORE_FILE_ICLOUDVOWIFI}
KeyStorePassword=${APNS_PRODUCTION_KEY_STORE_PWD_ICLOUDVOWIFI}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_ICLOUDVOWIFI}
Port=${APNS_PRODUCTION_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_PRODUCTION_TRUST_STORE_FILE}
TrustStorePassword=${APNS_PRODUCTION_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/900.iCloudVoWiFiConnector/EndPoints/Sandbox]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SANDBOX_HOST}
KeyStoreFile=${APNS_SANDBOX_KEY_STORE_FILE_ICLOUDVOWIFI}
KeyStorePassword=${APNS_SANDBOX_KEY_STORE_PWD_ICLOUDVOWIFI}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_ICLOUDVOWIFI}
Port=${APNS_SANDBOX_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_SANDBOX_TRUST_STORE_FILE}
TrustStorePassword=${APNS_SANDBOX_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/900.iCloudVoWiFiConnector/EndPoints/Simulator]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SIMULATOR_HOST}
KeepAlive=true
MaxConnections=${APNS_SIMULATOR_MAX_CONN}
Port=${APNS_SIMULATOR_PORT}
ReceiveBufferSize=4096
SendBufferSize=2048
SocketTimeout=20000
TCPNoDelay=true
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/900.iCloudVoWiFiConnector/Protocol]

ApproxMessageLength=4096
ClassName=com.hp.usage.apns.APNSProtocol
ErrorStatusNme=DEG_APNS_ErrorStatusInteger
OperationMode=Notification
RuleChainName=500.APNSErrorResponseRuleChain
TimeoutRuleChainName=600.APNSSuccessResponseRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/950.Multi-SimConnector]

ClassName=com.hp.usage.connector.TCPConnector
CoreThreadPoolSize=${APNS_MIN_THREADS}
MaxRetryLimit=${APNS_MAX_RETRY}
MaxThreadPoolSize=${APNS_MIN_THREADS}
OperationAttribute=Service
Operations=APNSOperation
RetryInterval=15000
ThreadKeepAliveTime=60
ThreadQueueSize=${APNS_THREAD_QUEUE}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/950.Multi-SimConnector/APNSOperation]

ClassName=com.hp.usage.apns.operations.APNSOperation


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/950.Multi-SimConnector/EndPoints]

AvailabilityMonitorInterval=0
ClassName=com.hp.usage.connector.lookup.RoundRobinEndPointSelector
EndPoints=${APNS_ENDPOINT}
FailOnFirstConnectionError=false
InactivityTimeout=0
ReconnectRetryInterval=0
ReconnectRetryLimit=2


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/950.Multi-SimConnector/EndPoints/Production]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_PRODUCTION_HOST}
KeyStoreFile=${APNS_PRODUCTION_KEY_STORE_FILE_MULTISIM}
KeyStorePassword=${APNS_PRODUCTION_KEY_STORE_PWD_MULTISIM}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_MULTISIM}
Port=${APNS_PRODUCTION_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_PRODUCTION_TRUST_STORE_FILE}
TrustStorePassword=${APNS_PRODUCTION_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/950.Multi-SimConnector/EndPoints/Sandbox]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SANDBOX_HOST}
KeyStoreFile=${APNS_SANDBOX_KEY_STORE_FILE_MULTISIM}
KeyStorePassword=${APNS_SANDBOX_KEY_STORE_PWD_MULTISIM}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_MULTISIM}
Port=${APNS_SANDBOX_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_SANDBOX_TRUST_STORE_FILE}
TrustStorePassword=${APNS_SANDBOX_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/950.Multi-SimConnector/EndPoints/Simulator]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SIMULATOR_HOST}
KeepAlive=true
MaxConnections=${APNS_SIMULATOR_MAX_CONN}
Port=${APNS_SIMULATOR_PORT}
ReceiveBufferSize=4096
SendBufferSize=2048
SocketTimeout=20000
TCPNoDelay=true
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/950.Multi-SimConnector/Protocol]

ApproxMessageLength=4096
ClassName=com.hp.usage.apns.APNSProtocol
ErrorStatusNme=DEG_APNS_ErrorStatusInteger
OperationMode=Notification
RuleChainName=500.APNSErrorResponseRuleChain
TimeoutRuleChainName=600.APNSSuccessResponseRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/960.SweetGumConnector]

ClassName=com.hp.usage.connector.TCPConnector
CoreThreadPoolSize=${APNS_MIN_THREADS}
MaxRetryLimit=${APNS_MAX_RETRY}
MaxThreadPoolSize=${APNS_MIN_THREADS}
OperationAttribute=Service
Operations=APNSOperation
RetryInterval=15000
ThreadKeepAliveTime=60
ThreadQueueSize=${APNS_THREAD_QUEUE}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/960.SweetGumConnector/APNSOperation]

ClassName=com.hp.usage.apns.operations.APNSOperation


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/960.SweetGumConnector/EndPoints]

AvailabilityMonitorInterval=0
ClassName=com.hp.usage.connector.lookup.RoundRobinEndPointSelector
EndPoints=${APNS_ENDPOINT}
FailOnFirstConnectionError=false
InactivityTimeout=0
ReconnectRetryInterval=0
ReconnectRetryLimit=2


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/960.SweetGumConnector/EndPoints/Production]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_PRODUCTION_HOST}
KeyStoreFile=${APNS_PRODUCTION_KEY_STORE_FILE_CARRIERSPACE}
KeyStorePassword=${APNS_PRODUCTION_KEY_STORE_PWD_CARRIERSPACE}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_CARRIERSPACE}
Port=${APNS_PRODUCTION_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_PRODUCTION_TRUST_STORE_FILE}
TrustStorePassword=${APNS_PRODUCTION_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/960.SweetGumConnector/EndPoints/Sandbox]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SANDBOX_HOST}
KeyStoreFile=${APNS_SANDBOX_KEY_STORE_FILE_CARRIERSPACE}
KeyStorePassword=${APNS_SANDBOX_KEY_STORE_PWD_CARRIERSPACE}
KeyStoreType=PKCS12
MaxConnections=${APNS_MAX_CONN_CARRIERSPACE}
Port=${APNS_SANDBOX_PORT}
SocketTimeout=20000
TrustStoreFile=${APNS_SANDBOX_TRUST_STORE_FILE}
TrustStorePassword=${APNS_SANDBOX_TRUST_STORE_PWD}
TrustStoreType=JKS
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/960.SweetGumConnector/EndPoints/Simulator]

ClassName=com.hp.usage.connector.TCPEndPoint
ConnectionTimeout=12000
HostName=${APNS_SIMULATOR_HOST}
KeepAlive=true
MaxConnections=${APNS_SIMULATOR_MAX_CONN}
Port=${APNS_SIMULATOR_PORT}
ReceiveBufferSize=4096
SendBufferSize=2048
SocketTimeout=20000
TCPNoDelay=true
WaitForConnection=50


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Connectors/960.SweetGumConnector/Protocol]

ApproxMessageLength=4096
ClassName=com.hp.usage.apns.APNSProtocol
ErrorStatusNme=DEG_APNS_ErrorStatusInteger
OperationMode=Notification
RuleChainName=500.APNSErrorResponseRuleChain
TimeoutRuleChainName=600.APNSSuccessResponseRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/License]


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Logging]

ClassName=com.hp.siu.serverutils.SvrLogManager
COMPRESS=true
FILECOUNT=50
HandlerNames=LogHandler
LOGLINELIMIT=500000
Loggers=org.jsmpp,INFO,false


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Logging/LogHandler]

ClassName=com.hp.siu.serverutils.LogClassLoader
FILECOUNT=-1
FormatterClass=com.hp.siu.utils.LegacyLogFormatter
HandlerClass=com.hp.usage.logging.RollingLogFileHandler
LOGLINELIMIT=50000
LogFile=${IUM_LOG_DIR}/Alarming_${APNS_INTERFACE_PROCESS_NAME}.log
LogFileRollPolicyClass=TimestampLogFileRollPolicy
LoggerNames=com.hp
LogLevel=WARNING
TIMESTAMPSUFFIX='.'yyyyMMddHHmmss


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ManagementService]

ClassName=com.hp.usage.management.ManagementService


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/NMEStores]

ClassName=NMEStoreManager
NMEStoreNames=AuditNmeStore


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/NMEStores/AuditNmeStore]

ClassName=AsynchNMEStore
NMEBatchSize=100
QueueSize=10000
SkipStructuredNME=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/NMEStores/AuditNmeStore/PersistentStore]

Attributes=DEG_AuditFormatIdString
Attributes=DEG_AuditTimestampLong
Attributes=DEG_AuditProcessingNodeString
Attributes=DEG_AuditInterfaceString
Attributes=DEG_AuditInOutString
Attributes=DEG_AuditResultCodeString
Attributes=DEG_AuditMdnString
Attributes=DEG_AuditIMSIString
Attributes=DEG_AuditTransactionTypeString
Attributes=DEG_AuditSourceDestinationString
Attributes=DEG_AuditSourceDestinationVersionString
Attributes=DEG_AuditDurationString
Attributes=DEG_AuditChannelIdString
Attributes=DEG_AuditChannelNameString
Attributes=DEG_AuditASPServiceIdString
Attributes=DEG_AuditASPServiceNameString
Attributes=DEG_AuditASPIdString
Attributes=DEG_AuditASPNameString
Attributes=DEG_AuditNRBMessageString
Attributes=DEG_AuditMessageString
Attributes=DEG_AuditSessionIdString
Attributes=DEG_AuditUniqueIDString
Attributes=DEG_AuditDeviceTypeString
ClassName=FilePersistentStore
DataDir=${APNS_AUDIT_DATA_DIR}
FileNameTemplate=${APNS_AUDIT_BINARY_FILE_NAME}
FileNameTZ=UTC
GenerateEmptyFiles=false


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/NMEStores/AuditNmeStore/PersistentStore/FlushPolicy]

ClassName=ClockTimeSessionServerFlushPolicy
ClockInterval=10s
MaxNMEs=100000


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/Properties]

JVMOPTS=%DEFAULTS%
JVMOPTS=-Xms256m
JVMOPTS=-Xmx256m
JVMOPTS=-Duser.timezone=${SYSTIMEZONE}
JVMOPTS=-XX:+DisableExplicitGC
JVMOPTS=-XX:+UseParNewGC
JVMOPTS=-verbose:gc
JVMOPTS=-XX:+PrintGCDetails
JVMOPTS=-XX:+PrintGCTimeStamps
JVMOPTS=-XX:+UseConcMarkSweepGC
JVMOPTS=-XX:+UseFastAccessorMethods
JVMOPTS=-XX:+ScavengeBeforeFullGC
JVMOPTS=-XX:SurvivorRatio=1
JVMPROPERTIES=%DEFAULTS%
JVMPROPERTIES=LogRequestInOutLevel1=true
JVMPROPERTIES=LogRequestFlowLevel1=true
JVMPROPERTIES=LogRequestIssueLevel1=true
PROCESSARGS=-l 4
STARTUPMODE=${STARTUPMODE_AUTO}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService]

ClassName=RefDataServiceManager
QueryNames=DEG_MONITORINGID_GENERATOR
QueryNames=DEG_MONITORING_SESSIONS_ActiveSessions
QueryNames=DEG_NOTIF_ID_GENERATOR
QueryNames=DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing]

ClassName=JDBCQuery
CommonPolicyID=Policy1
FieldExtracted=DEG_MDN,DEG_MDN
FieldExtracted=DEG_APNS_TRIGGER_TYPE,DEG_APNS_TRIGGER_TYPE
FieldExtracted=DEG_APNS_TOPIC,DEG_APNS_TOPIC
FieldExtracted=DEG_IMSI,DEG_IMSI
FieldExtracted=DEG_APNSINTERFACE_INSTANCE,DEG_APNSINTERFACE_INSTANCE
FieldExtracted=DEG_APNS_DEL_RETRIES,DEG_APNS_DEL_RETRIES
FieldExtracted=DEG_APNS_TOKEN,DEG_APNS_TOKEN
FieldExtracted=DEG_UNIQUE_ID,DEG_UNIQUE_ID
FieldExtracted=DEG_APNS_MSG_CREATED_DATE,DEG_APNS_MSG_CREATED_DATE
QueryString=SELECT DEG_MDN, DEG_APNS_TRIGGER_TYPE, DEG_APNS_TOPIC, DEG_IMSI, DEG_APNSINTERFACE_INSTANCE, DEG_APNS_DEL_RETRIES, DEG_APNS_TOKEN, DEG_UNIQUE_ID, DEG_APNS_MSG_CREATED_DATE FROM DEG_APNS_MESSAGE_TO_BE_SENT WHERE DEG_APNSINTERFACE_INSTANCE=%DEG_APNSINTERFACE 
ResultAttribute=DEG_NrbMatchFoundInteger
ResultIndexAttribute=DEG_NrbIndexInteger


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing/ErrorRule]

ClassName=RuleChain
RuleNames=SetDBErrorCode
RuleNames=LogAlarming


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing/ErrorRule/LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=CRITICAL
Message=Database Error:


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing/ErrorRule/SetDBErrorCode]

AdornOps=set DEG_ReturnCodeString -3
AdornOps=set DEG_ReturnMessageString "Internal Error at the server"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0030"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing/FinalRule]

ClassName=ConditionalRule
Conditions=DEG_APNS_MessageFoundFlagInteger,=,0


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing/FinalRule/TrueRule]

Attributes=DEG_APNSINTERFACE_INSTANCE
Attributes=DEG_NrbMatchFoundInteger
ClassName=LogNMERule
LogLevel=INFO
Message=The Messages to be sent by This Blade were not found


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing/InitialRule]

ClassName=RuleChain
RuleNames=Init


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing/InitialRule/Init]

AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_APNS_MESSAGE_TO_BE_SENT"
AdornOps=set DEG_APNS_MessageFoundFlagInteger 0
AdornOps=set DEG_APNS_CallFlowString "Batch"
AdornOps=set DEG_APNSINTERFACE_INSTANCE ""
AdornOps=set DEG_APNSINTERFACE ${APNS_HOST_NAME}
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing/ResultRowRule]

ClassName=RuleChain
RuleNames=ProcessExtractedBatchRecord


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing/ResultRowRule/ProcessExtractedBatchRecord]

ClassName=LocalRuleChainInvoker
RuleChain=901.ProcessExtractedBatchRecordRuleChain
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORINGID_GENERATOR]

ClassName=JDBCQuery
CommonPolicyID=Policy2
FieldExtracted=DEG_MSESSIONTRANSID,DEG_MSESSIONTRANSID
QueryString=SELECT SEQUENCE_NEXTVAL('DEG_MONITORINGID_GENERATOR') AS DEG_MSESSIONTRANSID
ResultAttribute=DEG_NrbMatchFoundInteger
ResultIndexAttribute=DEG_NrbIndexInteger


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ErrorRule]

ClassName=RuleChain
RuleNames=SetDBErrorCode
RuleNames=LogAlarming


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ErrorRule/LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=CRITICAL
Message=Database Error:


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ErrorRule/SetDBErrorCode]

AdornOps=set DEG_ReturnCodeString -3
AdornOps=set DEG_ReturnMessageString "Internal Error at the server"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0032"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORINGID_GENERATOR/FinalRule]

AdornOps=copy DEG_NrbMatchFoundInteger DEG_NrbMatchFoundInteger
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORINGID_GENERATOR/InitialRule]

AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set DEG_NrbIndexInteger 0
AdornOps=set DEG_MSESSIONTRANSID 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_MONITORINGID_GENERATOR.NEXTVAL"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ResultRowRule]

AdornOps=set DEG_NrbMatchFoundInteger 1
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions]

ClassName=JDBCQuery
CommonPolicyID=Policy2
FieldExtracted=DEG_MSESSIONID,DEG_MSESSIONID
QueryString=SELECT %FIELDS  FROM DEG_MONITORING_SESSIONS WHERE DEG_MSESSIONTYPE in ('MDN','IMSI','UNIQ') AND DEG_MSESSIONSTATUS='AE' AND DEG_MSESSIONKEY=%DEG_MSESSIONKEY
ResultAttribute=DEG_NrbMatchFoundInteger
ResultIndexAttribute=DEG_NrbIndexInteger


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ErrorRule]

ClassName=RuleChain
RuleNames=SetDBErrorCode
RuleNames=LogAlarming


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ErrorRule/LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
ClassName=LogNMERule
LogLevel=CRITICAL
Message=Database Error:


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ErrorRule/SetDBErrorCode]

AdornOps=set DEG_ReturnCodeString -3
AdornOps=set DEG_ReturnMessageString "Internal Error at the server"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0033"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/FinalRule]

AdornOps=copy DEG_NrbMatchFoundInteger DEG_NrbMatchFoundInteger
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/InitialRule]

AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set DEG_MSESSIONID ""
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_MONITORING_SESSIONS"
AdornOps=set DEG_APNS_SessionFoundFlagInteger 0
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule]

ClassName=RuleChain
RuleNames=Set_MatchFound
RuleNames=PopulateMonitoringSessionIdsList


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/PopulateMonitoringSessionIdsList]

ClassName=ConditionalRule
FalseRuleChain=CheckIfDuplicateSession
FalseRuleChain=AddMonitoringSessionToList
TrueRuleChain=AddMonitoringSessionToList


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/PopulateMonitoringSessionIdsList/AddMonitoringSessionToList]

ClassName=ConditionalRule
Conditions=DEG_APNS_SessionFoundFlagInteger,=,0


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/PopulateMonitoringSessionIdsList/AddMonitoringSessionToList/TrueRule]

ClassName=AddToListAttributeRule
Delimiters=,
InputAttribute=DEG_MSESSIONID
ListAttribute=DEG_NrbMonitoringSessionIdList


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/PopulateMonitoringSessionIdsList/CheckIfDuplicateSession]

ClassName=ListAttributeIterator
ListAttributeName=DEG_NrbMonitoringSessionIdList
RuleChain=CompareSessionValues
TmpAttributeName=DEG_NrbMonitoringSessionIdString


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/PopulateMonitoringSessionIdsList/CheckIfDuplicateSession/CompareSessionValues]

ClassName=ConditionalRule
Conditions=DEG_NrbMonitoringSessionIdString,=,DEG_MSESSIONID
TrueRuleChain=RaiseDuplicateSessionFlag


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/PopulateMonitoringSessionIdsList/CheckIfDuplicateSession/CompareSessionValues/RaiseDuplicateSessionFlag]

AdornOps=set DEG_APNS_SessionFoundFlagInteger 1
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/PopulateMonitoringSessionIdsList/Condition]

ClassName=com.hp.usage.script.rules.ExpressionCondition
Expression=DEG_NrbMonitoringSessionIdList == null


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/Set_MatchFound]

AdornOps=set DEG_NrbMatchFoundInteger 1
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_NOTIF_ID_GENERATOR]

ClassName=JDBCQuery
CommonPolicyID=Policy1
FieldExtracted=DEG_APNS_NOTIF_ID,DEG_APNS_NOTIF_ID
QueryString=SELECT SEQUENCE_NEXTVAL('DEG_NOTIF_ID_GENERATOR') AS DEG_APNS_NOTIF_ID
ResultAttribute=DEG_NrbMatchFoundInteger
ResultIndexAttribute=DEG_NrbIndexInteger


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_NOTIF_ID_GENERATOR/ErrorRule]

ClassName=RuleChain
RuleNames=SetDBError
RuleNames=LogAlarming


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_NOTIF_ID_GENERATOR/ErrorRule/LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=CRITICAL
Message=Database Error:


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_NOTIF_ID_GENERATOR/ErrorRule/SetDBError]

AdornOps=set DEG_ReturnCodeString -3
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0031"
AdornOps=set DEG_ReturnMessageString "Internal Error at the server"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_NOTIF_ID_GENERATOR/FinalRule]

AdornOps=set DEG_NrbMatchFoundInteger 1
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_NOTIF_ID_GENERATOR/InitialRule]

AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set DEG_NrbIndexInteger 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_NOTIF_ID_GENERATOR.NEXTVAL"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/ReferenceDataService/DEG_NOTIF_ID_GENERATOR/ResultRowRule]

AdornOps=set DEG_NrbMatchFoundInteger 1
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains]

ClassName=com.hp.siu.sessionserver.RuleChainManager
RuleChainNames=CUSTRC_Apple_APNS_SendNotification
RuleChainNames=200.SendToAPNSRuleChain
RuleChainNames=300.APNSConnectionErrorRuleChain
RuleChainNames=400.APNSConnectionSuccessRuleChain
RuleChainNames=500.APNSErrorResponseRuleChain
RuleChainNames=600.APNSSuccessResponseRuleChain
RuleChainNames=700.SessionStoreDefaultErrorRuleChain
RuleChainNames=800.LogAPNSMessageSessionStoreError
RuleChainNames=900.Batch_ManualPushNotificationRuleChain
RuleChainNames=001.GenerateAPNSStartAuditData
RuleChainNames=002.GenerateAPNSEndAuditData
RuleChainNames=003.DumpMonitoringTransactionsRuleChain
RuleChainNames=004.SessionStoreDuplicateKeyRuleChain
RuleChainNames=901.ProcessExtractedBatchRecordRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/001.GenerateAPNSStartAuditData]

ClassName=RuleChain
RuleNames=CreateAuditRecord
RuleNames=DumpMonitoringTransactions


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/001.GenerateAPNSStartAuditData/CreateAuditRecord]

ClassName=RuleChain
RuleNames=CheckAPNSNotificationType
RuleNames=PopulateCommonAuditAttributes
RuleNames=PopulateAuditMessageAttribute
RuleNames=DumpAuditRecord


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/001.GenerateAPNSStartAuditData/CreateAuditRecord/CheckAPNSNotificationType]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=CUST_APNS_HeartbeatRequestAttribute,=,1
FalseRuleChain=100.SetNormalAPNSAudit
TrueRuleChain=100.SetHeartbeatAudit


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/001.GenerateAPNSStartAuditData/CreateAuditRecord/CheckAPNSNotificationType/100.SetHeartbeatAudit]

AdornOps=set DEG_AuditSourceDestinationString "HeartbeatAPNS"
AdornOps=set DEG_AuditTransactionTypeString "HeartBeatRealTimeMessage"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/001.GenerateAPNSStartAuditData/CreateAuditRecord/CheckAPNSNotificationType/100.SetNormalAPNSAudit]

AdornOps=set DEG_AuditSourceDestinationString "APNS"
AdornOps=set DEG_AuditTransactionTypeString "APNSRealTimeMessage"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/001.GenerateAPNSStartAuditData/CreateAuditRecord/DumpAuditRecord]

ClassName=NMEStoreRule
NMEStore=AuditNmeStore


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/001.GenerateAPNSStartAuditData/CreateAuditRecord/PopulateAuditMessageAttribute]

AdornOps=set DEG_Tmp1String ", DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=setifnull DEG_MDN 0
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_APNS_MessageTypeString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=setifnull DEG_APNS_MessageTypeString ""
AdornOps=+ DEG_AuditMessageString DEG_APNS_MessageTypeString DEG_AuditMessageString
AdornOps=setifnull DEG_AuditNRBMessageString ""
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/001.GenerateAPNSStartAuditData/CreateAuditRecord/PopulateCommonAuditAttributes]

AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditFormatIdString ""
AdornOps=setsystime DEG_CDevProcessStartTimeLong
AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AuditTimestampLong
AdornOps=setifnull DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString 0
AdornOps=copy CUST_APN_IN_MDNLong DEG_AuditMdnString
AdornOps=copy CUST_APN_IN_IMSIString DEG_AuditIMSIString
AdornOps=setifnull CUST_APN_IN_UniqueIdString 0
AdornOps=copy CUST_APN_IN_UniqueIdString DEG_AuditUniqueIDString
AdornOps=setifnull DEG_AuditSourceDestinationString "DEG"
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditChannelIdString ""
AdornOps=set DEG_AuditChannelNameString ""
AdornOps=set DEG_AuditASPServiceIdString ""
AdornOps=set DEG_AuditASPServiceNameString ""
AdornOps=set DEG_AuditASPIdString ""
AdornOps=set DEG_AuditASPNameString ""
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/001.GenerateAPNSStartAuditData/DumpMonitoringTransactions]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_NrbMonitoringSessionIdList
RequestAttributes=DEG_AuditTimestampLong
RequestAttributes=DEG_AuditInterfaceString
RequestAttributes=DEG_AuditInOutString
RequestAttributes=DEG_AuditResultCodeString
RequestAttributes=DEG_AuditMdnString
RequestAttributes=DEG_AuditTransactionTypeString
RequestAttributes=DEG_AuditSourceDestinationString
RequestAttributes=DEG_AuditNRBMessageString
RequestAttributes=DEG_AuditMessageString
RuleChain=003.DumpMonitoringTransactionsRuleChain
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData]

ClassName=RuleChain
RuleNames=GetActiveMonitoringSessions
RuleNames=CreateAuditRecord
RuleNames=DumpMonitoringTransactions


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/CreateAuditRecord]

ClassName=RuleChain
RuleNames=CheckAPNSNotificationType
RuleNames=PopulateCommonAuditAttributes
RuleNames=PopulateAuditMessageAttribute
RuleNames=DumpAuditRecord
RuleNames=SetResponse
RuleNames=Logs


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/CreateAuditRecord/CheckAPNSNotificationType]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=CUST_APNS_HeartbeatRequestAttribute,=,1
FalseRuleChain=100.SetNormalAPNSAudit
TrueRuleChain=100.SetHeartbeatAudit


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/CreateAuditRecord/CheckAPNSNotificationType/100.SetHeartbeatAudit]

AdornOps=set DEG_AuditSourceDestinationString "HeartbeatAPNS"
AdornOps=set DEG_AuditTransactionTypeString "HeartBeatRealTimeMessage"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/CreateAuditRecord/CheckAPNSNotificationType/100.SetNormalAPNSAudit]

AdornOps=set DEG_AuditSourceDestinationString "APNS"
AdornOps=set DEG_AuditTransactionTypeString "APNSRealTimeMessage"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/CreateAuditRecord/DumpAuditRecord]

ClassName=NMEStoreRule
NMEStore=AuditNmeStore


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/CreateAuditRecord/Logs]

Attributes=DEG_AuditFormatIdString
Attributes=DEG_AuditProcessingNodeString
Attributes=DEG_AuditFormatIdString
Attributes=DEG_AuditTimestampLong
Attributes=DEG_EventTimeStampLong
Attributes=DEG_AuditChannelIdString
Attributes=DEG_AuditASPServiceIdString
Attributes=DEG_AuditMessageString
Attributes=DEG_AuditSourceDestinationVersionString
Attributes=DEG_NrbMonitoringSessionIdList
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=DEBUG
Message=Attributes before Audit End
NullAlso=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/CreateAuditRecord/PopulateAuditMessageAttribute]

AdornOps=set DEG_Tmp1String ", DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=setifnull DEG_MDN 0
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_APNS_MessageTypeString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=setifnull DEG_APNS_MessageTypeString ""
AdornOps=+ DEG_AuditMessageString DEG_APNS_MessageTypeString DEG_AuditMessageString
AdornOps=setifnull DEG_AuditNRBMessageString ""
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/CreateAuditRecord/PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditFormatIdString ""
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditChannelIdString ""
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditChannelNameString ""
AdornOps=set DEG_AuditASPServiceIdString ""
AdornOps=set DEG_AuditASPServiceNameString ""
AdornOps=set DEG_AuditASPIdString ""
AdornOps=set DEG_AuditASPNameString ""
AdornOps=setifnull CUST_APN_IN_UniqueIdString 0
AdornOps=setifnull DEG_ReturnCodeString -3
AdornOps=setifnull DEG_ReturnMessageString "Internal error at the server"
AdornOps=setifnull DEG_AuditMessageString ""
AdornOps=copy DEG_ReturnMessageString DEG_AuditNRBMessageString
AdornOps=copy DEG_ReturnCodeString DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_IMSI DEG_AuditIMSIString
AdornOps=copy CUST_APN_IN_UniqueIdString DEG_AuditUniqueIDString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/CreateAuditRecord/SetResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0010"
AdornOps=set DEG_OEMDevMessageString "Attributes before Audit End"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/DumpMonitoringTransactions]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_NrbMonitoringSessionIdList
RequestAttributes=DEG_AuditTimestampLong
RequestAttributes=DEG_AuditInterfaceString
RequestAttributes=DEG_AuditInOutString
RequestAttributes=DEG_AuditResultCodeString
RequestAttributes=DEG_AuditMdnString
RequestAttributes=DEG_AuditTransactionTypeString
RequestAttributes=DEG_AuditSourceDestinationString
RequestAttributes=DEG_AuditNRBMessageString
RequestAttributes=DEG_AuditMessageString
RuleChain=003.DumpMonitoringTransactionsRuleChain
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/002.GenerateAPNSEndAuditData/GetActiveMonitoringSessions]

ClassName=RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain]

ClassName=RuleChain
RuleNames=DumpMonitoringTransactions
RuleNames=090.SetLogInfo
RuleNames=100.LogsTocHeckDEG_NrbMonitoringSessionIdList


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/090.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0011"
AdornOps=set DEG_OEMDevMessageString "Value of DEG_NrbMonitoringSessionIdList"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/100.LogsTocHeckDEG_NrbMonitoringSessionIdList]

Attributes=DEG_NrbMonitoringSessionIdList
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Value of DEG_NrbMonitoringSessionIdList
NullAlso=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions]

ClassName=ConditionalRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/Condition]

ClassName=com.hp.usage.script.rules.ExpressionCondition
Expression=DEG_NrbMonitoringSessionIdList != null


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule]

ClassName=ListAttributeIterator
ListAttributeName=DEG_NrbMonitoringSessionIdList
RuleChain=InsertMonitoringTransactionToDb
TmpAttributeName=DEG_NrbMonitoringSessionIdString


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb]

ClassName=RefDataLookupRule
QueryName=DEG_MONITORINGID_GENERATOR


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/MatchRule]

ClassName=RuleChain
RuleNames=GenerateTransactionId
RuleNames=PopulateMonitoringTransactionAttributes
RuleNames=InitInsert2Db
RuleNames=Insert2Db
RuleNames=CheckCreateStatus


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/MatchRule/CheckCreateStatus]

ClassName=ConditionalRule
Conditions=DEG_NrbSessionStoreErrorFlagInteger,!=,0
Conditions=DEG_NrbSessionStoreKeyExistsFlagInteger,!=,0
Operations=or
TrueRuleChain=SetErrorResponse
TrueRuleChain=Log_Level1


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/MatchRule/CheckCreateStatus/Log_Level1]

Attributes=DEG_MSESSIONID
Attributes=DEG_MSESSIONTRANSID
Attributes=DEG_MSESSIONTIMESTAMP
Attributes=DEG_MSESSIONINTERFACE
Attributes=DEG_MSESSIONINOUT
Attributes=DEG_MSESSIONRESULTCODE
Attributes=DEG_MSESSIONMDN
Attributes=DEG_MSESSIONTRANSACTIONTYPE
Attributes=DEG_MSESSIONSOURCEDESTINATION
Attributes=DEG_MSESSIONMESSAGE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to create entry in DEG_MONITORING_TRANSACTIONS session store
NullAlso=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/MatchRule/CheckCreateStatus/SetErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0012"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/MatchRule/GenerateTransactionId]

AdornOps=setsystime DEG_Tmp1Long
AdornOps=copy DEG_Tmp1Long DEG_Tmp1String
AdornOps=+ DEG_Tmp1String DEG_MSESSIONTRANSID DEG_MSESSIONTRANSID
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/MatchRule/InitInsert2Db]

AdornOps=set DEG_NrbSessionStoreErrorFlagInteger 0
AdornOps=set DEG_NrbSessionStoreKeyExistsFlagInteger 0
AdornOps=copy DEG_NrbMonitoringSessionIdString DEG_MSESSIONID
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/MatchRule/Insert2Db]

ClassName=CreateSessionRule
ContinueAfterErrorFixed=false
DefaultErrorRuleChain=700.SessionStoreDefaultErrorRuleChain
DuplicateErrorRuleChain=004.SessionStoreDuplicateKeyRuleChain
LogInvalidSession=false
SessionStore=DEG_MONITORING_TRANSACTIONS_SessionStore


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/MatchRule/PopulateMonitoringTransactionAttributes]

AdornOps=copy DEG_AuditProcessingNodeString DEG_MSESSIONPROCID
AdornOps=copy DEG_AuditTimestampLong DEG_MSESSIONTIMESTAMP
AdornOps=copy DEG_AuditInterfaceString DEG_MSESSIONINTERFACE
AdornOps=copy DEG_AuditInOutString DEG_MSESSIONINOUT
AdornOps=copy DEG_AuditResultCodeString DEG_MSESSIONRESULTCODE
AdornOps=copy DEG_AuditMdnString DEG_MSESSIONMDN
AdornOps=copy DEG_AuditIMSIString DEG_MSESSIONIMSI
AdornOps=copy DEG_AuditUniqueIDString DEG_MSESSIONUNIQUE_ID
AdornOps=copy DEG_AuditTransactionTypeString DEG_MSESSIONTRANSACTIONTYPE
AdornOps=copy DEG_AuditSourceDestinationString DEG_MSESSIONSOURCEDESTINATION
AdornOps=copy DEG_AuditNRBMessageString DEG_MSESSIONMESSAGE
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/NoMatchRule]

ClassName=RuleChain
RuleNames=SetEmptyTransactionId
RuleNames=SetErrorResponse
RuleNames=Log_Level1


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/NoMatchRule/Log_Level1]

Attributes=DEG_MSESSIONTRANSID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=WARNING
Message=Unable to generate unique value of monitoring transaction id: 
NullAlso=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/NoMatchRule/SetEmptyTransactionId]

AdornOps=set DEG_MSESSIONTRANSID ""
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/003.DumpMonitoringTransactionsRuleChain/DumpMonitoringTransactions/TrueRule/InsertMonitoringTransactionToDb/NoMatchRule/SetErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0013"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to generate unique value of monitoring transaction id"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/004.SessionStoreDuplicateKeyRuleChain]

ClassName=RuleChain
RuleNames=SetDuplicateKeyFlag


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/004.SessionStoreDuplicateKeyRuleChain/SetDuplicateKeyFlag]

AdornOps=set DEG_NrbSessionStoreKeyExistsFlagInteger 1
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=SetLogInfo
RuleNames=RecieveAttributes
RuleNames=PayloadFormation
RuleNames=createJsonSnme
RuleNames=stringCodecRule
RuleNames=ToJsonString
RuleNames=FinalSnmeCreation


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_APNS_PlanPurchaseFlagInteger,=,0
FalseRuleChain=ForPlanPurchaseStatus
TrueRuleChain=ForNormalAPNS


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForNormalAPNS]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitValues
RuleNames=100.SetJsonEntitlementUpdateTimestamp
RuleNames=100.MakeListFromString
RuleNames=200.ExtractListAttribute


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForNormalAPNS/100.InitValues]

AdornOps=set DEG_APNS_TRIGGER_TYPEArrayIndex -1
AdornOps=set DEG_APNS_TRIGGER_TYPEList null
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForNormalAPNS/100.MakeListFromString]

ClassName=AddToListAttributeRule
Delimiters=,
InputAttribute=DEG_APNS_TRIGGER_TYPE
ListAttribute=DEG_APNS_TRIGGER_TYPEList


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForNormalAPNS/100.SetJsonEntitlementUpdateTimestamp]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_APNS_TimeStampString,entitlement_update.timestamp.CData
SNMEType=APNSPayload:Root


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForNormalAPNS/200.ExtractListAttribute]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_APNS_TRIGGER_TYPEList
RuleChain=100.InitArrayIndex
RuleChain=100.SetJsonSNME
TmpAttributeName=DEG_APNS_TRIGGER_TYPETmpString


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForNormalAPNS/200.ExtractListAttribute/100.InitArrayIndex]

AdornOps=+ DEG_APNS_TRIGGER_TYPEArrayIndex 1 DEG_APNS_TRIGGER_TYPEArrayIndex
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForNormalAPNS/200.ExtractListAttribute/100.SetJsonSNME]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_APNS_TRIGGER_TYPETmpString,entitlement_update.trigger_actions[DEG_APNS_TRIGGER_TYPEArrayIndex].CData
SNMEType=APNSPayload:Root


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForPlanPurchaseStatus]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitValues
RuleNames=200.SetJsonEntitlementUpdateTimestamp
RuleNames=300.MakeListForPlanID
RuleNames=400.MakeListForPlanStatus
RuleNames=500.ExtractListAttribute


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForPlanPurchaseStatus/100.InitValues]

AdornOps=set DEG_APNS_PlanPurchaseArrayIndexInteger -1
AdornOps=set DEG_APNS_PlanPurchase_PlanIDList null
AdornOps=set DEG_APNS_PlanPurchase_PlanStatusList null
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForPlanPurchaseStatus/200.SetJsonEntitlementUpdateTimestamp]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_APNS_TimeStampString,entitlement_update.timestamp.CData
SNMEType=APNSPayload:Root


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForPlanPurchaseStatus/300.MakeListForPlanID]

ClassName=AddToListAttributeRule
Delimiters=,
InputAttribute=DEG_APNS_PlanPurchase_PlanIDString
ListAttribute=DEG_APNS_PlanPurchase_PlanIDList


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForPlanPurchaseStatus/400.MakeListForPlanStatus]

ClassName=AddToListAttributeRule
Delimiters=,
InputAttribute=DEG_APNS_PlanPurchase_PlanStatusString
ListAttribute=DEG_APNS_PlanPurchase_PlanStatusList


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForPlanPurchaseStatus/500.ExtractListAttribute]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_APNS_PlanPurchase_PlanIDList
ListAttributeName=DEG_APNS_PlanPurchase_PlanStatusList
RuleChain=100.InitArrayIndex
RuleChain=200.SetJsonSNME
TmpAttributeName=DEG_APNS_PlanPurchase_PlanIDTmpString
TmpAttributeName=DEG_APNS_PlanPurchase_PlanStatusTmpString


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForPlanPurchaseStatus/500.ExtractListAttribute/100.InitArrayIndex]

AdornOps=+ DEG_APNS_PlanPurchaseArrayIndexInteger 1 DEG_APNS_PlanPurchaseArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/createJsonSnme/ForPlanPurchaseStatus/500.ExtractListAttribute/200.SetJsonSNME]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_APNS_PlanPurchase_PlanIDTmpString,entitlement_update.plan_purchase_status[DEG_APNS_PlanPurchaseArrayIndexInteger].plan_id.CData
NMEToStructuredNMEMap=DEG_APNS_PlanPurchase_PlanStatusTmpString,entitlement_update.plan_purchase_status[DEG_APNS_PlanPurchaseArrayIndexInteger].status.CData
SNMEType=APNSPayload:Root


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/FinalSnmeCreation]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_APNS_DeviceTokenBinary,frameArray[0].deviceToken
NMEToStructuredNMEMap=JsonString,frameArray[0].payload
NMEToStructuredNMEMap=DEG_APNS_NOTIF_ID,frameArray[0].notificationIdentifier
NMEToStructuredNMEMap=DEG_APNS_ExpirationDate,frameArray[0].expirationDate,0
NMEToStructuredNMEMap=DEG_APNS_Priority,frameArray[0].priority,10
SNMEType=APNSFormat:ApplePushNotificationMessage


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation]

ClassName=RuleChain
RuleNames=Initialize
RuleNames=Log
RuleNames=SysTime
RuleNames=DateFormat
RuleNames=TimeFormat
RuleNames=TimeStampInGMT
RuleNames=generateNOTIFICATION_ID


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/DateFormat]

ClassName=TimeAdornmentRule
FormatStrings=DEG_APNS_TimeStampLong,DEG_APNS_TimeStampString,yyyy-MM-dd,DEG_APNS_TimeZoneString


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/generateNOTIFICATION_ID]

ClassName=RefDataLookupRule
QueryName=DEG_NOTIF_ID_GENERATOR


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/generateNOTIFICATION_ID/NoMatchRule]

ClassName=RuleChain
RuleNames=generateDummyID
RuleNames=SetErrorResponse
RuleNames=log


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/generateNOTIFICATION_ID/NoMatchRule/generateDummyID]

AdornOps=set DEG_APNS_NOTIF_ID 888
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/generateNOTIFICATION_ID/NoMatchRule/log]

Attributes=DEG_APNS_NOTIF_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=WARNING
Message=Default Notification id 888 is used in APNS messages. Unable to generate notification id through sequence generator DEG_NOTIF_ID_GENERATOR.  
NullAlso=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/generateNOTIFICATION_ID/NoMatchRule/SetErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0016"
AdornOps=set DEG_OEMDevErrorMessageString "nable to generate notification id through sequence generator DEG_NOTIF_ID_GENERATOR"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/Initialize]

AdornOps=setifnull DEG_AuditSourceDestinationString "APNS"
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0015"
AdornOps=set DEG_OEMDevMessageString "Recieved Information required to Form Payload"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/Log]

Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Recieved Information required to Form Payload


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/SysTime]

AdornOps=setsystime DEG_APNS_TimeStampLong
AdornOps=set DEG_APNS_TimeZoneString GMT
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/TimeFormat]

ClassName=TimeAdornmentRule
FormatStrings=DEG_APNS_TimeStampLong,DEG_APNS_TempTimeStampString,HH:mm:ss,DEG_APNS_TimeZoneString


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/PayloadFormation/TimeStampInGMT]

AdornOps=set DEG_Tmp1String "T"
AdornOps=+ DEG_APNS_TimeStampString DEG_Tmp1String DEG_APNS_TimeStampString
AdornOps=+ DEG_APNS_TimeStampString DEG_APNS_TempTimeStampString DEG_APNS_TimeStampString
AdornOps=set DEG_Tmp1String "Z"
AdornOps=+ DEG_APNS_TimeStampString DEG_Tmp1String DEG_APNS_TimeStampString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/RecieveAttributes]

Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_APNS_DeviceTokenBinary
Attributes=DEG_APNS_PlanPurchase_PlanIDString
Attributes=DEG_APNS_PlanPurchase_PlanStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Recieved Attributes from Earlier Rule Chain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0014"
AdornOps=set DEG_OEMDevMessageString "Recieved Attributes from Earlier Rule Chain"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/stringCodecRule]

ClassName=com.hp.usage.xml.rules.StringCodecRule
DestinationAttribute=jsonData
RootElement=entitlement-update
SNMENamespace=APNSPayload
SourceAttribute=entitlement_update
TreatAsJSON=true
XMLSchemaDefinitionFile=${APNS_PAYLOAD_XSD_FILE}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/200.SendToAPNSRuleChain/ToJsonString]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
SNMEType=APNSPayload:Root
StructuredNMEToNMEMap=jsonData,JsonString


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=300.SetErrorResponse
RuleNames=301.log
RuleNames=302.UpdateDb
RuleNames=303.GenerateAPNSProcessingEndAuditData


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/300.SetErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0017"
AdornOps=set DEG_OEMDevErrorMessageString "APNS Connection Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/301.log]

Attributes=DEG_APNS_ErrorStatusString
Attributes=DEG_APNS_ErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=CRITICAL
Message=APNS Connection Error: Not Able to Connect 


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb]

ClassName=ConditionalRule
Conditions=DEG_APNS_CallFlowString,=,"Real Time"
FalseRuleChain=SwitchBladeForBatchProcessing
TrueRuleChain=AddingMessagesToBatchProcessing


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing]

ClassName=RuleChain
RuleNames=SetLogInfo
RuleNames=Log
RuleNames=InsertMessageTypeToDb
RuleNames=CheckIfErrors


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/CheckIfErrors]

ClassName=ConditionalRule
Conditions=DEG_NrbSessionStoreErrorFlagInteger,=,0


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/CheckIfErrors/FalseRule]

AdornOps=set DEG_ReturnCodeString -3
AdornOps=set DEG_AuditMessageString "Async ERROR - DEG could not connect to APNS platform. Database ERROR - message(s) could not be added to batch processing."
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/CheckIfErrors/TrueRule]

AdornOps=set DEG_ReturnCodeString -1
AdornOps=set DEG_AuditMessageString "Async Error - DEG could not connect to APNS platform. Message(s) added to batch processing"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/InsertMessageTypeToDb]

ClassName=RuleChain
RuleNames=Initialize
RuleNames=InsertToDb


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/InsertMessageTypeToDb/Initialize]

AdornOps=set DEG_NrbSessionStoreErrorFlagInteger 0
AdornOps=set DEG_APNS_DEL_RETRIES 0
AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set log_DB_Operation "INSERT"
AdornOps=set log_Table_Name "DEG_APNS_MESSAGE_TO_BE_SENT"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/InsertMessageTypeToDb/InsertToDb]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_APNS_PlanPurchaseFlagInteger,=,1
FalseRuleChain=ExtractTriggerType
TrueRuleChain=SetTriggerType
TrueRuleChain=SetResponse
TrueRuleChain=Log
TrueRuleChain=APNSMessageSessionStore


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/InsertMessageTypeToDb/InsertToDb/APNSMessageSessionStore]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=false
DefaultErrorRuleChain=800.LogAPNSMessageSessionStoreError
LogInvalidSession=true
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/InsertMessageTypeToDb/InsertToDb/ExtractTriggerType]

ClassName=ListAttributeIterator
ListAttributeName=DEG_APNS_MessageTypeList
RuleChain=APNSMessageSessionStore
TmpAttributeName=DEG_APNS_TRIGGER_TYPE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/InsertMessageTypeToDb/InsertToDb/ExtractTriggerType/APNSMessageSessionStore]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=false
DefaultErrorRuleChain=800.LogAPNSMessageSessionStoreError
LogInvalidSession=true
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/InsertMessageTypeToDb/InsertToDb/Log]

Attributes=CUST_APN_IN_PlanPurchase_PlanIDString
Attributes=CUST_APN_IN_PlanPurchase_PlanStatusString
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=DEBUG
Message=After creating trigger type string for plan purchase ::: 


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/InsertMessageTypeToDb/InsertToDb/SetResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0019"
AdornOps=set DEG_OEMDevMessageString "String for plan purchase"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/InsertMessageTypeToDb/InsertToDb/SetTriggerType]

AdornOps=copy CUST_APN_IN_PlanPurchase_PlanIDString DEG_APNS_TRIGGER_TYPE
AdornOps=+ DEG_APNS_TRIGGER_TYPE : DEG_APNS_TRIGGER_TYPE
AdornOps=+ DEG_APNS_TRIGGER_TYPE CUST_APN_IN_PlanPurchase_PlanStatusString DEG_APNS_TRIGGER_TYPE
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/Log]

Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Adding messages to batch processing


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/AddingMessagesToBatchProcessing/SetLogInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0018"
AdornOps=set DEG_OEMDevErrorMessageString "Adding messages to batch processing"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/SwitchBladeForBatchProcessing]

ClassName=RuleChain
RuleNames=InitializeDb
RuleNames=Log
RuleNames=UpdateDb
RuleNames=CheckIfErrors


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/SwitchBladeForBatchProcessing/CheckIfErrors]

ClassName=ConditionalRule
Conditions=DEG_NrbSessionStoreErrorFlagInteger,=,0


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/SwitchBladeForBatchProcessing/CheckIfErrors/FalseRule]

AdornOps=set DEG_ReturnCodeString -3
AdornOps=set DEG_AuditMessageString "Async Error - DEG could not connect to APNS platform. Database ERROR - APNS blade could not be switched for batch processing."
AdornOps=copy DEG_AuditMessageString  DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/SwitchBladeForBatchProcessing/CheckIfErrors/TrueRule]

AdornOps=set DEG_ReturnCodeString -2
AdornOps=set DEG_AuditMessageString "Async Error - DEG could not connect to APNS platform. APNS blade switched for batch processing"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/SwitchBladeForBatchProcessing/InitializeDb]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_APNS_MESSAGE_TO_BE_SENT"
AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set DEG_NrbSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0020"
AdornOps=set DEG_OEMDevErrorMessageString "Switching blade on messages to be sent for batch processing"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/SwitchBladeForBatchProcessing/Log]

Attributes=DEG_MDN
ClassName=LogNMERule
LogLevel=INFO
Message=Switching blade on messages to be sent for batch processing


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/302.UpdateDb/SwitchBladeForBatchProcessing/UpdateDb]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=700.SessionStoreDefaultErrorRuleChain
LogInvalidSession=true
MapAttributes=DEG_APNS_TRIGGER_TYPE,DEG_APNS_TRIGGER_TYPE
MapAttributes=DEG_APNS_DEL_RETRIES,DEG_APNS_DEL_RETRIES
MapAttributes=DEG_APNSINTERFACE_INSTANCE,DEG_APNSINTERFACE_INSTANCE
NativeCondition=MatchingSession
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/300.APNSConnectionErrorRuleChain/303.GenerateAPNSProcessingEndAuditData]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_MDN
RuleChain=002.GenerateAPNSEndAuditData
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/400.APNSConnectionSuccessRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=400.SetResponse
RuleNames=401.log


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/400.APNSConnectionSuccessRuleChain/400.SetResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0021"
AdornOps=set DEG_OEMDevMessageString "APNS Connection is Success"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/400.APNSConnectionSuccessRuleChain/401.log]

Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=APNS Connection is Success


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=501.ProcessErrorCode
RuleNames=502.EndErrorAuditDataRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode]

ClassName=SwitchConditionRule
Conditions=DEG_APNS_ErrorStatusInteger,=,0
Conditions=DEG_APNS_ErrorStatusInteger,=,1
Conditions=DEG_APNS_ErrorStatusInteger,=,2
Conditions=DEG_APNS_ErrorStatusInteger,=,3
Conditions=DEG_APNS_ErrorStatusInteger,=,4
Conditions=DEG_APNS_ErrorStatusInteger,=,5
Conditions=DEG_APNS_ErrorStatusInteger,=,6
Conditions=DEG_APNS_ErrorStatusInteger,=,7
Conditions=DEG_APNS_ErrorStatusInteger,=,8
Conditions=DEG_APNS_ErrorStatusInteger,=,10
Conditions=DEG_APNS_ErrorStatusInteger,=,255
INTLERR=InternalError
INTLERR=SetAuditMessage
MFOMSG=MalformedMessage
MFOMSG=SetAuditMessages
NOERR=NoError
Operations=None
TrueRuleChain=NOERR
TrueRuleChain=INTLERR
TrueRuleChain=MFOMSG
TrueRuleChain=MFOMSG
TrueRuleChain=MFOMSG
TrueRuleChain=MFOMSG
TrueRuleChain=MFOMSG
TrueRuleChain=MFOMSG
TrueRuleChain=MFOMSG
TrueRuleChain=INTLERR
TrueRuleChain=UNKNERR
UNKNERR=UnknownError


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError]

ClassName=RuleChain
RuleNames=SetErrorResponse
RuleNames=Log
RuleNames=InitializeError
RuleNames=InsertMessageToDB


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InitializeError]

AdornOps=copy DEG_APNS_ErrorStatusInteger DEG_ReturnCodeString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB]

ClassName=ConditionalRule
Conditions=DEG_APNS_CallFlowString,=,"Real Time"
FalseRuleChain=InitCommon
FalseRuleChain=IncreaseRetries
TrueRuleChain=InitCommon
TrueRuleChain=InsertMessageTypeToDb


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/IncreaseRetries]

ClassName=RuleChain
RuleNames=InitializeUpdateDb
RuleNames=UpdateInDb


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/IncreaseRetries/InitializeUpdateDb]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=+ DEG_APNS_DEL_RETRIES 1 DEG_APNS_DEL_RETRIES
AdornOps=set log_Table_Name "DEG_APNS_MESSAGE_TO_BE_SENT"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/IncreaseRetries/UpdateInDb]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=700.SessionStoreDefaultErrorRuleChain
LogInvalidSession=true
MapAttributes=DEG_MDN,DEG_MDN
MapAttributes=DEG_APNS_TRIGGER_TYPE,DEG_APNS_TRIGGER_TYPE
MapAttributes=DEG_APNSINTERFACE_INSTANCE,DEG_APNSINTERFACE_INSTANCE
MapAttributes=DEG_APNS_DEL_RETRIES,DEG_APNS_DEL_RETRIES
NativeCondition=MatchingSession
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InitCommon]

AdornOps=setifnull DEG_APNS_DEL_RETRIES 0
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb]

ClassName=RuleChain
RuleNames=InitializeDb
RuleNames=InsertToDb


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InitializeDb]

AdornOps=set DEG_APNS_DEL_RETRIES 1
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InsertToDb]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_APNS_PlanPurchaseFlagInteger,=,1
FalseRuleChain=ForTriggerTypes
TrueRuleChain=ForPlanPurchase
TrueRuleChain=Log
TrueRuleChain=APNSMessageSessionStore


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InsertToDb/APNSMessageSessionStore]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=false
DefaultErrorRuleChain=800.LogAPNSMessageSessionStoreError
LogInvalidSession=true
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InsertToDb/ForPlanPurchase]

AdornOps=copy CUST_APN_IN_PlanPurchase_PlanIDString DEG_APNS_TRIGGER_TYPE
AdornOps=+ DEG_APNS_TRIGGER_TYPE : DEG_APNS_TRIGGER_TYPE
AdornOps=+ DEG_APNS_TRIGGER_TYPE CUST_APN_IN_PlanPurchase_PlanStatusString DEG_APNS_TRIGGER_TYPE
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InsertToDb/ForTriggerTypes]

ClassName=ListAttributeIterator
ListAttributeName=DEG_APNS_MessageTypeList
RuleChain=InsertMessageToBeSentToDB
TmpAttributeName=DEG_APNS_TRIGGER_TYPE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InsertToDb/ForTriggerTypes/InsertMessageToBeSentToDB]

ClassName=RuleChain
RuleNames=SetResponse
RuleNames=Log
RuleNames=APNSMessageSessionStore


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InsertToDb/ForTriggerTypes/InsertMessageToBeSentToDB/APNSMessageSessionStore]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=false
DefaultErrorRuleChain=800.LogAPNSMessageSessionStoreError
LogInvalidSession=true
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InsertToDb/ForTriggerTypes/InsertMessageToBeSentToDB/Log]

Attributes=DEG_MDN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_APNSINTERFACE_INSTANCE
Attributes=DEG_APNS_DEL_RETRIES
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Inserting Message To DEG_APNS_MESSAGE_TO_BE_SENT


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InsertToDb/ForTriggerTypes/InsertMessageToBeSentToDB/SetResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0024"
AdornOps=set DEG_OEMDevErrorMessageString "Inserting Message To DEG_APNS_MESSAGE_TO_BE_SENT"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/InsertMessageToDB/InsertMessageTypeToDb/InsertToDb/Log]

Attributes=CUST_APN_IN_PlanPurchase_PlanIDString
Attributes=CUST_APN_IN_PlanPurchase_PlanStatusString
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_APNSINTERFACE_INSTANCE
Attributes=DEG_APNS_DEL_RETRIES
Attributes=DEG_MDN
ClassName=LogNMERule
LogLevel=INFO
Message=After creating trigger type string for plan purchase ::: 


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/Log]

Attributes=DEG_MDN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_APNS_ErrorStatusInteger
Attributes=DEG_APNS_CallFlowString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=ERROR
Message=INTERNAL ERROR


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/InternalError/SetErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0023"
AdornOps=set DEG_OEMDevErrorMessageString "INTERNAL ERROR"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage]

ClassName=RuleChain
RuleNames=SetErrorResponse
RuleNames=Log
RuleNames=DeleteMessageTypeFromDB


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/DeleteMessageTypeFromDB]

ClassName=ConditionalRule
Conditions=DEG_APNS_CallFlowString,=,"Batch"


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/DeleteMessageTypeFromDB/FalseRule]

AdornOps=copy DEG_APNS_ErrorStatusInteger DEG_ReturnCodeString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/DeleteMessageTypeFromDB/TrueRule]

ClassName=RuleChain
RuleNames=InitializeDb
RuleNames=DeleteFromMessagesToBeSent
RuleNames=CheckIfErrors


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/DeleteMessageTypeFromDB/TrueRule/CheckIfErrors]

ClassName=ConditionalRule
Conditions=DEG_NrbSessionStoreErrorFlagInteger,=,0


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/DeleteMessageTypeFromDB/TrueRule/CheckIfErrors/FalseRule]

AdornOps=set DEG_AuditMessageString "DEG sent MALFORMED message to APNS platform. ERROR while attempting to delete message(s): "
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/DeleteMessageTypeFromDB/TrueRule/CheckIfErrors/TrueRule]

AdornOps=copy DEG_APNS_ErrorStatusInteger DEG_ReturnCodeString
AdornOps=set DEG_AuditMessageString "DEG sent MALFORMED message to APNS platform. Message(s): "
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/DeleteMessageTypeFromDB/TrueRule/DeleteFromMessagesToBeSent]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=700.SessionStoreDefaultErrorRuleChain
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/DeleteMessageTypeFromDB/TrueRule/InitializeDb]

AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_APNS_MESSAGE_TO_BE_SENT"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/Log]

Attributes=DEG_MDN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_APNS_ErrorStatusInteger
Attributes=DEG_APNS_CallFlowString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=WARNING
Message=APNS Message error:


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/MalformedMessage/SetErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0026"
AdornOps=set DEG_OEMDevErrorMessageString "APNS Message error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/NoError]

ClassName=RuleChain
RuleNames=SetResponse
RuleNames=Log


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/NoError/Log]

Attributes=DEG_ReturnCodeString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=NO ERROR


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/NoError/SetResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0022"
AdornOps=set DEG_OEMDevMessageString "NO ERROR"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessage]

ClassName=ConditionalRule
Conditions=DEG_APNS_ErrorStatusInteger,=,1
FalseRuleChain=SetAPNSShutdownAuditMessage
TrueRuleChain=SetInternalErrorAuditMessage


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessage/SetAPNSShutdownAuditMessage]

AdornOps=set DEG_AuditMessageString "Sending error response: DEG lost connection because of APN gateway shutdown"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessage/SetInternalErrorAuditMessage]

AdornOps=set DEG_AuditMessageString "Sending error response: Internal server error"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessages]

ClassName=SwitchConditionRule
Conditions=DEG_APNS_ErrorStatusInteger,=,2
Conditions=DEG_APNS_ErrorStatusInteger,=,3
Conditions=DEG_APNS_ErrorStatusInteger,=,4
Conditions=DEG_APNS_ErrorStatusInteger,=,5
Conditions=DEG_APNS_ErrorStatusInteger,=,6
Conditions=DEG_APNS_ErrorStatusInteger,=,7
Conditions=DEG_APNS_ErrorStatusInteger,=,8
Operations=None
SetInvalidAPNSTopicSizeMessage=500.SetInvalidAPNSTopicSizeMessage
SetInvalidPayloadSizeMessage=600.SetInvalidPayloadSizeMessage
SetInvalidTokenMessage=700.SetInvalidTokenMessage
SetInvalidTokenSizeMessage=400.SetInvalidTokenSizeMessage
SetMissingAPNSTopicMessage=200.SetMissingAPNSTopicMessage
SetMissingDeviceTokenMessage=100.SetMissingDeviceTokenMessage
SetMissingPayloadMessage=300.SetMissingPayloadMessage
TrueRuleChain=SetMissingDeviceTokenMessage
TrueRuleChain=SetMissingAPNSTopicMessage
TrueRuleChain=SetMissingPayloadMessage
TrueRuleChain=SetInvalidTokenSizeMessage
TrueRuleChain=SetInvalidAPNSTopicSizeMessage
TrueRuleChain=SetInvalidPayloadSizeMessage
TrueRuleChain=SetInvalidTokenMessage


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessages/100.SetMissingDeviceTokenMessage]

AdornOps=set DEG_AuditMessageString "Sending error response: message does not contain device token"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessages/200.SetMissingAPNSTopicMessage]

AdornOps=set DEG_AuditMessageString "Sending error response: message does not contain topic"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessages/300.SetMissingPayloadMessage]

AdornOps=set DEG_AuditMessageString "Sending error response: message does not contain payload"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessages/400.SetInvalidTokenSizeMessage]

AdornOps=set DEG_AuditMessageString "Sending error response: message has invalid token size"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessages/500.SetInvalidAPNSTopicSizeMessage]

AdornOps=set DEG_AuditMessageString "Sending error response: message has invalid topic size"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessages/600.SetInvalidPayloadSizeMessage]

AdornOps=set DEG_AuditMessageString "Sending error response: message has invalid payload size"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/SetAuditMessages/700.SetInvalidTokenMessage]

AdornOps=set DEG_AuditMessageString "Sending error response: message contains invalid token"
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError]

ClassName=RuleChain
RuleNames=SetLogInfo
RuleNames=Log
RuleNames=DeleteMessageTypeFromDB


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/DeleteMessageTypeFromDB]

ClassName=ConditionalRule
Conditions=DEG_APNS_CallFlowString,=,"Batch"


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/DeleteMessageTypeFromDB/FalseRule]

AdornOps=copy DEG_APNS_ErrorStatusInteger DEG_ReturnCodeString
AdornOps=set DEG_AuditMessageString "Unknown Error "
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/DeleteMessageTypeFromDB/TrueRule]

ClassName=RuleChain
RuleNames=InitializeDb
RuleNames=DeleteFromMessagesToBeSent
RuleNames=CheckIfErrors


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/DeleteMessageTypeFromDB/TrueRule/CheckIfErrors]

ClassName=ConditionalRule
Conditions=DEG_NrbSessionStoreErrorFlagInteger,=,0


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/DeleteMessageTypeFromDB/TrueRule/CheckIfErrors/FalseRule]

AdornOps=set DEG_AuditMessageString "DEG sent MALFORMED message to APNS platform. ERROR while attempting to delete message(s):  "
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/DeleteMessageTypeFromDB/TrueRule/CheckIfErrors/TrueRule]

AdornOps=set DEG_AuditMessageString "DEG sent MALFORMED message to APNS platform. Message(s): "
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/DeleteMessageTypeFromDB/TrueRule/DeleteFromMessagesToBeSent]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=700.SessionStoreDefaultErrorRuleChain
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/DeleteMessageTypeFromDB/TrueRule/InitializeDb]

AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_APNS_MESSAGE_TO_BE_SENT"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/Log]

Attributes=DEG_MDN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_APNS_ErrorStatusInteger
Attributes=DEG_APNS_CallFlowString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=WARNING
Message=APNS Message error:


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/501.ProcessErrorCode/UnknownError/SetLogInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0027"
AdornOps=set DEG_OEMDevErrorMessageString "APNS Message error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/500.APNSErrorResponseRuleChain/502.EndErrorAuditDataRuleChain]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_MDN
RuleChain=002.GenerateAPNSEndAuditData
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=600.SetLogInfo
RuleNames=601.log
RuleNames=602.DeleteMessageTypeFromDb
RuleNames=603.GenerateAPNSProcessingEndAuditData


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/600.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0028"
AdornOps=set DEG_OEMDevMessageString "Message pushed to device successfully"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/601.log]

Attributes=DEG_MDN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_APNS_ErrorStatusInteger
Attributes=DEG_APNS_CallFlowString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Message pushed to device successfully


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/602.DeleteMessageTypeFromDb]

ClassName=ConditionalRule
Conditions=DEG_APNS_CallFlowString,=,"Batch"


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/602.DeleteMessageTypeFromDb/FalseRule]

AdornOps=set DEG_ReturnCodeString 100
AdornOps=set DEG_AuditMessageString "Message(s) pushed to device successfully."
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/602.DeleteMessageTypeFromDb/TrueRule]

ClassName=RuleChain
RuleNames=InitializeDb
RuleNames=DeleteFromMessagesToBeSent
RuleNames=CheckIfErrors


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/602.DeleteMessageTypeFromDb/TrueRule/CheckIfErrors]

ClassName=ConditionalRule
Conditions=DEG_NrbSessionStoreErrorFlagInteger,=,0


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/602.DeleteMessageTypeFromDb/TrueRule/CheckIfErrors/FalseRule]

AdornOps=set DEG_ReturnCodeString -3
AdornOps=set DEG_AuditMessageString "APNS platform pushed message type: "
AdornOps=+ DEG_AuditMessageString DEG_APNS_MESSAGE_TYPE DEG_AuditMessageString
AdornOps=set DEG_Tmp1String " successfully.  ERROR while attempting to delete from messages to be sent."
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String  DEG_AuditMessageString
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/602.DeleteMessageTypeFromDb/TrueRule/CheckIfErrors/TrueRule]

AdornOps=set DEG_ReturnCodeString 100
AdornOps=set DEG_AuditMessageString "APNS platform pushed message type: "
AdornOps=+ DEG_AuditMessageString DEG_APNS_MESSAGE_TYPE DEG_AuditMessageString
AdornOps=set DEG_Tmp1String " successfully. Message deleted from messages to be sent."
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String  DEG_AuditMessageString
AdornOps=copy DEG_AuditMessageString DEG_ReturnMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/602.DeleteMessageTypeFromDb/TrueRule/DeleteFromMessagesToBeSent]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=700.SessionStoreDefaultErrorRuleChain
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/602.DeleteMessageTypeFromDb/TrueRule/InitializeDb]

AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_APNS_MESSAGE_TO_BE_SENT"
AdornOps=set DEG_NrbSessionStoreErrorFlagInteger 0
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/600.APNSSuccessResponseRuleChain/603.GenerateAPNSProcessingEndAuditData]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_MDN
RuleChain=002.GenerateAPNSEndAuditData
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/700.SessionStoreDefaultErrorRuleChain]

ClassName=RuleChain
RuleNames=SetSystemErrorFlag
RuleNames=SetDBErrorCode
RuleNames=LogAlarming


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/700.SessionStoreDefaultErrorRuleChain/LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=CRITICAL
Message=Database Error:


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/700.SessionStoreDefaultErrorRuleChain/SetDBErrorCode]

AdornOps=set DEG_ReturnCodeString -3
AdornOps=set DEG_ReturnMessageString "Internal Error at the server."
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0029"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/700.SessionStoreDefaultErrorRuleChain/SetSystemErrorFlag]

AdornOps=set DEG_NrbSessionStoreErrorFlagInteger 1
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/800.LogAPNSMessageSessionStoreError]

ClassName=RuleChain
RuleNames=801.SetSystemErrorFlag
RuleNames=802.LogAPNSMessageSessionStoreError


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/800.LogAPNSMessageSessionStoreError/801.SetSystemErrorFlag]

AdornOps=set DEG_NrbSessionStoreErrorFlagInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0025"
AdornOps=set DEG_OEMDevErrorMessageString "Message could not be inserted to DEG_APNS_MESSAGE_TO_BE_SENT table"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/800.LogAPNSMessageSessionStoreError/802.LogAPNSMessageSessionStoreError]

Attributes=DEG_MDN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_APNSINTERFACE_INSTANCE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Message could not be inserted to DEG_APNS_MESSAGE_TO_BE_SENT table


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/900.Batch_ManualPushNotificationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=Initialize
RuleNames=Log
RuleNames=ProcessMessagesToBeSent


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/900.Batch_ManualPushNotificationRuleChain/Initialize]

AdornOps=set DEG_APNSINTERFACE_INSTANCE ${APNS_HOST_NAME}
AdornOps=set DEG_APNS_CallFlowString "Batch"
AdornOps=set DEG_APNS_ErrorStatusInteger 0
AdornOps=set DEG_AuditMessageString "Processing Batch/Manual Push Notification"
AdornOps=copy DEG_AuditMessageString DEG_AuditNRBMessageString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0000"
AdornOps=set DEG_OEMDevMessageString "Batch / Manual Processing Start"
AdornOps=set DEG_AuditTransactionTypeString "APNSBatchMessage"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/900.Batch_ManualPushNotificationRuleChain/Log]

Attributes=DEG_APNSINTERFACE_INSTANCE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Batch / Manual Processing Start


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/900.Batch_ManualPushNotificationRuleChain/ProcessMessagesToBeSent]

ClassName=RefDataLookupRule
QueryName=DEG_APNS_MESSAGE_TO_BE_SENT_BatchManualProcessing


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain]

ClassName=RuleChain
RuleNames=Init
RuleNames=InitForPlanPurchase
RuleNames=SetResponse
RuleNames=Log
RuleNames=GetActiveMonitoringSessions
RuleNames=001.GenerateAPNSStartAuditData
RuleNames=ProcessResultRow
RuleNames=Delay


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/001.GenerateAPNSStartAuditData]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_MDN
RuleChain=001.GenerateAPNSStartAuditData
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/Delay]

ClassName=SleepRule
SleepTime=333


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/GetActiveMonitoringSessions]

ClassName=RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/Init]

AdornOps=setsystime DEG_EventTimeStampLong
AdornOps=set DEG_NrbMatchFoundInteger 1
AdornOps=set DEG_APNS_MessageFoundFlagInteger 1
AdornOps=copy DEG_MDN DEG_MSESSIONKEY
AdornOps=copy DEG_MDN CUST_APN_IN_MDNLong
AdornOps=copy DEG_APNS_TRIGGER_TYPE CUST_APN_IN_TriggerTypeString
AdornOps=copy DEG_APNS_TOPIC CUST_APN_IN_TopicString
AdornOps=copy DEG_IMSI CUST_APN_IN_IMSIString
AdornOps=copy DEG_APNS_TOKEN CUST_APN_IN_TokenString
AdornOps=copy DEG_UNIQUE_ID CUST_APN_IN_UniqueIdString
AdornOps=set DEG_APNS_PlanPurchaseArrayIndexInteger -1
AdornOps=set CUST_APN_IN_PlanPurchaseFlagInteger 0
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/InitForPlanPurchase]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=CUST_APN_IN_TriggerTypeString,contains,":"
TrueRuleChain=SetFlag
TrueRuleChain=ExtractFromTriggerType


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/InitForPlanPurchase/ExtractFromTriggerType]

ClassName=StringTokenizerRule
Delimiter=:
SourceAttribute=CUST_APN_IN_TriggerTypeString
TokenAttribute=DEG_PlanPurchaseTmpString


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/InitForPlanPurchase/ExtractFromTriggerType/IterationRule]

ClassName=RuleChain
RuleNames=100.IncrementIndex
RuleNames=101.Log
RuleNames=110.CheckIndex


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/InitForPlanPurchase/ExtractFromTriggerType/IterationRule/100.IncrementIndex]

AdornOps=+ DEG_APNS_PlanPurchaseArrayIndexInteger 1 DEG_APNS_PlanPurchaseArrayIndexInteger
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/InitForPlanPurchase/ExtractFromTriggerType/IterationRule/101.Log]

Attributes=DEG_APNS_PlanPurchaseArrayIndexInteger
Attributes=DEG_PlanPurchaseTmpString
Attributes=CUST_APN_IN_TriggerTypeString
ClassName=LogNMERule
LogLevel=DEBUG
Message=Inside StringTokenizer for Plan Purchase : : : 


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/InitForPlanPurchase/ExtractFromTriggerType/IterationRule/110.CheckIndex]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_APNS_PlanPurchaseArrayIndexInteger,=,0
FalseRuleChain=CopyPlanStatus
TrueRuleChain=CopyPlanID


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/InitForPlanPurchase/ExtractFromTriggerType/IterationRule/110.CheckIndex/CopyPlanID]

AdornOps=copy DEG_PlanPurchaseTmpString CUST_APN_IN_PlanPurchase_PlanIDString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/InitForPlanPurchase/ExtractFromTriggerType/IterationRule/110.CheckIndex/CopyPlanStatus]

AdornOps=copy DEG_PlanPurchaseTmpString CUST_APN_IN_PlanPurchase_PlanStatusString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/InitForPlanPurchase/SetFlag]

AdornOps=set CUST_APN_IN_PlanPurchaseFlagInteger 1
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/Log]

Attributes=CUST_APN_IN_MDNLong
Attributes=CUST_APN_IN_TriggerTypeString
Attributes=CUST_APN_IN_TopicString
Attributes=CUST_APN_IN_IMSIString
Attributes=CUST_APN_IN_TokenString
Attributes=CUST_APN_IN_UniqueIdString
Attributes=CUST_APN_IN_PlanPurchase_PlanIDString
Attributes=CUST_APN_IN_PlanPurchase_PlanStatusString
Attributes=CUST_APN_IN_PlanPurchaseFlagInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Batch/Manual Processing: Sending message to APNS 


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow]

ClassName=ConditionalRule
Conditions=DEG_APNS_DEL_RETRIES,>=,5


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule]

ClassName=RuleChain
RuleNames=CheckHostName


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule/CheckHostName]

ClassName=ConditionalRule
Conditions=DEG_APNSINTERFACE_INSTANCE,=,${APNS_HOST_NAME}


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule/CheckHostName/FalseRule]

ClassName=RuleChain
RuleNames=SetLogInfo
RuleNames=Log


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule/CheckHostName/FalseRule/Log]

Attributes=DEG_APNSINTERFACE_INSTANCE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=DEBUG
Message=The Message Does Not Belongs To This Host


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule/CheckHostName/FalseRule/SetLogInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0036"
AdornOps=set DEG_OEMDevErrorMessageString "The Message Does Not Belongs To This Host"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule/CheckHostName/TrueRule]

ClassName=RuleChain
RuleNames=SetResponse
RuleNames=Log
RuleNames=Init
RuleNames=InvokeSendToAPNSPlatformRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule/CheckHostName/TrueRule/Init]

AdornOps=setifnull DEG_APNS_TRIGGER_TYPE "Error obtaining message type!"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule/CheckHostName/TrueRule/InvokeSendToAPNSPlatformRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_Apple_APNS_SendNotification
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule/CheckHostName/TrueRule/Log]

Attributes=CUST_APN_IN_MDNLong
Attributes=CUST_APN_IN_TriggerTypeString
Attributes=CUST_APN_IN_TopicString
Attributes=CUST_APN_IN_IMSIString
Attributes=CUST_APN_IN_TokenString
Attributes=CUST_APN_IN_UniqueIdString
Attributes=DEG_APNS_DEL_RETRIES
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Batch/Manual Processing


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/FalseRule/CheckHostName/TrueRule/SetResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0037"
AdornOps=set DEG_OEMDevMessageString "Batch/Manual Processing"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/TrueRule]

ClassName=RuleChain
RuleNames=SetResponse
RuleNames=Log
RuleNames=InitDb
RuleNames=DeleteFromMessagesToBeSent
RuleNames=CheckForErrors


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/TrueRule/CheckForErrors]

ClassName=ConditionalRule
Conditions=DEG_NrbSessionStoreErrorFlagInteger,=,0


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/TrueRule/CheckForErrors/FalseRule]

AdornOps=set DEG_AuditMessageString " Message type "
AdornOps=+ DEG_AuditMessageString DEG_APNS_MESSAGE_TYPE DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String  DEG_AuditMessageString
AdornOps=+ DEG_ReturnMessageString DEG_AuditMessageString DEG_ReturnMessageString
AdornOps=set DEG_Tmp1String " could NOT be deleted from messages to be sent after 5 unsuccessful delivery attempts to APNS platform."
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/TrueRule/CheckForErrors/TrueRule]

AdornOps=set DEG_AuditNRBMessageString "Message: "
AdornOps=+ DEG_AuditNRBMessageString DEG_APNS_MESSAGE_TYPE DEG_AuditNRBMessageString
AdornOps=set DEG_ReturnCodeString 0
AdornOps=set DEG_Tmp1String " deleted from messages to be sent after 5 unsuccessful delivery attempts to APNS platform."
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String  DEG_AuditNRBMessageString
AdornOps=copy DEG_AuditNRBMessageString DEG_AuditMessageString
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/TrueRule/DeleteFromMessagesToBeSent]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=700.SessionStoreDefaultErrorRuleChain
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_STORE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/TrueRule/InitDb]

AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_APNS_MESSAGE_TO_BE_SENT"
AdornOps=set DEG_NrbSessionStoreErrorFlagInteger 0
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/TrueRule/Log]

Attributes=CUST_APN_IN_MDNLong
Attributes=CUST_APN_IN_TriggerTypeString
Attributes=CUST_APN_IN_TopicString
Attributes=CUST_APN_IN_IMSIString
Attributes=CUST_APN_IN_TokenString
Attributes=CUST_APN_IN_UniqueIdString
Attributes=DEG_APNS_DEL_RETRIES
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Batch/Manual Processing attempted to send message to APNS 5 times. Deleting following message from DEG_APNS_MESSAGE_TO_BE_SENT


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/ProcessResultRow/TrueRule/SetResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0035"
AdornOps=set DEG_OEMDevErrorMessageString "Batch/Manual Processing attempted to send message to APNS 5 times. Deleting following message from DEG_APNS_MESSAGE_TO_BE_SENT"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/901.ProcessExtractedBatchRecordRuleChain/SetResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0034"
AdornOps=set DEG_OEMDevMessageString "Batch/Manual Processing: Sending message to APNS"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Initialize
RuleNames=100.CheckPushNotificationsStatus


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=CheckCallFlowString
RuleNames=110.StartRealTimePushNotification


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=Init
RuleNames=090.SetErrorResponse
RuleNames=102.Logging
RuleNames=GetActiveMonitoringSessions
RuleNames=001.GenerateAPNSStartAuditData
RuleNames=101.AddToList
RuleNames=103.IdentifyTopic


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/001.GenerateAPNSStartAuditData]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_MDN
RuleChain=001.GenerateAPNSStartAuditData
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/002.GenerateAPNSEndAuditData]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_MDN
RuleChain=002.GenerateAPNSEndAuditData
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/090.SetErrorResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0001"
AdornOps=set DEG_OEMDevMessageString "Recieved Attributes to Generate Push Notification"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/101.AddToList]

ClassName=AddToListAttributeRule
InputAttribute=DEG_APNS_TRIGGER_TYPE
ListAttribute=DEG_APNS_MessageTypeList


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/102.Logging]

Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_APNS_TOPIC
Attributes=DEG_APNS_TOKEN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_UNIQUE_ID
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Recieved Attributes to Generate Push Notification


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic]

CAMBIOUSER=CambioUsersRealTimePushNotificationRuleChain
CarrierSpace=CarrierSpaceRealTimePushNotificationRuleChain
ClassName=SwitchConditionRule
Conditions=DEG_APNS_TOPIC,=,Entitlements
Conditions=DEG_APNS_TOPIC,=,Cambio
Conditions=DEG_APNS_TOPIC,=,VoWiFi
Conditions=DEG_APNS_TOPIC,=,iCloudVoWiFi
Conditions=DEG_APNS_TOPIC,=,Multi-SIM
Conditions=DEG_APNS_TOPIC,=,CarrierSpace
ENTITLEMENT=EntitlementsRealTimePushNotificationRuleChain
iCloudVoWiFi=iCloudVoWiFiRealTimePushNotificationRuleChain
Multi-SIM=Multi-SIMRealTimePushNotificationRuleChain
Operations=None
TrueRuleChain=ENTITLEMENT
TrueRuleChain=CAMBIOUSER
TrueRuleChain=VOWIFI
TrueRuleChain=iCloudVoWiFi
TrueRuleChain=Multi-SIM
TrueRuleChain=CarrierSpace
VOWIFI=VoWiFiRealTimePushNotificationRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CambioUsersRealTimePushNotificationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=SetResponse
RuleNames=Logging
RuleNames=NMEConversionRule
RuleNames=InvokeAPNSOperation
RuleNames=AsyncLookupRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CambioUsersRealTimePushNotificationRuleChain/AsyncLookupRule]

ClassName=AsynchronousLookupRule
ConnectorName=600.CambioAPNSConnector
ErrorCodeAttribute=DEG_APNS_ErrorStatusString
ErrorMessageAttribute=DEG_APNS_ErrorMessageString
ErrorRuleChain=300.APNSConnectionErrorRuleChain
SuccessRuleChain=400.APNSConnectionSuccessRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CambioUsersRealTimePushNotificationRuleChain/InvokeAPNSOperation]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_APNS_TRIGGER_TYPE
RequestAttributes=DEG_APNS_DeviceTokenBinary
ResponseAttributes=JsonString
RuleChain=200.SendToAPNSRuleChain
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CambioUsersRealTimePushNotificationRuleChain/Logging]

Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_APNS_TOPIC
Attributes=DEG_APNS_TOKEN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Cambio Push Notification


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CambioUsersRealTimePushNotificationRuleChain/NMEConversionRule]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
SNMEType=APNSFormat:ApplePushNotificationMessage


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CambioUsersRealTimePushNotificationRuleChain/SetResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0009"
AdornOps=set DEG_OEMDevMessageString "Cambio Push Notification"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CarrierSpaceRealTimePushNotificationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=SetErrorResponse
RuleNames=Logging
RuleNames=NMEConversionRule
RuleNames=InvokeAPNSOperation
RuleNames=AsyncLookupRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CarrierSpaceRealTimePushNotificationRuleChain/AsyncLookupRule]

ClassName=AsynchronousLookupRule
ConnectorName=960.SweetGumConnector
ErrorCodeAttribute=DEG_APNS_ErrorStatusString
ErrorMessageAttribute=DEG_APNS_ErrorMessageString
ErrorRuleChain=300.APNSConnectionErrorRuleChain
SuccessRuleChain=400.APNSConnectionSuccessRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CarrierSpaceRealTimePushNotificationRuleChain/InvokeAPNSOperation]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_APNS_TRIGGER_TYPE
RequestAttributes=DEG_APNS_DeviceTokenBinary
ResponseAttributes=JsonString
RuleChain=200.SendToAPNSRuleChain
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CarrierSpaceRealTimePushNotificationRuleChain/Logging]

Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_APNS_TOPIC
Attributes=DEG_APNS_TOKEN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_APNS_PlanPurchase_PlanIDString
Attributes=DEG_APNS_PlanPurchase_PlanStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=CarrierSpace Push Notification


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CarrierSpaceRealTimePushNotificationRuleChain/NMEConversionRule]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
SNMEType=APNSFormat:ApplePushNotificationMessage


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/CarrierSpaceRealTimePushNotificationRuleChain/SetErrorResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0002"
AdornOps=set DEG_OEMDevMessageString "CarrierSpace Push Notification"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/EntitlementsRealTimePushNotificationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=SetResponse
RuleNames=Logging
RuleNames=NMEConversionRule
RuleNames=InvokeAPNSOperation
RuleNames=AsyncLookupRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/EntitlementsRealTimePushNotificationRuleChain/AsyncLookupRule]

ClassName=AsynchronousLookupRule
ConnectorName=700.EntitlementAPNSConnector
ErrorCodeAttribute=DEG_APNS_ErrorStatusString
ErrorMessageAttribute=DEG_APNS_ErrorMessageString
ErrorRuleChain=300.APNSConnectionErrorRuleChain
SuccessRuleChain=400.APNSConnectionSuccessRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/EntitlementsRealTimePushNotificationRuleChain/InvokeAPNSOperation]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_APNS_TRIGGER_TYPE
RequestAttributes=DEG_APNS_DeviceTokenBinary
ResponseAttributes=JsonString
RuleChain=200.SendToAPNSRuleChain
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/EntitlementsRealTimePushNotificationRuleChain/Logging]

Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_APNS_TOPIC
Attributes=DEG_APNS_TOKEN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=CUST_APN_IN_UniqueIdString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Entitlement Push Notification


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/EntitlementsRealTimePushNotificationRuleChain/NMEConversionRule]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
SNMEType=APNSFormat:ApplePushNotificationMessage


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/EntitlementsRealTimePushNotificationRuleChain/SetResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0008"
AdornOps=set DEG_OEMDevMessageString "Entitlement Push Notification"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/iCloudVoWiFiRealTimePushNotificationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=SetResponse
RuleNames=Logging
RuleNames=NMEConversionRule
RuleNames=InvokeAPNSOperation
RuleNames=AsyncLookupRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/iCloudVoWiFiRealTimePushNotificationRuleChain/AsyncLookupRule]

ClassName=AsynchronousLookupRule
ConnectorName=900.iCloudVoWiFiConnector
ErrorCodeAttribute=DEG_APNS_ErrorStatusString
ErrorMessageAttribute=DEG_APNS_ErrorMessageString
ErrorRuleChain=300.APNSConnectionErrorRuleChain
SuccessRuleChain=400.APNSConnectionSuccessRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/iCloudVoWiFiRealTimePushNotificationRuleChain/InvokeAPNSOperation]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_APNS_TRIGGER_TYPE
RequestAttributes=DEG_APNS_DeviceTokenBinary
ResponseAttributes=JsonString
RuleChain=200.SendToAPNSRuleChain
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/iCloudVoWiFiRealTimePushNotificationRuleChain/Logging]

Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_APNS_TOPIC
Attributes=DEG_APNS_TOKEN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=iCloudVoWiFi Push Notification


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/iCloudVoWiFiRealTimePushNotificationRuleChain/NMEConversionRule]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
SNMEType=APNSFormat:ApplePushNotificationMessage


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/iCloudVoWiFiRealTimePushNotificationRuleChain/SetResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0007"
AdornOps=set DEG_OEMDevMessageString "iCloudVoWiFi Push Notification"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/Multi-SIMRealTimePushNotificationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=SetErrorResponse
RuleNames=Logging
RuleNames=NMEConversionRule
RuleNames=InvokeAPNSOperation
RuleNames=AsyncLookupRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/Multi-SIMRealTimePushNotificationRuleChain/AsyncLookupRule]

ClassName=AsynchronousLookupRule
ConnectorName=950.Multi-SimConnector
ErrorCodeAttribute=DEG_APNS_ErrorStatusString
ErrorMessageAttribute=DEG_APNS_ErrorMessageString
ErrorRuleChain=300.APNSConnectionErrorRuleChain
SuccessRuleChain=400.APNSConnectionSuccessRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/Multi-SIMRealTimePushNotificationRuleChain/InvokeAPNSOperation]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_APNS_TRIGGER_TYPE
RequestAttributes=DEG_APNS_DeviceTokenBinary
ResponseAttributes=JsonString
RuleChain=200.SendToAPNSRuleChain
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/Multi-SIMRealTimePushNotificationRuleChain/Logging]

Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_APNS_TOPIC
Attributes=DEG_APNS_TOKEN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Multi-SIM Push Notification


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/Multi-SIMRealTimePushNotificationRuleChain/NMEConversionRule]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
SNMEType=APNSFormat:ApplePushNotificationMessage


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/Multi-SIMRealTimePushNotificationRuleChain/SetErrorResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0003"
AdornOps=set DEG_OEMDevMessageString "Multi-SIM Push Notification"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=CUST_APN_IN_PushNotificationStatus,=,6100
FalseRuleChain=111.SetErrorResponse
FalseRuleChain=100.LogDisabledRuleChain
TrueRuleChain=010.SetErrorResponse
TrueRuleChain=100.LogEnabledRuleChain
TrueRuleChain=110.SendVoWiFiRealTimeNotification


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/010.SetErrorResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0005"
AdornOps=set DEG_OEMDevMessageString "Push Notification is Enabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/100.LogDisabledRuleChain]

Attributes=DEG_PUSH_NOTIFICATION_STATUS
Attributes=DEG_IMSI
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Push Notification is Disabled :


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/100.LogEnabledRuleChain]

Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_PUSH_NOTIFICATION_STATUS
Attributes=DEG_IMSI
ClassName=LogNMERule
LogLevel=INFO
Message=Push Notification is Enabled :


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/110.SendVoWiFiRealTimeNotification]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=SetErrorResponse
RuleNames=Logging
RuleNames=NMEConversionRule
RuleNames=InvokeAPNSOperation
RuleNames=AsyncLookupRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/110.SendVoWiFiRealTimeNotification/AsyncLookupRule]

ClassName=AsynchronousLookupRule
ConnectorName=500.VoWIFIAPNSConnector
ErrorCodeAttribute=DEG_APNS_ErrorStatusString
ErrorMessageAttribute=DEG_APNS_ErrorMessageString
ErrorRuleChain=300.APNSConnectionErrorRuleChain
SuccessRuleChain=400.APNSConnectionSuccessRuleChain


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/110.SendVoWiFiRealTimeNotification/InvokeAPNSOperation]

ClassName=LocalRuleChainInvoker
RequestAttributes=DEG_APNS_TRIGGER_TYPE
RequestAttributes=DEG_APNS_DeviceTokenBinary
ResponseAttributes=JsonString
RuleChain=200.SendToAPNSRuleChain
UseRuleChainManagerPool=true


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/110.SendVoWiFiRealTimeNotification/Logging]

Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_APNS_TOPIC
Attributes=DEG_APNS_TOKEN
Attributes=DEG_APNS_TRIGGER_TYPE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=VoWiFi Push Notification


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/110.SendVoWiFiRealTimeNotification/NMEConversionRule]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
SNMEType=APNSFormat:ApplePushNotificationMessage


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/110.SendVoWiFiRealTimeNotification/SetErrorResponse]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.APNS.0006"
AdornOps=set DEG_OEMDevMessageString "VoWiFi Push Notification"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/103.IdentifyTopic/VoWiFiRealTimePushNotificationRuleChain/111.SetErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.APNS.0004"
AdornOps=set DEG_OEMDevErrorMessageString "Push Notification is Disabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions]

ClassName=RuleChain
RuleNames=GetActiveMonitoringSessionsByMDN
RuleNames=GetActiveMonitoringSessionsByIMSI
RuleNames=GetActiveMonitoringSessionsByUniqueID


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions/GetActiveMonitoringSessionsByIMSI]

ClassName=RuleChain
RuleNames=100.Initialize
RuleNames=200.Query


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions/GetActiveMonitoringSessionsByIMSI/100.Initialize]

AdornOps=copy CUST_APN_IN_IMSIString DEG_MSESSIONKEY
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions/GetActiveMonitoringSessionsByIMSI/200.Query]

ClassName=RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions/GetActiveMonitoringSessionsByMDN]

ClassName=RuleChain
RuleNames=100.Initialize
RuleNames=200.Query


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions/GetActiveMonitoringSessionsByMDN/100.Initialize]

AdornOps=copy CUST_APN_IN_MDNLong DEG_MSESSIONKEY
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions/GetActiveMonitoringSessionsByMDN/200.Query]

ClassName=RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions/GetActiveMonitoringSessionsByUniqueID]

ClassName=RuleChain
RuleNames=100.Initialize
RuleNames=200.Query


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions/GetActiveMonitoringSessionsByUniqueID/100.Initialize]

AdornOps=copy DEG_UNIQUE_ID DEG_MSESSIONKEY
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/GetActiveMonitoringSessions/GetActiveMonitoringSessionsByUniqueID/200.Query]

ClassName=RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/110.StartRealTimePushNotification/Init]

AdornOps=decBase64 DEG_APNS_TOKEN DEG_APNS_DeviceTokenBinary
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=setifnull DEG_APNS_MessageTypeString ""
AdornOps=set DEG_AuditMessageString "Send Push Notification to APNS platform for message(s): "
AdornOps=+ DEG_AuditMessageString DEG_APNS_MessageTypeString DEG_AuditMessageString
AdornOps=copy DEG_AuditMessageString DEG_AuditNRBMessageString
AdornOps=set DEG_AuditTransactionTypeString "APNSRealTimeMessage"
AdornOps=set DEG_APNS_ErrorStatusInteger 0
AdornOps=copy DEG_APNS_CallFlowString DEG_APNS_CallFlowString
AdornOps=setsystime DEG_EventTimeStampLong
AdornOps=set DEG_APNS_MessageTypeList null
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/CheckCallFlowString]

ClassName=ConditionalRule
Conditions=DEG_APNS_CallFlowString,=,""
Conditions=DEG_APNS_CallFlowString,!=,"Batch"
FalseRuleChain=SetBatch
Operations=or
TrueRuleChain=SetRealTime


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/CheckCallFlowString/SetBatch]

AdornOps=set DEG_APNS_CallFlowString "Batch"
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.CheckPushNotificationsStatus/CheckCallFlowString/SetRealTime]

AdornOps=set DEG_APNS_CallFlowString "Real Time"
AdornOps=setsystime DEG_APNS_MSG_CREATED_DATE
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/RuleChains/CUSTRC_Apple_APNS_SendNotification/100.Initialize]

AdornOps=copy CUST_APN_IN_UniqueIdString DEG_UNIQUE_ID
AdornOps=copy CUST_APN_IN_MDNLong DEG_MDN
AdornOps=copy CUST_APN_IN_IMSIString DEG_IMSI
AdornOps=copy CUST_APN_IN_TopicString DEG_APNS_TOPIC
AdornOps=copy CUST_APN_IN_TokenString DEG_APNS_TOKEN
AdornOps=setifnull CUST_APN_IN_PlanPurchaseFlagInteger 0
AdornOps=setifnull CUST_APN_IN_PlanPurchase_PlanIDString ""
AdornOps=setifnull CUST_APN_IN_PlanPurchase_PlanStatusString ""
AdornOps=copy CUST_APN_IN_PlanPurchaseFlagInteger DEG_APNS_PlanPurchaseFlagInteger
AdornOps=copy CUST_APN_IN_PlanPurchase_PlanIDString DEG_APNS_PlanPurchase_PlanIDString
AdornOps=copy CUST_APN_IN_PlanPurchase_PlanStatusString DEG_APNS_PlanPurchase_PlanStatusString
AdornOps=set DEG_APNSINTERFACE_INSTANCE ${APNS_HOST_NAME}
AdornOps=setifnull DEG_APNS_CallFlowString "Real Time"
AdornOps=set CUST_APN_OUT_APNSSentStatusString "Successful APNS connection"
AdornOps=setifnull CUST_APN_IN_TriggerTypeString ""
AdornOps=copy CUST_APN_IN_TriggerTypeString DEG_APNS_TRIGGER_TYPE
AdornOps=decBase64 DEG_APNS_TOKEN DEG_APNS_DeviceTokenBinary
AdornOps=set DEG_APNS_ExpirationDate 0
AdornOps=set DEG_APNS_Priority 10
ClassName=AdornmentRule


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/repositoryLoader]

ClassName=com.hp.usage.jcr.repository.RepositoryContentLoader
ContentPath=datamodel


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/SessionStores]

ClassName=SessionStoreManager
SessionStoreNames=DEG_APNS_MESSAGE_TO_BE_SENT_STORE
SessionStoreNames=DEG_MONITORING_TRANSACTIONS_SessionStore


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/SessionStores/DEG_APNS_MESSAGE_TO_BE_SENT_STORE]

Attributes=DEG_MDN,key
Attributes=DEG_IMSI
Attributes=DEG_UNIQUE_ID
Attributes=DEG_APNS_TOKEN
Attributes=DEG_APNS_TOPIC,key
Attributes=DEG_APNS_TRIGGER_TYPE,key
Attributes=DEG_APNSINTERFACE_INSTANCE
Attributes=DEG_APNS_DEL_RETRIES
Attributes=DEG_APNS_MSG_CREATED_DATE,key
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
CommonPolicyID=Policy1
DatabaseId=DEG_APNS_MESSAGE_TO_BE_SENT
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=10
NativeConditions=MatchingSession
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_IMSI,VARCHAR(64)
SQLTypeMap=DEG_UNIQUE_ID,VARCHAR(64)
SQLTypeMap=DEG_APNS_TOKEN,VARCHAR(100)
SQLTypeMap=DEG_APNS_TOPIC,VARCHAR(32)
SQLTypeMap=DEG_APNS_TRIGGER_TYPE,VARCHAR(32)
SQLTypeMap=DEG_APNSINTERFACE_INSTANCE,VARCHAR(32)
SQLTypeMap=DEG_APNS_DEL_RETRIES,TINYINT
SQLTypeMap=DEG_APNS_MSG_CREATED_DATE,TIMESTAMP(6)


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/SessionStores/DEG_APNS_MESSAGE_TO_BE_SENT_STORE/MatchingSession]

Condition=where DEG_MDN = %DEG_MDN and DEG_APNS_TRIGGER_TYPE = %DEG_APNS_TRIGGER_TYPE


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/SessionStores/DEG_MONITORING_TRANSACTIONS_SessionStore]

Attributes=DEG_MSESSIONID,key
Attributes=DEG_MSESSIONTRANSID,key
Attributes=DEG_MSESSIONPROCID
Attributes=DEG_MSESSIONTIMESTAMP
Attributes=DEG_MSESSIONINTERFACE
Attributes=DEG_MSESSIONINOUT
Attributes=DEG_MSESSIONRESULTCODE
Attributes=DEG_MSESSIONMDN
Attributes=DEG_MSESSIONIMSI
Attributes=DEG_MSESSIONUNIQUE_ID
Attributes=DEG_MSESSIONTRANSACTIONTYPE
Attributes=DEG_MSESSIONSOURCEDESTINATION
Attributes=DEG_MSESSIONMESSAGE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
CommonPolicyID=Policy2
DatabaseId=DEG_MONITORING_TRANSACTIONS
DbSchema=${DBSCHEMA_NRB}
MaxDatabaseConnections=10
SQLTypeMap=DEG_MSESSIONID,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONTRANSID,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONPROCID,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONTIMESTAMP,BIGINT
SQLTypeMap=DEG_MSESSIONINTERFACE,CHAR(5)
SQLTypeMap=DEG_MSESSIONINOUT,CHAR(3)
SQLTypeMap=DEG_MSESSIONRESULTCODE,VARCHAR(5)
SQLTypeMap=DEG_MSESSIONMDN,BIGINT
SQLTypeMap=DEG_MSESSIONIMSI,VARCHAR(64)
SQLTypeMap=DEG_MSESSIONTRANSACTIONTYPE,VARCHAR(50)
SQLTypeMap=DEG_MSESSIONSOURCEDESTINATION,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONMESSAGE,VARCHAR(512)


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/SNMESchemaLoader]

ClassName=com.hp.usage.nme.schemaloader.NMESchemaLoader
Schema=mySNMESchema
SchemaPath=datamodel


[/deployment/<%SIU_INSTANCE%>/DEG_APNSInterface_01/SNMESchemaLoader/mySNMESchema]

Link=/SNMESchema
