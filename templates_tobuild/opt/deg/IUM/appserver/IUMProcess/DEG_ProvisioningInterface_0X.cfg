
[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>]

ClassName=com.hp.siu.adminagent.procmgr.ContextServerProcess
Description=DEG Provisioning Interface
SNMESchemaLoader=SnmeLoader
StartClassName=com.hp.siu.sessionserver.SessionServer
JDBCConnectionPoolService=PoolService
@Include(pattern="**")
@Include(pattern="**#*", merge=true)
Link=/templates/DEG/ProvisioningInterface/Common_Core
Link=/templates/DEG/ProvisioningInterface/ManageSubscriber
Link=/templates/DEG/ProvisioningInterface/ManageSubsSubscription
Link=/templates/DEG/ProvisioningInterface/ManageIMSCredentials
Link=/templates/DEG/ProvisioningInterface/ManageSubsUsage
Link=/templates/DEG/ProvisioningInterface/MultiSIMSignUpNotification
Link=/templates/DEG/ProvisioningInterface/QuerySubscribers
Link=/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation
Link=/templates/DEG/ProvisioningInterface/ManageSubscriber_PreProcessCustomize
Link=/templates/DEG/ProvisioningInterface/ManageSubscriber_PostProcessCustomize
Link=/templates/DEG/ProvisioningInterface/ManageSubsSubscription_PreProcessCustomize
Link=/templates/DEG/ProvisioningInterface/ManageSubsSubscription_PostProcessCustomize
Link=/templates/DEG/ProvisioningInterface/ManageIMSCredentials_PreProcessCustomize
Link=/templates/DEG/ProvisioningInterface/ManageIMSCredentials_PostProcessCustomize
Link=/templates/DEG/ProvisioningInterface/ManageSubsUsage_PreProcessCustomize
Link=/templates/DEG/ProvisioningInterface/ManageSubsUsage_PostProcessCustomize
Link=/templates/DEG/ProvisioningInterface/MultiSIMSignUpNotification_PreProcessCustomize
Link=/templates/DEG/ProvisioningInterface/MultiSIMSignUpNotification_PostProcessCustomize
Link=/templates/DEG/ProvisioningInterface/PostProcessCommonCustomize
Link=/templates/DEG/ProvisioningInterface/PreProcessCommonCustomize
Link=/templates/DEG/ProvisioningInterface/Common_Customize


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/Logging]

ClassName=com.hp.siu.serverutils.SvrLogManager
HandlerNames=LogHandler
Loggers=org.jsmpp,INFO,false
COMPRESS=true
FILECOUNT=50
LOGLINELIMIT=500000


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/Logging/LogHandler]

ClassName=com.hp.siu.serverutils.LogClassLoader
FILECOUNT=-1
FormatterClass=com.hp.siu.utils.LegacyLogFormatter
HandlerClass=com.hp.usage.logging.RollingLogFileHandler
LogFile=${IUM_LOG_DIR}/Alarming_${PROV_INTERFACE_PROCESS_NAME}.log
LogFileRollPolicyClass=TimestampLogFileRollPolicy
LoggerNames=com.hp
LogLevel=WARNING
LOGLINELIMIT=50000
TIMESTAMPSUFFIX='.'yyyyMMddHHmmss

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ManagementService]

ClassName=com.hp.usage.management.ManagementService


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/NMEStores]

ClassName=NMEStoreManager
NMEStoreNames=AuditNmeStore

#QXCM1001550881 -- Audit collector crashed due to SNMESchema error
[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/NMEStores/AuditNmeStore]

ClassName=AsynchNMEStore
NMEBatchSize=100
QueueSize=10000
SkipStructuredNME=true

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/NMEStores/AuditNmeStore/PersistentStore]

Attributes=DEG_AuditFormatIdString
Attributes=DEG_AuditTimestampLong
Attributes=DEG_AuditProcessingNodeString
Attributes=DEG_AuditInterfaceString
Attributes=DEG_AuditInOutString
Attributes=DEG_AuditResultCodeString
Attributes=DEG_AuditMdnString
Attributes=DEG_AuditIMSIString
Attributes=DEG_AuditTransactionTypeString
Attributes=DEG_AuditSourceDestinationString
Attributes=DEG_AuditSourceDestinationVersionString
Attributes=DEG_AuditDurationString
Attributes=DEG_AuditChannelIdString
Attributes=DEG_AuditChannelNameString
Attributes=DEG_AuditASPServiceIdString
Attributes=DEG_AuditASPServiceNameString
Attributes=DEG_AuditASPIdString
Attributes=DEG_AuditASPNameString
Attributes=DEG_AuditNRBMessageString
Attributes=DEG_AuditMessageString
Attributes=DEG_AuditSessionIdString
Attributes=DEG_AuditDeviceTypeString
ClassName=FilePersistentStore
DataDir=${PROV_AUDIT_DATA_DIR}
FileNameTemplate=${PROV_AUDIT_BINARY_FILE_NAME}
FileNameTZ=UTC
GenerateEmptyFiles=false


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/NMEStores/AuditNmeStore/PersistentStore/FlushPolicy]

ClassName=ClockTimeSessionServerFlushPolicy
ClockInterval=10s
MaxNMEs=100000

#RFE 86 : Include Bell Changes into Product. Introduced new Environment variable to define timezone.
[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/Properties]

JVMOPTS=%DEFAULTS%
JVMOPTS=${PROV_MIN_HEAP_SIZE}
JVMOPTS=${PROV_MAX_HEAP_SIZE}
JVMOPTS=-Duser.timezone=${SYSTIMEZONE}
JVMOPTS=-XX:+DisableExplicitGC
JVMOPTS=-XX:+UseParNewGC
JVMOPTS=-verbose:gc
JVMOPTS=-XX:+PrintGCDetails
JVMOPTS=-XX:+PrintGCTimeStamps
JVMOPTS=-Xloggc:%VARROOT%/DEG_GcLogs/DEG_ProvisioningInterface_gc.log
JVMOPTS=-XX:+UseConcMarkSweepGC
JVMOPTS=-XX:+UseFastAccessorMethods
JVMOPTS=-XX:+ScavengeBeforeFullGC
JVMOPTS=-XX:SurvivorRatio=1
JVMPROPERTIES=%DEFAULTS%
JVMPROPERTIES=LogRequestInOutLevel1=true
JVMPROPERTIES=LogRequestFlowLevel1=true
JVMPROPERTIES=LogRequestIssueLevel1=true
PROCESSARGS=-l 4
STARTUPMODE=${STARTUPMODE}


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService]

ClassName=com.hp.siu.serverutils.RefDataServiceManager
QueryNames=DEG_MONITORINGID_GENERATOR
QueryNames=DEG_MONITORING_SESSIONS_ActiveSessions
QueryNames=DEG_SUBSCRIBERS_MDNLOOKUP
QueryNames=DEG_ERROR_CODESLOOKUP
QueryNames=DEG_COMPANION_TOKENS_IMSILOOKUP
QueryNames=DEG_IMS_DATA_IMSILOOKUP
QueryNames=DEG_PROV_SERV_DATA_IMSILOOKUP
QueryNames=DEG_DEVICE_DATA_IMSILOOKUP


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_DEVICE_DATA_IMSILOOKUP]

ClassName=JDBCQuery
FieldExtracted=DEG_LASTUPDATE,DEG_LASTUPDATE
CommonPolicyID=Policy1
QueryString=SELECT %FIELDS FROM DEG_DEVICE_DATA WHERE DEG_IMSI=%DEG_IMSI AND DEG_ENTITLEMENT_NAME=%DEG_ENTITLEMENT_NAME ORDER BY DEG_LASTUPDATE
ResultAttribute=DEG_SubProvdevicedataMatchFoundInteger
ResultIndexAttribute=DEG_NrbIndexInteger


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_DEVICE_DATA_IMSILOOKUP/InitialRule]

ClassName=AdornmentRule
AdornOps=set DEG_SubProvdevicedataMatchFoundInteger 0
AdornOps=set DEG_DeviceDataIndexInteger 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_DEVICE_DATA_IMSILOOKUP"
AdornOps=copy DEG_SubProvIMSIString DEG_IMSI
AdornOps=copy DEG_SubProvAPNSNotificationNameString DEG_ENTITLEMENT_NAME


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_DEVICE_DATA_IMSILOOKUP/ResultRowRule]

ClassName=AdornmentRule
AdornOps=set DEG_SubProvdevicedataMatchFoundInteger 1

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_DEVICE_DATA_IMSILOOKUP/FinalRule]

ClassName=AdornmentRule
AdornOps=copy DEG_SubProvdevicedataMatchFoundInteger DEG_SubProvdevicedataMatchFoundInteger

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_DEVICE_DATA_IMSILOOKUP/ErrorRule]

ClassName=RuleChain
RuleNames=SetErrorInfo
RuleNames=LogAlarming
RuleNames=SetDBErrorCode


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_DEVICE_DATA_IMSILOOKUP/ErrorRule/SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0000"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup or access DEG_DEVICE_DATA table"


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_DEVICE_DATA_IMSILOOKUP/ErrorRule/LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=LogNMERule
LogLevel=CRITICAL
Message=Database Error:Unable to lookup or access DEG_DEVICE_DATA table


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_DEVICE_DATA_IMSILOOKUP/ErrorRule/SetDBErrorCode]

AdornOps=set DEG_SubProvResponseCodeString "47"
AdornOps=set DEG_SubProvReturnCodeInteger 5
ClassName=com.hp.siu.collector.rules.AdornmentRule



[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
FieldExtracted=DEG_MSESSIONID,DEG_MSESSIONID
##JDBCDataSourceConnectorName=120.RefDataDbConnectorNRB
CommonPolicyID=Policy2
QueryString=SELECT %FIELDS FROM DEG_MONITORING_SESSIONS WHERE DEG_MSESSIONTYPE in ('MDN','IMSI') AND DEG_MSESSIONSTATUS='AE' AND DEG_MSESSIONKEY=%DEG_MSESSIONKEY
ResultAttribute=DEG_NrbMatchFoundInteger
ResultIndexAttribute=DEG_NrbIndexInteger


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.SetErrorInfo
RuleNames=100.LogAlarming


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ErrorRule/000.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0001"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup or access monitoring sessions table"


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ErrorRule/100.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/FinalRule]

AdornOps=copy DEG_NrbMatchFoundInteger DEG_NrbMatchFoundInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/InitialRule]

AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set DEG_MSESSIONID ""
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_MONITORING_SESSIONS"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Set_MatchFound
RuleNames=200.PopulateMonitoringSessionIdsList


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/100.Set_MatchFound]

AdornOps=set DEG_NrbMatchFoundInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/200.PopulateMonitoringSessionIdsList]

ClassName=AddToListAttributeRule
Delimiters=,
InputAttribute=DEG_MSESSIONID
ListAttribute=DEG_NrbMonitoringSessionIdList


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORINGID_GENERATOR]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
FieldExtracted=DEG_MSESSIONTRANSID,DEG_MSESSIONTRANSID
##JDBCDataSourceConnectorName=120.RefDataDbConnectorNRB
CommonPolicyID=Policy2
QueryString=SELECT SEQUENCE_NEXTVAL('DEG_MONITORINGID_GENERATOR') AS DEG_MSESSIONTRANSID
ResultAttribute=DEG_NrbMatchFoundInteger
ResultIndexAttribute=DEG_NrbIndexInteger


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.SetErrorInfo
RuleNames=100.LogAlarming


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ErrorRule/000.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0002"
AdornOps=set DEG_OEMDevErrorMessageString "DB error"


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ErrorRule/100.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORINGID_GENERATOR/FinalRule]

AdornOps=copy DEG_NrbMatchFoundInteger DEG_NrbMatchFoundInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORINGID_GENERATOR/InitialRule]

AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set DEG_NrbIndexInteger 0
AdornOps=set DEG_MSESSIONTRANSID 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_MONITORINGID_GENERATOR.NEXTVAL"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ResultRowRule]

AdornOps=set DEG_NrbMatchFoundInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_SUBSCRIBERS_MDNLOOKUP]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
FieldExtracted=DEG_MDN,DEG_SubProvMDNTmpString
CommonPolicyID=Policy1
QueryString=SELECT distinct %FIELDS FROM DEG_SUBSCRIBERS WHERE DEG_MDN=%DEG_MDN
ResultAttribute=DEG_SubProvMatchFoundInteger
ResultIndexAttribute=DEG_SubProvIndexInteger


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_SUBSCRIBERS_MDNLOOKUP/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.SetErrorInfo
RuleNames=100.LogAlarming


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_SUBSCRIBERS_MDNLOOKUP/ErrorRule/000.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0003"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup or access subscribers table"


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_SUBSCRIBERS_MDNLOOKUP/ErrorRule/100.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_SUBSCRIBERS_MDNLOOKUP/FinalRule]

AdornOps=copy DEG_SubProvMatchFoundInteger DEG_SubProvMatchFoundInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_SUBSCRIBERS_MDNLOOKUP/InitialRule]

AdornOps=set DEG_SubProvMatchFoundInteger 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set DEG_SubProvMDNTmpString ""
AdornOps=set DEG_SubProvMDNListString ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_SUBSCRIBERS_MDNLOOKUP/ResultRowRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Set_MatchFound
RuleNames=200.PopulateMDNList


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_SUBSCRIBERS_MDNLOOKUP/ResultRowRule/100.Set_MatchFound]

AdornOps=set DEG_SubProvMatchFoundInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_SUBSCRIBERS_MDNLOOKUP/ResultRowRule/200.PopulateMDNList]

AdornOps=+ DEG_SubProvMDNListString DEG_SubProvMDNTmpString DEG_SubProvMDNListString
AdornOps=+ DEG_SubProvMDNListString ; DEG_SubProvMDNListString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP]

ClassName=com.hp.usage.refdatasrv.CachedQuery
ResultAttribute=DEG_SubProvMatchFoundInteger
ResultIndexAttribute=DEG_SubProvIndexInteger


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP/Cache]

ClassName=com.hp.usage.refdatasrv.HashMapLookupCache
CacheAttributes=DEG_STATUS_CODE
CacheAttributes=DEG_PROCESS_CODE
CacheAttributes=DEG_ERROR_DESC
CacheKeyAttributes=DEG_ERROR_CODE
NMEKeyAttributes=DEG_SubProvErrorCodeInteger


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.SetErrorInfo
RuleNames=100.LogAlarming


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP/ErrorRule/000.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0004"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup or access error codes table"


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP/ErrorRule/100.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP/FinalRule]

AdornOps=copy DEG_SubProvMatchFoundInteger DEG_SubProvMatchFoundInteger
AdornOps=copy DEG_STATUS_CODE DEG_SubProvOutResponseInteger
AdornOps=copy DEG_PROCESS_CODE DEG_SubProvSOAPFaultCodeString
AdornOps=copy DEG_ERROR_DESC DEG_SubProvSOAPFaultMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP/InitialRule]

AdornOps=set DEG_SubProvMatchFoundInteger 0
AdornOps=set DEG_SubProvIndexInteger 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_ERROR_CODES"
AdornOps=set DEG_SubProvOutResponseInteger 0
AdornOps=set DEG_SubProvSOAPFaultCodeString ""
AdornOps=set DEG_SubProvSOAPFaultMessageString ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP/Loader]

ClassName=com.hp.usage.refdatasrv.JDBCLoader
FieldExtracted=DEG_STATUS_CODE,DEG_STATUS_CODE
FieldExtracted=DEG_PROCESS_CODE,DEG_PROCESS_CODE
FieldExtracted=DEG_ERROR_CODE,DEG_ERROR_CODE
FieldExtracted=DEG_ERROR_DESC,DEG_ERROR_DESC
CommonPolicyID=Policy1
QueryString=select %FIELDS from DEG_ERROR_CODES


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP/RefreshPolicy]

ClassName=com.hp.siu.plugins.dna.collector.rules.CronIntervalRefreshPolicy
RefreshCronInterval=0 * * * *


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_ERROR_CODESLOOKUP/ResultRowRule]

AdornOps=set DEG_SubProvMatchFoundInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule
dornOps=set DEG_SubProvMatchFoundInteger 0

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_COMPANION_TOKENS_IMSILOOKUP]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
FieldExtracted=DEG_IMSI,CompanionCount
CommonPolicyID=Policy1
QueryString=SELECT COUNT(*) AS CompanionCount FROM DEG_COMPANION_TOKENS WHERE DEG_IMSI=%DEG_SubProvIMSIString


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_COMPANION_TOKENS_IMSILOOKUP/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.SetErrorInfo
RuleNames=100.LogAlarming


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_COMPANION_TOKENS_IMSILOOKUP/ErrorRule/000.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0005"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup or access companion tokens table"


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_COMPANION_TOKENS_IMSILOOKUP/ErrorRule/100.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=RowCount
Attributes=CompanionCount
Attributes=DEG_SubProvsrvtkString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.
 

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_COMPANION_TOKENS_IMSILOOKUP/InitialRule]

AdornOps=set DEG_SubProvMatchFoundInteger 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set CompanionCount 0
AdornOps=set log_Table_Name "DEG_COMPANION_TOKENS"
ClassName=com.hp.siu.collector.rules.AdornmentRule
 

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_IMS_DATA_IMSILOOKUP]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
FieldExtracted=DEG_IMSI,RowCount
CommonPolicyID=Policy1
QueryString=SELECT COUNT(*) AS RowCount FROM DEG_IMS_DATA WHERE DEG_IMSI=%DEG_SubProvIMSIString


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_IMS_DATA_IMSILOOKUP/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.SetErrorInfo
RuleNames=100.LogAlarming


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_IMS_DATA_IMSILOOKUP/ErrorRule/000.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0006"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup or access ims data table"


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_IMS_DATA_IMSILOOKUP/ErrorRule/100.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=RowCount
Attributes=CompanionCount
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_IMS_DATA_IMSILOOKUP/InitialRule]

AdornOps=+ CompanionCount 1 CompanionCount
AdornOps=set DEG_SubProvMatchFoundInteger 0
AdornOps=set RowCount 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_PROV_SERV_DATA_IMSILOOKUP]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
FieldExtracted=DEG_PROV_TC_STATUS,DEG_SubProvVowifiTcStatusTblInteger
FieldExtracted=DEG_PROV_ADDRESS_STATUS,DEG_SubProvVowifiAddressStatusTblInteger
FieldExtracted=DEG_PROV_PROVISIONING_STATUS,DEG_SubProvVowifiProvStatusTblInteger
FieldExtracted=DEG_PROV_GATEWAY_ADDRESS,DEG_SubProvGatewayAddressTblString
FieldExtracted=DEG_PROV_ADDR_UPDATE_POST_DATA,DEG_SubProvAddrUpdatePostDataTblString
FieldExtracted=DEG_PROV_ADDR_UPDATE_URL,DEG_SubProvAddrUpdateUrlTblString
FieldExtracted=DEG_PROV_LASTUPDATE,DEG_SubProvLastUpdateTbl
CommonPolicyID=Policy1
QueryString=SELECT %FIELDS FROM DEG_PROV_SERV_DATA WHERE DEG_IMSI=%DEG_SubProvIMSIString
ResultAttribute=DEG_IMSIMatchFoundInteger
UseDefaults=true

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_PROV_SERV_DATA_IMSILOOKUP/InitialRule]

AdornOps=set DEG_IMSIMatchFoundInteger 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_PROV_SERV_DATA"
AdornOps=set DEG_SubProvGatewayAddressTblString ""
AdornOps=set DEG_SubProvAddrUpdatePostDataTblString ""
AdornOps=set DEG_SubProvAddrUpdateUrlTblString ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_PROV_SERV_DATA_IMSILOOKUP/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.SetErrorInfo
RuleNames=100.LogAlarming


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_PROV_SERV_DATA_IMSILOOKUP/ErrorRule/000.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0007"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup or access prov serv data table"


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_PROV_SERV_DATA_IMSILOOKUP/ErrorRule/100.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_PROV_SERV_DATA_IMSILOOKUP/ResultRowRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Set_MatchFound


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_PROV_SERV_DATA_IMSILOOKUP/ResultRowRule/100.Set_MatchFound]

AdornOps=set DEG_IMSIMatchFoundInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/ReferenceDataService/DEG_PROV_SERV_DATA_IMSILOOKUP/FinalRule]

AdornOps=copy DEG_IMSIMatchFoundInteger DEG_IMSIMatchFoundInteger 
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores]

ClassName=com.hp.siu.sessionserver.SessionStoreManager
SessionStoreNames=DEG_SUBSCRIBERS_SessionStore
SessionStoreNames=DEG_TOKENS_SessionStore
SessionStoreNames=DEG_MONITORING_TRANSACTIONS_SessionStore
SessionStoreNames=DEG_SUBS_VOICE_SUBSCR_SessionStore
SessionStoreNames=DEG_SUBS_DATA_SUBSCR_SessionStore
SessionStoreNames=DEG_SUBS_MSG_SUBSCR_SessionStore
SessionStoreNames=DEG_SUBS_ACCOUNT_INFO_SessionStore
SessionStoreNames=DEG_SUBS_VOICE_USAGE_SessionStore
SessionStoreNames=DEG_SUBS_DATA_USAGE_SessionStore
SessionStoreNames=DEG_SUBS_MSG_USAGE_SessionStore
SessionStoreNames=DEG_IMS_DATA_SessionStore
SessionStoreNames=DEG_COMPANION_TOKENS_SessionStore
SessionStoreNames=DEG_PROV_SERV_DATA_SessionStore
SessionStoreNames=DEG_DEVICE_DATA_SessionStore
SessionStoreNames=DEG_APNS_MESSAGE_TO_BE_SENT_SessionStore

#QXCM1001530845 -- JDBC Pooling in not working for NRB DSN
[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_MONITORING_TRANSACTIONS_SessionStore]

Attributes=DEG_MSESSIONID,key
Attributes=DEG_MSESSIONTRANSID,key
Attributes=DEG_MSESSIONPROCID
Attributes=DEG_MSESSIONTIMESTAMP
Attributes=DEG_MSESSIONINTERFACE
Attributes=DEG_MSESSIONINOUT
Attributes=DEG_MSESSIONRESULTCODE
Attributes=DEG_MSESSIONMDN
Attributes=DEG_MSESSIONIMSI
Attributes=DEG_MSESSIONTRANSACTIONTYPE
Attributes=DEG_MSESSIONSOURCEDESTINATION
Attributes=DEG_MSESSIONMESSAGE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
CommonPolicyID=Policy2
DatabaseId=DEG_MONITORING_TRANSACTIONS
DbSchema=${DBSCHEMA_NRB}
MaxDatabaseConnections=${PROV_MAX_DBCONN_MONI_TRANS}
SQLTypeMap=DEG_MSESSIONID,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONTRANSID,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONPROCID,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONTIMESTAMP,BIGINT
SQLTypeMap=DEG_MSESSIONINTERFACE,VARCHAR(10)
SQLTypeMap=DEG_MSESSIONINOUT,VARCHAR(3)
SQLTypeMap=DEG_MSESSIONRESULTCODE,VARCHAR(15)
SQLTypeMap=DEG_MSESSIONMDN,BIGINT
SQLTypeMap=DEG_MSESSIONIMSI,VARCHAR(64)
SQLTypeMap=DEG_MSESSIONTRANSACTIONTYPE,VARCHAR(50)
SQLTypeMap=DEG_MSESSIONSOURCEDESTINATION,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONMESSAGE,VARCHAR(512)


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBS_ACCOUNT_INFO_SessionStore]

Attributes=DEG_MDN,key
Attributes=DEG_BILLINGCYCLESTARTDATE
Attributes=DEG_BILLINGCYCLEENDDATE
Attributes=DEG_PLANTYPE
Attributes=DEG_AUTORENEW
Attributes=DEG_STACKING
Attributes=DEG_LASTUPDATE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_SUBS_ACCOUNT_INFO
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_SUBS}
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_BILLINGCYCLESTARTDATE,VARCHAR(32)
SQLTypeMap=DEG_BILLINGCYCLEENDDATE,VARCHAR(32)
SQLTypeMap=DEG_PLANTYPE,VARCHAR(32)
SQLTypeMap=DEG_AUTORENEW,VARCHAR(16)
SQLTypeMap=DEG_STACKING,VARCHAR(16)
SQLTypeMap=DEG_LASTUPDATE,DATE
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBS_DATA_SUBSCR_SessionStore]

Attributes=DEG_MDN,key
Attributes=DEG_SUBSCRIPTIONSTATUS
Attributes=DEG_PLANTYPE
Attributes=DEG_PLANMGTTYPE
Attributes=DEG_LASTUPDATE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_SUBS_DATA_SUBSCR
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_SUBS}
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_SUBSCRIPTIONSTATUS,VARCHAR(20)
SQLTypeMap=DEG_PLANTYPE,VARCHAR(32)
SQLTypeMap=DEG_PLANMGTTYPE,VARCHAR(32)
SQLTypeMap=DEG_LASTUPDATE,DATE
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBS_DATA_USAGE_SessionStore]

Attributes=DEG_MDN,key
Attributes=DEG_CATEGORYID,key
Attributes=DEG_USEDFORALERT
Attributes=DEG_DATACAPACITY
Attributes=DEG_DATAUSED
Attributes=DEG_LASTUPDATE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_SUBS_DATA_USAGE
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_SUBS}
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_CATEGORYID,INTEGER
SQLTypeMap=DEG_USEDFORALERT,TINYINT
SQLTypeMap=DEG_DATACAPACITY,INTEGER
SQLTypeMap=DEG_DATAUSED,INTEGER
SQLTypeMap=DEG_LASTUPDATE,DATE
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBS_MSG_SUBSCR_SessionStore]

Attributes=DEG_MDN,key
Attributes=DEG_SUBSCRIPTIONSTATUS
Attributes=DEG_PLANTYPE
Attributes=DEG_LASTUPDATE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_SUBS_MSG_SUBSCR
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_SUBS}
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_SUBSCRIPTIONSTATUS,VARCHAR(20)
SQLTypeMap=DEG_PLANTYPE,VARCHAR(32)
SQLTypeMap=DEG_LASTUPDATE,DATE
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBS_MSG_USAGE_SessionStore]

Attributes=DEG_MDN,key
Attributes=DEG_CATEGORYID,key
Attributes=DEG_MOSMS
Attributes=DEG_MTSMS
Attributes=DEG_TOTALSMS
Attributes=DEG_MOMM
Attributes=DEG_MTMMS
Attributes=DEG_TOTALMMS
Attributes=DEG_SMSCAPACITY
Attributes=DEG_MMSCAPACITY
Attributes=DEG_LASTUPDATE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_SUBS_MSG_USAGE
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_SUBS}
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_CATEGORYID,INTEGER
SQLTypeMap=DEG_MOSMS,INTEGER
SQLTypeMap=DEG_MTSMS,INTEGER
SQLTypeMap=DEG_TOTALSMS,INTEGER
SQLTypeMap=DEG_MOMM,INTEGER
SQLTypeMap=DEG_MTMMS,INTEGER
SQLTypeMap=DEG_TOTALMMS,INTEGER
SQLTypeMap=DEG_SMSCAPACITY,INTEGER
SQLTypeMap=DEG_MMSCAPACITY,INTEGER
SQLTypeMap=DEG_LASTUPDATE,DATE
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBS_VOICE_SUBSCR_SessionStore]

Attributes=DEG_MDN,key
Attributes=DEG_SUBSCRIPTIONSTATUS
Attributes=DEG_PLANTYPE
Attributes=DEG_LASTUPDATE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_SUBS_VOICE_SUBSCR
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_SUBS}
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_SUBSCRIPTIONSTATUS,VARCHAR(20)
SQLTypeMap=DEG_PLANTYPE,VARCHAR(32)
SQLTypeMap=DEG_LASTUPDATE,DATE
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBS_VOICE_USAGE_SessionStore]

Attributes=DEG_MDN,key
Attributes=DEG_CATEGORYID,key
Attributes=DEG_VOICECAPACITY
Attributes=DEG_VOICEUSED
Attributes=DEG_LASTUPDATE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_SUBS_VOICE_USAGE
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_SUBS}
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_CATEGORYID,INTEGER
SQLTypeMap=DEG_VOICECAPACITY,INTEGER
SQLTypeMap=DEG_VOICEUSED,INTEGER
SQLTypeMap=DEG_LASTUPDATE,DATE
CommonPolicyID=Policy1

#RFE89: Provisioning Interface to accept new information: Roaming IMSI.

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBSCRIBERS_SessionStore]

Attributes=DEG_IMSI,key
Attributes=DEG_MDN,key
Attributes=DEG_MIN
Attributes=DEG_CUSTIDINT
Attributes=DEG_CUSTCATIDINT
Attributes=DEG_EVENTTIMESTAMPINTEGER
Attributes=DEG_ESN
Attributes=DEG_MEID
Attributes=DEG_IMEI
Attributes=DEG_ICCID
Attributes=DEG_CustStatus
Attributes=DEG_PROVTIME
Attributes=DEG_PROVCHANGETIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_ENTITLEMENT_LIST
Attributes=DEG_COMPANION_DEVICE_COUNT
Attributes=DEG_ROAMING_IMSI
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_SUBSCRIBERS
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_SUBS}
NativeConditions=4.MatchByPrimaryMDNAndIMSI
NativeConditions=5.MatchByPrimaryIMSI
NativeConditions=6.MatchByPrimaryNewMDN
SQLTypeMap=DEG_IMSI,VARCHAR(64)
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_MIN,BIGINT
SQLTypeMap=DEG_CUSTIDINT,VARCHAR(64)
SQLTypeMap=DEG_CUSTCATIDINT,TINYINT
SQLTypeMap=DEG_EVENTTIMESTAMPINTEGER,VARCHAR(64)
SQLTypeMap=DEG_ESN,VARCHAR(64)
SQLTypeMap=DEG_MEID,VARCHAR(64)
SQLTypeMap=DEG_IMEI,VARCHAR(64)
SQLTypeMap=DEG_ICCID,VARCHAR(64)
SQLTypeMap=DEG_CustStatus,VARCHAR(64)
SQLTypeMap=DEG_PROVTIME,TIMESTAMP
SQLTypeMap=DEG_PROVCHANGETIME,TIMESTAMP
SQLTypeMap=DEG_LASTUPDATE,DATE
SQLTypeMap=DEG_ENTITLEMENT_LIST,VARCHAR(512)
SQLTypeMap=DEG_COMPANION_DEVICE_COUNT,VARCHAR(64)
SQLTypeMap=DEG_ROAMING_IMSI,VARCHAR(64)
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBSCRIBERS_SessionStore/4.MatchByPrimaryMDNAndIMSI]

Condition=where DEG_MDN = %DEG_MDN AND DEG_IMSI=%DEG_IMSI


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBSCRIBERS_SessionStore/5.MatchByPrimaryIMSI]

Condition=where DEG_IMSI = %DEG_IMSI

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_SUBSCRIBERS_SessionStore/6.MatchByPrimaryNewMDN]

Condition=where DEG_MDN = %DEG_MDN

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_TOKENS_SessionStore]

Attributes=DEG_IMSI,key
Attributes=DEG_MDN
Attributes=DEG_UNIQUE_ID
Attributes=DEG_SUBSTOKEN
Attributes=DEG_PUSH_TOKEN
Attributes=DEG_TOKENSTATUS
Attributes=DEG_AUTHENTICATION_TYPE
Attributes=DEG_AUTHENTICATION_SUBTYPE
Attributes=DEG_APP_TOKEN_FLAG
Attributes=DEG_AUTH_COUNT
Attributes=DEG_BLACKLIST_FLAG
Attributes=DEG_FULLAUTHTIMESTAMP
Attributes=DEG_EVENTTIMESTAMP
Attributes=TT_AUTOTIMESTAMP
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_TOKENS
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_TOKENS}
NativeConditions=3.MatchByPrimaryIMSI
NativeConditions=2.MatchByPrimaryMDN
NativeConditions=1.MatchByPrimaryMDNAndIMSI
SQLTypeMap=DEG_IMSI,VARCHAR(64)
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_UNIQUE_ID,VARCHAR(64)
SQLTypeMap=DEG_SUBSTOKEN,CHAR(28)
SQLTypeMap=DEG_PUSH_TOKEN,VARCHAR(100)
SQLTypeMap=DEG_TOKENSTATUS,CHAR(2)
SQLTypeMap=DEG_AUTHENTICATION_TYPE,CHAR(4)
SQLTypeMap=DEG_AUTHENTICATION_SUBTYPE,VARCHAR(32)
SQLTypeMap=DEG_APP_TOKEN_FLAG,TINYINT
SQLTypeMap=DEG_AUTH_COUNT,BIGINT
SQLTypeMap=DEG_BLACKLIST_FLAG,BIGINT
SQLTypeMap=DEG_FULLAUTHTIMESTAMP,BIGINT
SQLTypeMap=DEG_EVENTTIMESTAMP,BIGINT
SQLTypeMap=TT_AUTOTIMESTAMP,BINARY(8)
CommonPolicyID=Policy1

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_TOKENS_SessionStore/3.MatchByPrimaryIMSI]

Condition=where DEG_IMSI=%DEG_IMSI

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_TOKENS_SessionStore/1.MatchByPrimaryMDNAndIMSI]

Condition=where DEG_MDN = %DEG_MDN AND DEG_IMSI=%DEG_IMSI

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_TOKENS_SessionStore/2.MatchByPrimaryMDN]

Condition=where DEG_MDN = %DEG_MDN

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_IMS_DATA_SessionStore]

ClassName=com.hp.siu.sessionserver.JDBCSessionStore
Attributes=DEG_IMSI,key
Attributes=DEG_DEVICE_ID,key
Attributes=DEG_UNIQUE_ID
Attributes=DEG_IMS_PRIVATE_ID
Attributes=DEG_IMS_PUBLIC_ID
Attributes=DEG_SIP_USERNAME
Attributes=DEG_SIP_PASSWORD
Attributes=DEG_PROVTIME
Attributes=DEG_LASTUPDATE
DatabaseId=DEG_IMS_DATA
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_SUBS}
SQLTypeMap=DEG_IMSI,VARCHAR(64)
SQLTypeMap=DEG_DEVICE_ID,VARCHAR(64)
SQLTypeMap=DEG_UNIQUE_ID,VARCHAR(64)
SQLTypeMap=DEG_IMS_PRIVATE_ID,VARCHAR(64)
SQLTypeMap=DEG_IMS_PUBLIC_ID,VARCHAR(64)
SQLTypeMap=DEG_SIP_USERNAME,VARCHAR(64)
SQLTypeMap=DEG_SIP_PASSWORD,VARCHAR(64)
SQLTypeMap=DEG_PROVTIME,TIMESTAMP
SQLTypeMap=DEG_LASTUPDATE,DATE
CommonPolicyID=Policy1

NativeConditions=1.MatchByPrimaryIMSI
NativeConditions=2.MatchByIMSIAndDeviceId


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_IMS_DATA_SessionStore/1.MatchByPrimaryIMSI]

Condition=where DEG_IMSI = %DEG_IMSI


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_IMS_DATA_SessionStore/2.MatchByIMSIAndDeviceId]

Condition=where DEG_IMSI = %DEG_IMSI AND DEG_DEVICE_ID = %DEG_DEVICE_ID

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_COMPANION_TOKENS_SessionStore]

ClassName=com.hp.siu.sessionserver.JDBCSessionStore
Attributes=DEG_IMSI,key
Attributes=DEG_DEVICE_ID,key
Attributes=DEG_UNIQUE_ID
Attributes=DEG_SERVICE_TOKEN
Attributes=DEG_SERVICETOKEN_STATUS
Attributes=DEG_AUTH_TIMESTAMP
Attributes=DEG_TOKENCREATE_TIMESTAMP
Attributes=DEG_AUTH_COUNT
DatabaseId=DEG_COMPANION_TOKENS
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_TOKENS}
NativeConditions=2.MatchByPrimaryIMSI
SQLTypeMap=DEG_IMSI,VARCHAR(64)
SQLTypeMap=DEG_DEVICE_ID,VARCHAR(64)
SQLTypeMap=DEG_UNIQUE_ID,VARCHAR(64)
SQLTypeMap=DEG_SERVICE_TOKEN,VARCHAR(64)
SQLTypeMap=DEG_SERVICETOKEN_STATUS,CHAR(2)
SQLTypeMap=DEG_AUTH_TIMESTAMP,BIGINT
SQLTypeMap=DEG_TOKENCREATE_TIMESTAMP,BIGINT
SQLTypeMap=DEG_AUTH_COUNT,BIGINT
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_COMPANION_TOKENS_SessionStore/2.MatchByPrimaryIMSI]

Condition=where  DEG_IMSI=%DEG_IMSI

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_PROV_SERV_DATA_SessionStore]

Attributes=DEG_IMSI,key
Attributes=DEG_DEVICE_ID,key
Attributes=DEG_ENTITLEMENT_NAME,key
Attributes=DEG_PROV_TC_STATUS
Attributes=DEG_PROV_ADDRESS_STATUS
Attributes=DEG_PROV_PROVISIONING_STATUS
Attributes=DEG_PROV_GATEWAY_ADDRESS
Attributes=DEG_PROV_ADDR_UPDATE_POST_DATA
Attributes=DEG_PROV_ADDR_UPDATE_URL
Attributes=DEG_PROV_LASTUPDATE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_PROV_SERV_DATA
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_PROV_SERV_DATA}
NativeConditions=1.MatchByIMSI
SQLTypeMap=DEG_IMSI,VARCHAR(64)
SQLTypeMap=DEG_DEVICE_ID,VARCHAR(64)
SQLTypeMap=DEG_ENTITLEMENT_NAME,VARCHAR(32)
SQLTypeMap=DEG_PROV_TC_STATUS,INTEGER
SQLTypeMap=DEG_PROV_ADDRESS_STATUS,INTEGER
SQLTypeMap=DEG_PROV_PROVISIONING_STATUS,INTEGER
SQLTypeMap=DEG_PROV_GATEWAY_ADDRESS,VARCHAR(256)
SQLTypeMap=DEG_PROV_ADDR_UPDATE_POST_DATA,VARCHAR(2048)
SQLTypeMap=DEG_PROV_ADDR_UPDATE_URL,VARCHAR(1024)
SQLTypeMap=DEG_PROV_LASTUPDATE,DATE
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_PROV_SERV_DATA_SessionStore/1.MatchByIMSI]

Condition=where  DEG_IMSI=%DEG_IMSI

#RFE83 APNS token size change
[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_DEVICE_DATA_SessionStore]

Attributes=DEG_UNIQUE_ID,key
Attributes=DEG_ENTITLEMENT_NAME,key
Attributes=DEG_IMSI
Attributes=DEG_APNS_TOKEN
Attributes=DEG_OLD_APNS_TOKEN
Attributes=DEG_PROVISIONING_STATUS
Attributes=DEG_PUSH_NOTIFICATION_STATUS
Attributes=DEG_SERVICE_MGMT_POSTDATA
Attributes=DEG_DISPLAY_NAME
Attributes=DEG_ADDRESS_STATUS
Attributes=DEG_TC_STATUS
Attributes=DEG_ADDR_UPDATE_POSTDATA
Attributes=DEG_ADDR_REFID
Attributes=DEG_ADDR_REFID_EXP_DATE
Attributes=DEG_LASTUPDATE
Attributes=DEG_SIP_USERNAME
Attributes=TT_AUTOTIMESTAMP
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_DEVICE_DATA
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=${PROV_MAX_DBCONN_DEG_DEVICE_DATA}
NativeConditions=1.MatchByUniqueIDEntitlementName
NativeConditions=2.MatchByLastUpdateTime
SQLTypeMap=DEG_UNIQUE_ID,VARCHAR(64)
SQLTypeMap=DEG_ENTITLEMENT_NAME,VARCHAR(32)
SQLTypeMap=DEG_IMSI,VARCHAR(64)
SQLTypeMap=DEG_APNS_TOKEN,VARCHAR(100)
#QXCM1001544811:3.2.4 China Unicom issues,issue 1:2017041001
SQLTypeMap=DEG_OLD_APNS_TOKEN,VARCHAR(100)
SQLTypeMap=DEG_PROVISIONING_STATUS,BIGINT
SQLTypeMap=DEG_PUSH_NOTIFICATION_STATUS,BIGINT
SQLTypeMap=DEG_SERVICE_MGMT_POSTDATA,VARCHAR(256)
SQLTypeMap=DEG_DISPLAY_NAME,VARCHAR(128)
SQLTypeMap=DEG_ADDRESS_STATUS,TINYINT
SQLTypeMap=DEG_TC_STATUS,TINYINT
SQLTypeMap=DEG_ADDR_UPDATE_POSTDATA,VARCHAR(8192)
SQLTypeMap=DEG_ADDR_REFID,VARCHAR(64)
SQLTypeMap=DEG_ADDR_REFID_EXP_DATE,DATE
SQLTypeMap=DEG_LASTUPDATE,DATE
SQLTypeMap=DEG_SIP_USERNAME,VARCHAR(256)
SQLTypeMap=TT_AUTOTIMESTAMP,BINARY
CommonPolicyID=Policy1

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_DEVICE_DATA_SessionStore/1.MatchByUniqueIDEntitlementName]

Condition=where DEG_ENTITLEMENT_NAME=%DEG_ENTITLEMENT_NAME and DEG_UNIQUE_ID=%DEG_UNIQUE_ID

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_DEVICE_DATA_SessionStore/2.MatchByLastUpdateTime]

Condition=where DEG_LASTUPDATE=%DEG_LASTUPDATE AND DEG_IMSI=%DEG_IMSI AND DEG_ENTITLEMENT_NAME=%DEG_ENTITLEMENT_NAME

[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SessionStores/DEG_APNS_MESSAGE_TO_BE_SENT_SessionStore]

Attributes=DEG_MDN,key
Attributes=DEG_IMSI
Attributes=DEG_UNIQUE_ID
Attributes=DEG_APNS_TOKEN
Attributes=DEG_APNS_TOPIC,key
Attributes=DEG_APNS_TRIGGER_TYPE,key
Attributes=DEG_APNSINTERFACE_INSTANCE
Attributes=DEG_APNS_DEL_RETRIES
Attributes=DEG_APNS_MSG_CREATED_DATE,key
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DatabaseId=DEG_APNS_MESSAGE_TO_BE_SENT
DbSchema=${DBSCHEMA_DEG}
MaxDatabaseConnections=10
SQLTypeMap=DEG_MDN,BIGINT
SQLTypeMap=DEG_IMSI,VARCHAR(64)
SQLTypeMap=DEG_UNIQUE_ID,VARCHAR(64)
SQLTypeMap=DEG_APNS_TOKEN,VARCHAR(100)
SQLTypeMap=DEG_APNS_TOPIC,VARCHAR(32)
SQLTypeMap=DEG_APNS_TRIGGER_TYPE,VARCHAR(32)
SQLTypeMap=DEG_APNSINTERFACE_INSTANCE,VARCHAR(32)
SQLTypeMap=DEG_APNS_DEL_RETRIES,TINYINT
SQLTypeMap=DEG_APNS_MSG_CREATED_DATE,TIMESTAMP(6)
CommonPolicyID=Policy1


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SnmeLoader]

ClassName=com.hp.usage.nme.schemaloader.NMESchemaLoader
Schema=SnmeSchemaLink


[/deployment/<%SIU_INSTANCE%>/<%PROCESS%>/SnmeLoader/SnmeSchemaLink]

Link=/SNMESchema
