
[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core]

[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains]

RuleChainNames=333.ProcessOEMUpdateAccountWithFeatureOrService
RuleChainNames=111.ExtractUpdateAccountRequestRuleChain
RuleChainNames=211.ValidateUpdateAccountRequestRuleChain
RuleChainNames=310.ProcessUpdateAccountRequestRuleChain
RuleChainNames=410.DEG32GenerateUAWFOSStartAuditDataRuleChain
RuleChainNames=411.DEG32GenerateUAWFOSEndOKAuditDataRuleChain
RuleChainNames=412.DEG32GenerateUAWFOSEndErrorAuditDataRuleChain


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitVariables
RuleNames=110.ExtractandValidate


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/100.InitVariables]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_JsonEncodeAttribute "jsonResponse2"
AdornOps=set DEG_OEMDevRequestProcessedInteger 0
AdornOps=set DEG_OEMDevUpdateAccountOauthAccessTokenOnly 0
AdornOps=set DEG_CDevSysParameter "updateAccountWithFeatureOrService"
AdornOps=setifnull DEG_OEMDevUAWFOSStatusString ""
AdornOps=set DEG_OEMDevUAWFOSStatusString ${DEVICE_UPDATE_ACCOUNT}
AdornOps=lower DEG_OEMDevUAWFOSStatusString DEG_OEMDevUAWFOSStatusString
AdornOps=set DEG_OEMDevRespStatusString 6005
AdornOps=setifnull DEG_OEMDevImsiString ""
AdornOps=setifnull DEG_MDN 0


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/110.ExtractandValidate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevUAWFOSStatusString,=,enabled

TrueRuleChain=90.GenerateUAWFOSStartAuditData
TrueRuleChain=100.ExtractRequest
TrueRuleChain=200.ValidateRequest
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
FalseRuleChain=50.StartAuditDataRule
FalseRuleChain=100.SetErrorResponse
FalseRuleChain=200.GenerateGetCarrierSpaceUpdateDisabledResponse
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
FalseRuleChain=250.EndAuditDataRule
FalseRuleChain=300.LogDisableRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/110.ExtractandValidate/90.GenerateUAWFOSStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=410.DEG32GenerateUAWFOSStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/110.ExtractandValidate/100.ExtractRequest]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=111.ExtractUpdateAccountRequestRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/110.ExtractandValidate/200.ValidateRequest]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=211.ValidateUpdateAccountRequestRuleChain
UseRuleChainManagerPool=true

#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/110.ExtractandValidate/50.StartAuditDataRule]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=410.DEG32GenerateUAWFOSStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/110.ExtractandValidate/100.SetErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString "6002"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.UAFS.0001"
AdornOps=set DEG_OEMDevErrorMessageString "Action updateAccountWithFeatureOrService is DISABLED"
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending updateAccountWithFeatureOrService disable response: "
AdornOps=set DEG_AuditNRBMessageString "Sending updateAccountWithFeatureOrService disable response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/110.ExtractandValidate/200.GenerateGetCarrierSpaceUpdateDisabledResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=false
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse2.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse2.status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/110.ExtractandValidate/250.EndAuditDataRule]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=411.DEG32GenerateUAWFOSEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/333.ProcessOEMUpdateAccountWithFeatureOrService/110.ExtractandValidate/300.LogDisableRule]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevUAWFOSStatusString
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_CDevSysParameter
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=INFO
Message=Action updateAccountWithFeatureOrService is DISABLED !!!!


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/111.ExtractUpdateAccountRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=90.ExtractOaut2AccessToken
RuleNames=110.ExtractCarrierPlanElement
RuleNames=111.SetLogInfo
RuleNames=112.LogRequestReceived


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/111.ExtractUpdateAccountRequestRuleChain/90.ExtractOaut2AccessToken]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
StructuredNMEToNMEMap=oauth_access_token.CData,DEG_OEMDevUpdateAccountAuthToken,NotInRequest


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/111.ExtractUpdateAccountRequestRuleChain/110.ExtractCarrierPlanElement]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
StructuredNMEToNMEMap=carrier_plans[0].plan_id.CData,DEG_OEMDevUpdateAccountPlanId,NotInRequest


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/111.ExtractUpdateAccountRequestRuleChain/111.SetLogInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.UAFS.0002"
AdornOps=set DEG_OEMDevMessageString "Received in UpdateAIWFOS request"


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/111.ExtractUpdateAccountRequestRuleChain/112.LogRequestReceived]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevUpdateAccountPlanId
Attributes=DEG_OEMDevUpdateAccountAuthToken
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
Message=Received in UpdateAIWFOS request :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=110.ValidateAuthToken
RuleNames=111.ValidateCarrierPlan
RuleNames=200.CheckRequestProcessedFlag


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain/110.ValidateAuthToken]

ClassName=ConditionalRule
Conditions=DEG_OEMDevUpdateAccountAuthToken,=,"NotInRequest"
Conditions=DEG_OEMDevUpdateAccountAuthToken,=,""
Operations=or
TrueRuleChain=001.SetProcessedInteger


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain/110.ValidateAuthToken/001.SetProcessedInteger]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain/111.ValidateCarrierPlan]

ClassName=ConditionalRule
Conditions=DEG_OEMDevUpdateAccountPlanId,=,"NotInRequest"
TrueRuleChain=001.SetProcessedInteger


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain/111.ValidateCarrierPlan/001.SetProcessedInteger]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevUpdateAccountOauthAccessTokenOnly 1
AdornOps=set DEG_OEMDevUpdateAccountPlanId ""


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain/200.CheckRequestProcessedFlag]

ClassName=ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,1

TrueRuleChain=000.Set400CErrorResponse
TrueRuleChain=001.GenerateUAWFOSEndErrorAuditData
TrueRuleChain=010.Log400CErrorResponse
FalseRuleChain=100.ProcessRequest


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain/200.CheckRequestProcessedFlag/100.ProcessRequest]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=310.ProcessUpdateAccountRequestRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain/200.CheckRequestProcessedFlag/000.Set400CErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_OEMDevErrorMessageString "Invalid Request : Mandatory fields are missing in Request"
AdornOps=set DEG_CDevOutReturnCodeString "400"
AdornOps=set DEG_OEMDevRespStatusString "400"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.UAFS.0003"


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain/200.CheckRequestProcessedFlag/001.GenerateUAWFOSEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=412.DEG32GenerateUAWFOSEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/211.ValidateUpdateAccountRequestRuleChain/200.CheckRequestProcessedFlag/010.Log400CErrorResponse]

ClassName=LogNMERule
LogLevel=DEBUG
Message=Invalid Request ::
Attributes=DEG_OEMDevUpdateAccountAuthToken
Attributes=DEG_OEMDevUpdateAccountPlanId
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=200.CallCustomTemplate
RuleNames=300.CheckCustomResponse


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/200.CallCustomTemplate]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitVariable
RuleNames=150.CopyDegToCustomAttributes
RuleNames=100.LogBeforeCustom
RuleNames=200.CallCustomTemplate
RuleNames=250.CopyCustomToDegAttributes
RuleNames=300.LogAfterCustom


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/200.CallCustomTemplate/100.InitVariable]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_OEMDevImsiString ""
AdornOps=setifnull DEG_OEMDevUpdateAccountAuthToken ""
AdornOps=setifnull DEG_OEMDevUpdateAccountPlanId ""
AdornOps=setifnull DEG_OEMDevUpdateAccountPlanStatus 0
AdornOps=setifnull DEG_OEMDevUpdateAccountErrorFlag 0
AdornOps=setifnull DEG_MDN 0
AdornOps=setifnull DEG_OEMDevRespStatusString "6005"
AdornOps=setifnull DEG_OEMDevUpdateAccountOauthAccessTokenOnly 0


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/200.CallCustomTemplate/150.CopyDegToCustomAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevImsiString CUST_UAWFOS_IN_IMSIString
AdornOps=copy DEG_OEMDevUpdateAccountAuthToken CUST_UAWFOS_IN_OauthToken
AdornOps=copy DEG_OEMDevUpdateAccountPlanId CUST_UAWFOS_IN_PlanId
AdornOps=copy DEG_OEMDevUpdateAccountPlanStatus CUST_UAWFOS_OUT_PlanStatus 
AdornOps=copy DEG_OEMDevUpdateAccountErrorFlag CUST_UAWFOS_OUT_ErrorInteger
AdornOps=copy DEG_OEMDevUpdateAccountOauthAccessTokenOnly CUST_UAWFOS_IN_OauthTokenOnly
AdornOps=copy DEG_MDN CUST_UAWFOS_IN_MDN
AdornOps=copy DEG_OEMDevRespStatusString CUST_UAWFOS_OUT_RespStatusString
AdornOps=setifnull DEG_OEMDevAcceptLanguageString "en_US"
AdornOps=setifnull DEG_OEMDevXCountryISOCodeString ""
AdornOps=copy DEG_OEMDevAcceptLanguageString CUST_UAWFOS_IN_AcceptLanguageString
AdornOps=copy DEG_OEMDevXCountryISOCodeString CUST_UAWFOS_IN_XCountryISOCodeString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.UAFS.0004"
AdornOps=set DEG_OEMDevMessageString "Customise attributes Before UAWFOS"


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/200.CallCustomTemplate/100.LogBeforeCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_UAWFOS_IN_IMSIString
Attributes=CUST_UAWFOS_IN_MDN
Attributes=CUST_UAWFOS_IN_OauthToken
Attributes=CUST_UAWFOS_IN_PlanId
Attributes=CUST_UAWFOS_IN_OauthTokenOnly
Attributes=CUST_UAWFOS_OUT_PlanStatus
Attributes=CUST_UAWFOS_OUT_ErrorInteger
Attributes=CUST_UAWFOS_OUT_RespStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Customise attributes Before UAWFOS :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/200.CallCustomTemplate/200.CallCustomTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_Apple_UAWFOS_GetPlanStatus
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/200.CallCustomTemplate/300.LogAfterCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_UAWFOS_IN_IMSIString
Attributes=CUST_UAWFOS_IN_MDN
Attributes=CUST_UAWFOS_IN_OauthToken
Attributes=CUST_UAWFOS_IN_PlanId
Attributes=CUST_UAWFOS_IN_OauthTokenOnly
Attributes=CUST_UAWFOS_OUT_PlanStatus
Attributes=CUST_UAWFOS_OUT_ErrorInteger
Attributes=CUST_UAWFOS_OUT_RespStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Customise attributes After UAWFOS :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/200.CallCustomTemplate/250.CopyCustomToDegAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy CUST_UAWFOS_OUT_PlanStatus DEG_OEMDevUpdateAccountPlanStatus
AdornOps=copy CUST_UAWFOS_OUT_ErrorInteger DEG_OEMDevUpdateAccountErrorFlag
AdornOps=copy CUST_UAWFOS_OUT_RespStatusString DEG_OEMDevRespStatusString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.UAFS.0005"
AdornOps=set DEG_OEMDevMessageString "Customise attributes After UAWFOS"


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevUpdateAccountErrorFlag,=,0
FalseRuleChain=100.InitErrorResponse
FalseRuleChain=200.SetErrorResponse
FalseRuleChain=210.GenerateUAWFOSEndErrorAuditData
TrueRuleChain=100.SetSuccessResponse
TrueRuleChain=200.GenerateEndOkAuditDataRuleChain
TrueRuleChain=300.GenerateResponse


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/100.SetSuccessResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString "6000"
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending updateAccountWithFeatureOrService response: "
AdornOps=set DEG_AuditNRBMessageString "Sending updateAccountWithFeatureOrService response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/200.GenerateEndOkAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=411.DEG32GenerateUAWFOSEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/300.GenerateResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevUpdateAccountOauthAccessTokenOnly,=,1
TrueRuleChain=300.GenerateOauthTokenResponseOnly
FalseRuleChain=250.ValidatePlanStatusValue
FalseRuleChain=300.GenerateResponseWithPlanStatus


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/300.GenerateResponse/300.GenerateOauthTokenResponseOnly]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=false
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse2.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse2.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/300.GenerateResponse/250.ValidatePlanStatusValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevUpdateAccountPlanStatus,!=,1
Conditions=DEG_OEMDevUpdateAccountPlanStatus,!=,2
Conditions=DEG_OEMDevUpdateAccountPlanStatus,!=,3
Operations=and,and
TrueRuleChain=100.SetInfoForLog
TrueRuleChain=100.SetValidationFailResponse


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/300.GenerateResponse/250.ValidatePlanStatusValue/100.SetInfoForLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.UAFS.0006"
AdornOps=set DEG_OEMDevErrorMessageString "Validation failure for Action updateAccountWithFeatureOrService on PlanStatus value"


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/300.GenerateResponse/250.ValidatePlanStatusValue/100.SetValidationFailResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevImsiString
Attributes=DEG_MDN
Attributes=DEG_OEMDevUpdateAccountPlanStatus
Attributes=DEG_OEMDevUpdateAccountPlanId
Attributes=DEG_OEMDevUpdateAccountAuthToken
Attributes=DEG_OEMDevUpdateAccountOauthAccessTokenOnly
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=CRITICAL
NullAlso=true
Message=Validation failure for Action updateAccountWithFeatureOrService on PlanStatus value ( Enumerated Value 1 = success, 2 = in-progress, 3 = rejected) : 


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/300.GenerateResponse/300.GenerateResponseWithPlanStatus]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=false
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse2.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse2.status.CData
NMEToStructuredNMEMap=DEG_OEMDevUpdateAccountPlanId,jsonResponse2.carrier_plans[0].plan_id.CData
NMEToStructuredNMEMap=DEG_OEMDevUpdateAccountPlanStatus,jsonResponse2.carrier_plans[0].status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/100.InitErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevOutReturnCodeString "12"


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/210.GenerateUAWFOSEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=412.DEG32GenerateUAWFOSEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/310.ProcessUpdateAccountRequestRuleChain/300.CheckCustomResponse/200.SetErrorResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=false
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse2.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse2.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/410.DEG32GenerateUAWFOSStartAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditNRBMessageAttribute
RuleNames=500.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/410.DEG32GenerateUAWFOSStartAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_CDevProcessStartTimeLong
AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString "0"
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=set DEG_AuditTransactionTypeString "updateAccountWithFeatureOrService"
AdornOps=set DEG_AuditSourceDestinationString "Device"
#AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
AdornOps=set DEG_AuditDeviceTypeString ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/410.DEG32GenerateUAWFOSStartAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEVICE TO DEG -> Received updateAccountWithFeatureOrService request: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/410.DEG32GenerateUAWFOSStartAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/410.DEG32GenerateUAWFOSStartAuditDataRuleChain/400.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "updateAccountWithFeatureOrService request received"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/410.DEG32GenerateUAWFOSStartAuditDataRuleChain/500.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=600.GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/411.DEG32GenerateUAWFOSEndOKAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
#RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
#RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/411.DEG32GenerateUAWFOSEndOKAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_CDevOutReturnCodeString "1"
AdornOps=copy DEG_CDevOutReturnCodeString DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=set DEG_AuditTransactionTypeString "updateAccountWithFeatureOrService"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=copy DEG_OEMDevImsiString DEG_AuditChannelNameString
#AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
AdornOps=set DEG_AuditDeviceTypeString ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/411.DEG32GenerateUAWFOSEndOKAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending updateAccountWithFeatureOrService response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/411.DEG32GenerateUAWFOSEndOKAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/411.DEG32GenerateUAWFOSEndOKAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "Sending updateAccountWithFeatureOrService response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/411.DEG32GenerateUAWFOSEndOKAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=600.GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/412.DEG32GenerateUAWFOSEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/412.DEG32GenerateUAWFOSEndErrorAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
#AdornOps=set DEG_CDevOutReturnCodeString "6005"
AdornOps=copy DEG_CDevOutReturnCodeString DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=set DEG_AuditTransactionTypeString "updateAccountWithFeatureOrService"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=copy DEG_OEMDevImsiString DEG_AuditChannelNameString
#AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/412.DEG32GenerateUAWFOSEndErrorAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending updateAccountWithFeatureOrService error response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/412.DEG32GenerateUAWFOSEndErrorAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/412.DEG32GenerateUAWFOSEndErrorAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "updateAccountWithFeatureOrService error response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/updateAccountWithFeatureOrService_V1Core/RuleChains/412.DEG32GenerateUAWFOSEndErrorAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=600.GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true



