[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools]

EncapsulatorName=DEG_DeviceInterface
EncapsulatorName=DEG_DeviceHeartBeat

[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceInterface]

ClassName=LogFileEncapsulator
CleanupHandler=CleanupHandler
ConstantAttributes=log_IUMProcessName,${DEVICEINTERFACE_PROCESS_NAME}
FlushOnEOF=false
MaxRecordSize=16000
TailingMode=continuous
UpdateTime=false
UpdateTimeDelay=10


[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceInterface/CleanupHandler]

ClassName=DeleteFileCleanupHandler


[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceInterface/FileRollPolicy]

ClassName=PerlRegexFilePolicy
FilePattern=Alarming_${DEVICEINTERFACE_PROCESS_NAME}.log.(\d{14})
Format=Date,yyyyMMddHHmmss,1
SrcDir=${IUM_LOG_DIR}


[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceInterface/Parser]

Attributes=EndTime,Date
Attributes=log_EventId,EventId
Attributes=log_EventLevelSeverity,Severity
Attributes=log_EventMessage,Message
ClassName=NameValueParser
Description=Parses log messages for errors
FieldDelimiter=\t
TimeStampFormat=MM/dd/yyyy HH:mm:ss.S z
Trim=false
UseDefaults=true


[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceInterface/Parser/PreProcessor]

ClassName=PreProcessor
Ignore=/INFORMATIVE:/
Ignore=/DEBUG:/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (ACCOUNTING): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (CRITICAL): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (ERROR): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (WARNING): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MustMatch=/CRITICAL|ERROR|WARNING:|ACCOUNTING:/


[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceHeartBeat]

ClassName=LogFileEncapsulator
CleanupHandler=CleanupHandler
ConstantAttributes=log_IUMProcessName,${DEVICEINTERFACE_PROCESS_NAME}
FlushOnEOF=false
MaxRecordSize=16000
TailingMode=continuous
UpdateTime=false
UpdateTimeDelay=10


[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceHeartBeat/CleanupHandler]

ClassName=DeleteFileCleanupHandler


[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceHeartBeat/FileRollPolicy]

ClassName=PerlRegexFilePolicy
FilePattern=Alarming_${DEVICE_HEARTBEATSCHEDULAR_PROCESS_NAME}.log.(\d{14})
Format=Date,yyyyMMddHHmmss,1
SrcDir=${IUM_LOG_DIR}


[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceHeartBeat/Parser]

Attributes=EndTime,Date
Attributes=log_EventId,EventId
Attributes=log_EventLevelSeverity,Severity
Attributes=log_EventMessage,Message
ClassName=NameValueParser
Description=Parses log messages for errors
FieldDelimiter=\t
TimeStampFormat=MM/dd/yyyy HH:mm:ss.S z
Trim=false
UseDefaults=true


[/templates/DEG/DEG_AlarmAgent/Apple_Encapsulator_Pools/DEG_DeviceHeartBeat/Parser/PreProcessor]

ClassName=PreProcessor
Ignore=/INFORMATIVE:/
Ignore=/DEBUG:/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (ACCOUNTING): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (CRITICAL): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (ERROR): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (WARNING): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MustMatch=/CRITICAL|ERROR|WARNING:|ACCOUNTING:/