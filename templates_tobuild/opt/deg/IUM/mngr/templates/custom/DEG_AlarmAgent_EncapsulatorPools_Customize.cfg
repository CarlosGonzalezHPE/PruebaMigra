

[/templates/DEG/DEG_AlarmAgent/CUSTRC_Alarm_Customize_Encapsulator_Pools]

EncapsulatorName=DEG_EntitlementChangeNotification


[/templates/DEG/DEG_AlarmAgent/CUSTRC_Alarm_Customize_Encapsulator_Pools/DEG_EntitlementChangeNotification]

ClassName=LogFileEncapsulator
CleanupHandler=CleanupHandler
ConstantAttributes=log_IUMProcessName,${ENT_INTERFACE_PROCESS_NAME}
FlushOnEOF=false
MaxRecordSize=16000
TailingMode=continuous
UpdateTime=true
UpdateTimeDelay=10


[/templates/DEG/DEG_AlarmAgent/CUSTRC_Alarm_Customize_Encapsulator_Pools/DEG_EntitlementChangeNotification/CleanupHandler]

ClassName=DeleteFileCleanupHandler


[/templates/DEG/DEG_AlarmAgent/CUSTRC_Alarm_Customize_Encapsulator_Pools/DEG_EntitlementChangeNotification/FileRollPolicy]

ClassName=PerlRegexFilePolicy
FilePattern=Alarming_${ENT_INTERFACE_PROCESS_NAME}.log.(\d{14})
Format=Date,yyyyMMddHHmmss,1
SrcDir=${IUM_LOG_DIR}


[/templates/DEG/DEG_AlarmAgent/CUSTRC_Alarm_Customize_Encapsulator_Pools/DEG_EntitlementChangeNotification/FlushPolicy]

ClassName=TimeFlushPolicy
ClockInterval=1m
Description=Flushes every NME to the datastore every minute data time


[/templates/DEG/DEG_AlarmAgent/CUSTRC_Alarm_Customize_Encapsulator_Pools/DEG_EntitlementChangeNotification/Parser]

Attributes=EndTime,Date
Attributes=log_EventId,EventId
Attributes=log_EventLevelSeverity,Severity
Attributes=log_EventMessage,Message
ClassName=NameValueParser
Description=Parses log messages for errors
FieldDelimiter=\t
TimeStampFormat=MM/dd/yyyy HH:mm:ss.S z
Trim=false
UseDefaults=true


[/templates/DEG/DEG_AlarmAgent/CUSTRC_Alarm_Customize_Encapsulator_Pools/DEG_EntitlementChangeNotification/Parser/PreProcessor]

ClassName=PreProcessor
Ignore=/INFORMATIVE:/
Ignore=/DEBUG:/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (ACCOUNTING): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (CRITICAL): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (ERROR): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MatchModify=,s/^(\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} [A-Z]{2,5}) .* \((.*)\) (WARNING): (.*):*/Date=$1	EventId=$2	Severity=$3	Message=$4/
MustMatch=/CRITICAL|ERROR|WARNING:|ACCOUNTING:/
