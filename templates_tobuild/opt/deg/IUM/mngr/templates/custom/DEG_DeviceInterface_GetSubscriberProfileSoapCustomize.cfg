

[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize]


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors]

ConnectorNames=100.GetSubscriberDetailsSOAPClientConnector
ConnectorNames=200.CorbaConnector


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/100.GetSubscriberDetailsSOAPClientConnector]

ClassName=HttpClientConnector
Requests=GetSubscriberDetailsRequest


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/100.GetSubscriberDetailsSOAPClientConnector/EndPoints]

AvailabilityMonitorInterval=300
ClassName=com.hp.usage.connector.lookup.RoundRobinEndPointSelector
EndPoints=EndPoint1
EndPoints=EndPoint2
EndPoints=EndPoint3
EndPoints=EndPoint4
EndPoints=EndPoint5
FailOnFirstConnectionError=false
ReconnectRetryInterval=30
ReconnectRetryLimit=3


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/100.GetSubscriberDetailsSOAPClientConnector/EndPoints/EndPoint1]

ClassName=HttpEndPoint
CloseConnectionAfterEachRequest=true
KeyStoreFile=${PGWSERVER_KEYSTORE_FILE}
KeyStorePassword=${PGWSERVER_KEYSTORE_PASS}
KeyStoreType=${PGWSERVER_KEYSTORE_TYPE}
NumConnections=${PGWSERVER_NUMCONNECTIONS}
RemoteHostURL=${PGWSERVER_HTTPS_ULISES_2_URL}
TrustStoreFile=${PGWSERVER_ULISES_2_TRUSTSTORE_FILE}
TrustStorePassword=${PGWSERVER_TRUSTSTORE_PASS}
TrustStoreType=${PGWSERVER_TRUSTSTORE_TYPE}


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/100.GetSubscriberDetailsSOAPClientConnector/EndPoints/EndPoint2]

ClassName=HttpEndPoint
CloseConnectionAfterEachRequest=true
KeyStoreFile=${PGWSERVER_KEYSTORE_FILE}
KeyStorePassword=${PGWSERVER_KEYSTORE_PASS}
KeyStoreType=${PGWSERVER_KEYSTORE_TYPE}
NumConnections=${PGWSERVER_NUMCONNECTIONS}
RemoteHostURL=${PGWSERVER_HTTPS_COSLADA_1_URL}
TrustStoreFile=${PGWSERVER_COSLADA_1_TRUSTSTORE_FILE}
TrustStorePassword=${PGWSERVER_TRUSTSTORE_PASS}
TrustStoreType=${PGWSERVER_TRUSTSTORE_TYPE}


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/100.GetSubscriberDetailsSOAPClientConnector/EndPoints/EndPoint3]

ClassName=HttpEndPoint
CloseConnectionAfterEachRequest=true
KeyStoreFile=${PGWSERVER_KEYSTORE_FILE}
KeyStorePassword=${PGWSERVER_KEYSTORE_PASS}
KeyStoreType=${PGWSERVER_KEYSTORE_TYPE}
NumConnections=${PGWSERVER_NUMCONNECTIONS}
RemoteHostURL=${PGWSERVER_HTTPS_COSLADA_2_URL}
TrustStoreFile=${PGWSERVER_COSLADA_2_TRUSTSTORE_FILE}
TrustStorePassword=${PGWSERVER_TRUSTSTORE_PASS}
TrustStoreType=${PGWSERVER_TRUSTSTORE_TYPE}


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/100.GetSubscriberDetailsSOAPClientConnector/EndPoints/EndPoint4]

ClassName=HttpEndPoint
CloseConnectionAfterEachRequest=true
KeyStoreFile=${PGWSERVER_KEYSTORE_FILE}
KeyStorePassword=${PGWSERVER_KEYSTORE_PASS}
KeyStoreType=${PGWSERVER_KEYSTORE_TYPE}
NumConnections=${PGWSERVER_NUMCONNECTIONS}
RemoteHostURL=${PGWSERVER_HTTPS_GARCILASO_1_URL}
TrustStoreFile=${PGWSERVER_GARCILASO_1_TRUSTSTORE_FILE}
TrustStorePassword=${PGWSERVER_TRUSTSTORE_PASS}
TrustStoreType=${PGWSERVER_TRUSTSTORE_TYPE}


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/100.GetSubscriberDetailsSOAPClientConnector/EndPoints/EndPoint5]

ClassName=HttpEndPoint
CloseConnectionAfterEachRequest=true
KeyStoreFile=${PGWSERVER_KEYSTORE_FILE}
KeyStorePassword=${PGWSERVER_KEYSTORE_PASS}
KeyStoreType=${PGWSERVER_KEYSTORE_TYPE}
NumConnections=${PGWSERVER_NUMCONNECTIONS}
RemoteHostURL=${PGWSERVER_HTTPS_GARCILASO_2_URL}
TrustStoreFile=${PGWSERVER_GARCILASO_2_TRUSTSTORE_FILE}
TrustStorePassword=${PGWSERVER_TRUSTSTORE_PASS}
TrustStoreType=${PGWSERVER_TRUSTSTORE_TYPE}


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/100.GetSubscriberDetailsSOAPClientConnector/EndPoints/EndPointSIMULATOR]

ClassName=HttpEndPoint
CloseConnectionAfterEachRequest=true
NumConnections=${PGWSERVER_NUMCONNECTIONS}
RemoteHostURL=http://10.192.153.194:8194/GetSubscriberDetails.1/servlet/IUMServlet


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/100.GetSubscriberDetailsSOAPClientConnector/GetSubscriberDetailsRequest]

ClassName=SoapHttpRequest
FaultCodeField=DEG_SubscribDetailsFaultcodeString
FaultStringField=DEG_SubscribDetailsFaultString
HeaderTag=Header
NMENamespace=Umbrella
OperationIdField=DEG_SubscribDetailsOperationIDString
Operations=GetSubscriberDetailsRequest
Operations=searchResponse
RequestHeaderMap=SOAPAction,DEG_SubscribDetailsHDRtransactionIdString,searchRequest
WSDLFile=${PGWSERVER_INTERFACE_WSDL_FILE}


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/Connectors/200.CorbaConnector]

ClassName=CorbaConnector


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/ReferenceDataService]

QueryNames=DEG_BLACKLIST_RANGES_IMSILOOKUP


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/ReferenceDataService/DEG_BLACKLIST_RANGES_IMSILOOKUP]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
CommonPolicyID=Policy1
ErrorMessageAttribute=DEG_OEMDevErrorMessageString
ErrorNameAttribute=DEG_OEMDevErrorNameString
FieldExtracted=DEG_RANGENAME,DEG_BlacklistRangeNameString
QueryString=SELECT %FIELDS FROM DEG_BLACKLIST_RANGES WHERE %DEG_IMSI BETWEEN DEG_RANGESTART and DEG_RANGEEND
ResultAttribute=DEG_CDevMatchFoundInteger
ResultIndexAttribute=DEG_CDevIndexInteger


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/ReferenceDataService/DEG_BLACKLIST_RANGES_IMSILOOKUP/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.LogAlarming
RuleNames=200.SetErrorFlag


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/ReferenceDataService/DEG_BLACKLIST_RANGES_IMSILOOKUP/ErrorRule/100.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/ReferenceDataService/DEG_BLACKLIST_RANGES_IMSILOOKUP/ErrorRule/200.SetErrorFlag]

AdornOps=set DEG_CDevDBErrorFlagInteger 1
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/ReferenceDataService/DEG_BLACKLIST_RANGES_IMSILOOKUP/InitialRule]

AdornOps=set DEG_CDevIndexInteger 0
AdornOps=set DEG_CDevMatchFoundInteger 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_BLACKLIST_RANGES"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains]

RuleChainNames=100T.SendSubscriberProfileSoapRequestRuleChain
RuleChainNames=200T.SendNotificationTokensSoapRequestRuleChain


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitCustom
RuleNames=130.InitSubscriberProfileSoapRequest
RuleNames=140.LogAttributesRequest
RuleNames=150.QueryBlacklist
RuleNames=160.PrepareSoapRequest
RuleNames=170.CoreV1_EntitlementAdjustment
RuleNames=180.AdjustProvisioningStatus4VoWiFi


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/100.InitCustom]

AdornOps=setifnull DEG_OEMDevQueryString ""
AdornOps=set CUST_GSP_OUT_EntitlementStatus "Multi-SIM=6100"
AdornOps=set CUST_GSP_OUT_CUSTACTFEATURELIST "Multi-SIM"
AdornOps=set DEG_CDevMobileNumberString 0
AdornOps=set CUST_GSP_OUT_SubscriberExistsFlagInteger 1
AdornOps=set CUST_GSP_OUT_ErrorFlagInteger 0
AdornOps=set DEG_OEMDevtempGatewayAddressString ${GATEWAY_ADDRESS_PRIMARY}
AdornOps=lower DEG_OEMDevtempGatewayAddressString CUST_GSP_OUT_GatewayAddrString
AdornOps=set CUST_GSP_OUT_VoWiFi_ADDR_UPDATE_POSTDATA ""
AdornOps=set CUST_GSP_OUT_VoWiFi_ADDR_UPDATE_URL ""
AdornOps=setifnull CUST_GSP_OUT_VoWiFi_TC_STATUS ${DEG_DEFAULT_TC_STATUS}
AdornOps=set CUST_GSP_OUT_VoWiFi_ADDR_STATUS ${DEG_DEFAULT_ADDRESS_STATUS}
AdornOps=setifnull CUST_GSP_OUT_VoWiFi_PROVISIONING_STATUS ${DEG_DEFAULT_PROVISIONING_STATUS}
AdornOps=set CUST_GSP_OUT_EAPAKAAuthRequiredFlagString "Y"
AdornOps=copy CUST_GSP_IN_IMSIString DEG_IMSI
AdornOps=set CUST_GSP_OUT_COMPANIONDEVICE_COUNT 0
AdornOps=set DEG_GetSubscribDetailsSoapResponseDelimiterString "<service>"
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/130.InitSubscriberProfileSoapRequest]

AdornOps=set DEG_GetSubscribDetailsSoapVersionString SUBSCRIBER_v10
AdornOps=set DEG_GetSubscribDetailsSoapObjectClassString Subscriber
AdornOps=set DEG_GetSubscribDetailsSoapContextIdString ContextId
AdornOps=set DEG_GetSubscribDetailsSoapReturnAttributeString hss
AdornOps=set DEG_GetSubscribDetailsSoapAliasNameString imsi
AdornOps=copy CUST_GSP_IN_IMSIString DEG_GetSubscribDetailsSoapAliasValueString
AdornOps=set DEG_GetSubscribDetailsSoapOperationString "searchRequest"
AdornOps=set DEG_OEMDevGetSubscribDetailsErrorString 0
AdornOps=set DEG_GetSubscribDetailsSoapResponseEntitlements ""
AdornOps=set DEG_GetSubscribDetailsSoapResponseListOfEntitlements null
AdornOps=set DEG_GetSubscribDetailsSoapResponseCounterInteger 0
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/140.LogAttributesRequest]

Attributes=DEG_GetSubscribDetailsSoapVersionString
Attributes=DEG_GetSubscribDetailsSoapObjectClassString
Attributes=DEG_GetSubscribDetailsSoapAliasNameString
Attributes=DEG_GetSubscribDetailsSoapAliasValueString
ClassName=LogNMERule
LogLevel=INFO
Message=DEG TO PGW -> Sending GetSubscriberDetails Soap Request:


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/150.QueryBlacklist]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_BLACKLIST_RANGES_IMSILOOKUP


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest]

ClassName=ConditionalRule
Conditions=DEG_CDevMatchFoundInteger,=,0
FalseRuleChain=110.SetBlacklisted
FalseRuleChain=120.SendBlacklistedResponse
FalseRuleChain=130.LogBlacklisted
TrueRuleChain=150.SendSubscriberRequest_CreateSNMEBody
TrueRuleChain=160.ExecuteSendSubscriberRequest
TrueRuleChain=170.AuditDEG2PGW
TrueRuleChain=180.CheckSoapResponse
TrueRuleChain=190.CheckListOfEntitlementsStatus
TrueRuleChain=200.CheckFailureAndUnknownSubscriber
TrueRuleChain=210.CheckIfGotHSS


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/110.SetBlacklisted]

AdornOps=set DEG_BLACKLIST_FLAG 1
AdornOps=setsystime DEG_BLACKLISTWINDOW_STARTTIME
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1230"
AdornOps=set DEG_OEMDevErrorMessageString "Subscriber is blacklisted"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/120.SendBlacklistedResponse]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=224I.DEG20GenerateBlackListedResponseRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/130.LogBlacklisted]

Attributes=DEG_AUTH_COUNT
Attributes=DEG_BLACKLIST_FLAG
Attributes=DEG_BLACKLISTWINDOW_STARTTIME
Attributes=DEG_OEMDevImsiString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=ERROR
Message=Subscriber is blacklisted :
NullAlso=true


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/150.SendSubscriberRequest_CreateSNMEBody]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=false
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapOperationString,DEG_SubscribDetailsOperationIDString
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapVersionString,searchRequest.version.CData
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapObjectClassString,searchRequest.base.objectclass.CData
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapAliasNameString,searchRequest.base.alias.name
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapAliasValueString,searchRequest.base.alias.value
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/160.ExecuteSendSubscriberRequest]

ClassName=SynchronousLookupRule
ConnectorName=100.GetSubscriberDetailsSOAPClientConnector
ErrorCodeAttribute=DEG_GetSubscribDetailsSoapErrorCodeString
ErrorMessageAttribute=DEG_GetSubscribDetailsSoapErrorMessageString
ErrorRule=16010.SynchronousErrorRule
NoMatchRule=16020.SynchronousNoMatchRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/160.ExecuteSendSubscriberRequest/16010.SynchronousErrorRule]

Attributes=DEG_GetSubscribDetailsSoapErrorCodeString
Attributes=DEG_GetSubscribDetailsSoapErrorMessageString
Attributes=DEG_SubscribDetailsFaultcodeString
Attributes=DEG_SubscribDetailsFaultString
ClassName=LogNMERule
LogLevel=ERROR
Message=16010.SynchronousErrorRule: 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/160.ExecuteSendSubscriberRequest/16020.SynchronousNoMatchRule]

Attributes=DEG_GetSubscribDetailsSoapErrorCodeString
Attributes=DEG_GetSubscribDetailsSoapErrorMessageString
Attributes=DEG_SubscribDetailsFaultcodeString
Attributes=DEG_SubscribDetailsFaultString
ClassName=LogNMERule
LogLevel=INFO
Message=16020.SynchronousNoMatchRule: 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/160.ExecuteSendSubscriberRequest/ErrorRule]

AdornOps=set DEG_OEMDevGetSubscribDetailsErrorString 1
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/170.AuditDEG2PGW]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=17010.InitAuditDEG2PGW
RuleNames=17020.PopulateAuditAppendingAttributes
RuleNames=17030.LogAudit
RuleNames=17040.NmeStoreAudit


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/170.AuditDEG2PGW/17010.InitAuditDEG2PGW]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=set DEG_AuditInterfaceString "SOAP"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditMessageString "DEG TO PGW -> SOAP request to Provisioning GateWay (PGW) has been sent: "
AdornOps=set DEG_AuditNRBMessageString "Request sent to PGW"
AdornOps=copy DEG_OEMDevActionNameString DEG_AuditTransactionTypeString
AdornOps=set DEG_AuditSourceDestinationString "PGW"
AdornOps=copy CUST_GSP_IN_IMSIString DEG_AuditIMSIString
AdornOps=set DEG_AuditDurationString 0
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/170.AuditDEG2PGW/17020.PopulateAuditAppendingAttributes]

AdornOps=set DEG_TempString "DEG_GetSubscribDetailsSoapAliasNameString="
AdornOps=+ DEG_AuditMessageString DEG_TempString DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_GetSubscribDetailsSoapAliasNameString DEG_AuditMessageString
AdornOps=set DEG_TempString ", DEG_GetSubscribDetailsSoapAliasValueString="
AdornOps=+ DEG_AuditMessageString DEG_TempString DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_GetSubscribDetailsSoapAliasValueString DEG_AuditMessageString
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/170.AuditDEG2PGW/17030.LogAudit]

Attributes=DEG_AuditTimestampLong
Attributes=DEG_AuditInterfaceString
Attributes=DEG_AuditInOutString
Attributes=DEG_AuditProcessingNodeString
Attributes=DEG_AuditMessageString
Attributes=DEG_AuditNRBMessageString
Attributes=DEG_AuditTransactionTypeString
Attributes=DEG_AuditSourceDestinationString
Attributes=DEG_AuditResultCodeString
Attributes=DEG_AuditIMSIString
ClassName=LogNMERule
LogLevel=DEBUG
Message=100T.SendSubscriberProfileSoapRequestRuleChain/150.AuditDEG2RIG/30.LogAudit --> 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/170.AuditDEG2PGW/17040.NmeStoreAudit]

ClassName=com.hp.siu.sessionserver.rules.NMEStoreRule
NMEStore=AuditNmeStore


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse]

ClassName=ConditionalRule
Conditions=DEG_OEMDevGetSubscribDetailsErrorString,=,0
TrueRuleChain=18010.SuccessSNMEToNMEConversion
TrueRuleChain=18020.SuccessSNMEToNMEConversionAliasRepositoryData
TrueRuleChain=18030.SuccessGetMSISDN


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18010.SuccessSNMEToNMEConversion]

ClassName=NMEConversionRule
SNMEType=Umbrella:Body
StructuredNMEToNMEMap=searchResponse.version.CData,DEG_GetSubscribDetailsSoapResponseVersionString
StructuredNMEToNMEMap=searchResponse.objects.auc.imsi.CData,DEG_GetSubscribDetailsSoapResponseImsiString
StructuredNMEToNMEMap=searchResponse.objects.hlr.ts11[0].msisdn.CData,DEG_GetSubscribDetailsSoapResponseMsisdnString,0
StructuredNMEToNMEMap=searchResponse.objects.hlr.routingCategory.CData,DEG_GetSubscribDetailsSoapResponseRoutingCategoryInteger,-1
StructuredNMEToNMEMap=searchResponse.objects.hlr.imeisv.CData,DEG_GetSubscribDetailsSoapResponseImeiString


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData]

ClassName=com.hp.usage.bulkcm.LoopRule
ExitConditions=DEG_GetSubscribDetailsSoapResponseCounterInteger,=,-1
RetryCount=50
RetryDelay=0
RuleNames=100.GetAliasRepoFromStructuredNME
RuleNames=200.CheckIfEmptyAliasRepo


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData/100.GetAliasRepoFromStructuredNME]

ClassName=NMEConversionRule
SNMEType=Umbrella:Body
StructuredNMEToNMEMap=searchResponse.objects.hss.aliasRepositoryData[DEG_GetSubscribDetailsSoapResponseCounterInteger].serviceIndId.CData,DEG_GetSubscribDetailsSoapResponseServiceIndIdString,EMPTY
StructuredNMEToNMEMap=searchResponse.objects.hss.aliasRepositoryData[DEG_GetSubscribDetailsSoapResponseCounterInteger].version.CData,DEG_GetSubscribDetailsSoapResponseDataVersionString,EMPTY
StructuredNMEToNMEMap=searchResponse.objects.hss.aliasRepositoryData[DEG_GetSubscribDetailsSoapResponseCounterInteger].aliasId.CData,DEG_GetSubscribDetailsSoapResponseAliasIdString,EMPTY
StructuredNMEToNMEMap=searchResponse.objects.hss.aliasRepositoryData[DEG_GetSubscribDetailsSoapResponseCounterInteger].asData.CData,DEG_GetSubscribDetailsSoapResponseAsDataChorizoString,EMPTY


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_GetSubscribDetailsSoapResponseServiceIndIdString,=,EMPTY
Conditions=DEG_GetSubscribDetailsSoapResponseServiceIndIdString,=,MultiServiceActivatorServices
Conditions=DEG_GetSubscribDetailsSoapResponseServiceIndIdString,=,DEG_GetSubscribDetailsSoapResponseServiceIndIdString
GetEntitlements=00.SplitPRUEBAS
GetEntitlements=01.TokenizeEntitlements
GetEntitlements=30.SetLoopEndAliasRepo
IncreaseCounter=20.IncreaseCounter
Operations=None
SetLoopEnd=30.SetLoopEndAliasRepo
TrueRuleChain=SetLoopEnd
TrueRuleChain=GetEntitlements
TrueRuleChain=IncreaseCounter


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/00.SplitPRUEBAS]

AdornOps=substr "<service-states>" "</service-states>" DEG_GetSubscribDetailsSoapResponseAsDataChorizoString DEG_GetSubscribDetailsSoapResponseAsDataChorizoString
AdornOps=replace "<service>" "$" DEG_GetSubscribDetailsSoapResponseAsDataChorizoString DEG_GetSubscribDetailsSoapResponseTempString
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/01.TokenizeEntitlements]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
Delimiter=$
SourceAttribute=DEG_GetSubscribDetailsSoapResponseTempString
TokenAttribute=DEG_GetSubscribDetailsSoapResponseTemp2String


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/01.TokenizeEntitlements/IterationRule]

ClassName=ConditionalRule
Conditions=DEG_GetSubscribDetailsSoapResponseTemp2String,contains,"<service-name>"
TrueRuleChain=10.AdornService
TrueRuleChain=20.AddEntitlementToList


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/01.TokenizeEntitlements/IterationRule/10.AdornService]

AdornOps=substr "<service-name>" "</service-name>" DEG_GetSubscribDetailsSoapResponseTemp2String DEG_GetSubscribDetailsSoapResponseTempServiceNameString
AdornOps=substr "<status>" "</status>" DEG_GetSubscribDetailsSoapResponseTemp2String DEG_GetSubscribDetailsSoapResponseTempStatusString
AdornOps=+ DEG_GetSubscribDetailsSoapResponseTempServiceNameString = DEG_GetSubscribDetailsSoapResponseTemp2String
AdornOps=+ DEG_GetSubscribDetailsSoapResponseTemp2String DEG_GetSubscribDetailsSoapResponseTempStatusString DEG_GetSubscribDetailsSoapResponseTemp2String
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/01.TokenizeEntitlements/IterationRule/20.AddEntitlementToList]

ClassName=AddToListAttributeRule
InputAttribute=DEG_GetSubscribDetailsSoapResponseTemp2String
ListAttribute=DEG_GetSubscribDetailsSoapResponseListOfEntitlements


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/20.IncreaseCounter]

AdornOps=+ DEG_GetSubscribDetailsSoapResponseCounterInteger 1 DEG_GetSubscribDetailsSoapResponseCounterInteger
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/30.SetLoopEndAliasRepo]

AdornOps=set DEG_GetSubscribDetailsSoapResponseCounterInteger -1
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/180.CheckSoapResponse/18030.SuccessGetMSISDN]

AdornOps=copy DEG_GetSubscribDetailsSoapResponseMsisdnString CUST_GSP_OUT_MDN
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus]

ClassName=ConditionalRule
Conditions=DEG_OEMDevGetSubscribDetailsErrorString,=,1
FalseRuleChain=19010.IterateListOfEntitlements
FalseRuleChain=19030.SuccessResponse
FalseRuleChain=19060.AuditPGW2DEG_SuccessResponse


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements]

ClassName=ListAttributeIterator
ListAttributeName=DEG_GetSubscribDetailsSoapResponseListOfEntitlements
RuleChain=100.BuildEntitlementsCustOut
RuleChain=200.CheckToAutoprovision
TmpAttributeName=DEG_GetSubscribDetailsSoapResponseEntitlements


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements/100.BuildEntitlementsCustOut]

AdornOps=+ CUST_GSP_OUT_EntitlementStatus , CUST_GSP_OUT_EntitlementStatus
AdornOps=+ CUST_GSP_OUT_EntitlementStatus DEG_GetSubscribDetailsSoapResponseEntitlements CUST_GSP_OUT_EntitlementStatus
AdornOps=+ CUST_GSP_OUT_CUSTACTFEATURELIST , CUST_GSP_OUT_CUSTACTFEATURELIST
AdornOps=substr 0 "=" DEG_GetSubscribDetailsSoapResponseEntitlements DEG_TempString
AdornOps=+ CUST_GSP_OUT_CUSTACTFEATURELIST DEG_TempString CUST_GSP_OUT_CUSTACTFEATURELIST
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements/200.CheckToAutoprovision]

ClassName=ConditionalRule
Conditions=DEG_GetSubscribDetailsSoapResponseRoutingCategoryInteger,=,61
Conditions=CUST_GSP_OUT_EntitlementStatus,contains,"VoLTE=6106"
Conditions=CUST_GSP_OUT_EntitlementStatus,contains,"VoWiFi=6101"
Operations=and,or
TrueRuleChain=10.SetAutoProvisionValues


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements/200.CheckToAutoprovision/10.SetAutoProvisionValues]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_GetSubscribDetailsSoapResponseEntitlements,=,"VoLTE=6106"
Conditions=DEG_GetSubscribDetailsSoapResponseEntitlements,=,"VoWiFi=6101"
Operations=None
TrueRuleChain=VoLTE
TrueRuleChain=VoWiFi
VoLTE=SetVoLTEAutoProvisionValues
VoLTE=10.InvokeAutoProvision
VoWiFi=SetVoWiFiAutoProvisionValues
VoWiFi=10.InvokeAutoProvision


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements/200.CheckToAutoprovision/10.SetAutoProvisionValues/SetVoLTEAutoProvisionValues]

AdornOps=setifnull DEG_CDevProcessStartTimeLong 0
AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AutoProvisionTimeStampEvent
AdornOps=copy DEG_IMSI DEG_AutoProvisionUsernameString
AdornOps=setifnull DEG_OEMDevActionNameString ""
AdornOps=copy DEG_OEMDevActionNameString DEG_AutoProvisionCommandString
AdornOps=setifnull DEG_GetSubscribDetailsSoapResponseImeiString ""
AdornOps=copy DEG_GetSubscribDetailsSoapResponseImeiString DEG_AutoProvisionUniqueIdString
AdornOps=setifnull DEG_OEMDevSubscriberIdString ""
AdornOps=substr "@" length DEG_OEMDevSubscriberIdString DEG_AutoProvisionRealmString
AdornOps=set DEG_AutoProvisionDetailsString "VoLTE"
AdornOps=setifnull DEG_OEMDevRequestIdString 0
AdornOps=copy DEG_OEMDevRequestIdString DEG_AutoProvisionRequestIdString
AdornOps=set DEG_AutoProvisionResultCodeString "6106"
AdornOps=set CUST_GSP_OUT_VoWiFi_PROVISIONING_STATUS 3
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements/200.CheckToAutoprovision/10.SetAutoProvisionValues/SetVoWiFiAutoProvisionValues]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevQueryString,=,core
Conditions=DEG_OEMDevQueryString,!=,core
Conditions=DEG_OEMDevQueryString,=,DEG_OEMDevQueryString
Operations=DoAll
SetCommon=30.SetCommonValues
SetCoreV1=10.SetCoreV1Value
SetCoreV2=20.SetCoreV2Value
TrueRuleChain=SetCoreV1
TrueRuleChain=SetCoreV2
TrueRuleChain=SetCommon


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements/200.CheckToAutoprovision/10.SetAutoProvisionValues/SetVoWiFiAutoProvisionValues/10.SetCoreV1Value]

AdornOps=set DEG_AutoProvisionResultCodeString "6106"
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements/200.CheckToAutoprovision/10.SetAutoProvisionValues/SetVoWiFiAutoProvisionValues/20.SetCoreV2Value]

AdornOps=set DEG_AutoProvisionResultCodeString "6101"
ClassName=AdornmentRule

[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements/200.CheckToAutoprovision/10.SetAutoProvisionValues/SetVoWiFiAutoProvisionValues/30.SetCommonValues]

AdornOps=setifnull DEG_CDevProcessStartTimeLong 0
AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AutoProvisionTimeStampEvent
AdornOps=copy DEG_IMSI DEG_AutoProvisionUsernameString
AdornOps=setifnull DEG_OEMDevActionNameString ""
AdornOps=copy DEG_OEMDevActionNameString DEG_AutoProvisionCommandString
AdornOps=setifnull DEG_GetSubscribDetailsSoapResponseImeiString ""
AdornOps=copy DEG_GetSubscribDetailsSoapResponseImeiString DEG_AutoProvisionUniqueIdString
AdornOps=setifnull DEG_OEMDevSubscriberIdString ""
AdornOps=substr "@" length DEG_OEMDevSubscriberIdString DEG_AutoProvisionRealmString
AdornOps=set DEG_AutoProvisionDetailsString "VoWiFi"
AdornOps=setifnull DEG_OEMDevRequestIdString 0
AdornOps=copy DEG_OEMDevRequestIdString DEG_AutoProvisionRequestIdString
AdornOps=set CUST_GSP_OUT_VoWiFi_PROVISIONING_STATUS 3
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19010.IterateListOfEntitlements/200.CheckToAutoprovision/10.SetAutoProvisionValues/10.InvokeAutoProvision]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=100U.AutoProvisionSubscriberRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19030.SuccessResponse]

Attributes=DEG_IMSI
Attributes=CUST_GSP_OUT_MDN
Attributes=DEG_GetSubscribDetailsSoapResponseRoutingCategoryInteger
Attributes=DEG_GetSubscribDetailsSoapResponseImeiString
Attributes=CUST_GSP_OUT_EntitlementStatus
Attributes=CUST_GSP_OUT_CUSTACTFEATURELIST
ClassName=LogNMERule
LogLevel=INFO
Message=PGW TO DEG -> GetSubscriberDetails Soap Answer received: 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19060.AuditPGW2DEG_SuccessResponse]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=17010.InitAuditPGW2DEG
RuleNames=17020.PopulateAuditAppendingAttributes
RuleNames=17030.LogAudit
RuleNames=17040.NmeStoreAudit


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19060.AuditPGW2DEG_SuccessResponse/17010.InitAuditPGW2DEG]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "SOAP"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditMessageString "PGW TO DEG -> Sending SOAP request to Provisioning GateWay (PGW) finished successfully: "
AdornOps=set DEG_AuditNRBMessageString "Successful Request sent to PGW"
AdornOps=copy DEG_OEMDevActionNameString DEG_AuditTransactionTypeString
AdornOps=set DEG_AuditSourceDestinationString "PGW"
AdornOps=copy DEG_OEMDevGetSubscribDetailsErrorString DEG_AuditResultCodeString
AdornOps=copy CUST_GSP_IN_IMSIString DEG_AuditIMSIString
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19060.AuditPGW2DEG_SuccessResponse/17020.PopulateAuditAppendingAttributes]

AdornOps=set DEG_TempString "CUST_GSP_OUT_MDN="
AdornOps=+ DEG_AuditMessageString DEG_TempString DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString CUST_GSP_OUT_MDN DEG_AuditMessageString
AdornOps=set DEG_TempString ", CUST_GSP_OUT_EntitlementStatus="
AdornOps=+ DEG_AuditMessageString DEG_TempString DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString CUST_GSP_OUT_EntitlementStatus DEG_AuditMessageString
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19060.AuditPGW2DEG_SuccessResponse/17030.LogAudit]

Attributes=DEG_AuditTimestampLong
Attributes=DEG_AuditInterfaceString
Attributes=DEG_AuditInOutString
Attributes=DEG_AuditProcessingNodeString
Attributes=DEG_AuditMessageString
Attributes=DEG_AuditNRBMessageString
Attributes=DEG_AuditTransactionTypeString
Attributes=DEG_AuditSourceDestinationString
Attributes=DEG_AuditResultCodeString
Attributes=DEG_AuditIMSIString
ClassName=LogNMERule
LogLevel=DEBUG
Message=100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19060.AuditPGW2DEG_SuccessResponse/17030.LogAudit --> 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/190.CheckListOfEntitlementsStatus/19060.AuditPGW2DEG_SuccessResponse/17040.NmeStoreAudit]

ClassName=com.hp.siu.sessionserver.rules.NMEStoreRule
NMEStore=AuditNmeStore


#[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/191.SetDummyEntitlementsTEMPORAL]
#
#AdornOps=set CUST_GSP_OUT_EntitlementStatus "Multi-SIM=6101,VoWiFi=6101,VoLTE=6101"
#AdornOps=set CUST_GSP_OUT_CUSTACTFEATURELIST "Multi-SIM,VoWiFi,VoLTE"
#ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber]

ClassName=ConditionalRule
Conditions=DEG_OEMDevGetSubscribDetailsErrorString,=,1
TrueRuleChain=20010.CheckIfUnknownSubscriber


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber]

ClassName=ConditionalRule
Conditions=DEG_GetSubscribDetailsSoapErrorMessageString,=,"Unsupported SOAP Operation ldapInfo"
FalseRuleChain=20.FailureResponse
FalseRuleChain=30.AuditPGW2DEG_FailureResponse
FalseRuleChain=40.SetHTTPErrorResponse
TrueRuleChain=10.SetUnknownSubscriber
TrueRuleChain=15.LogUnknownSubscriber


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber/10.SetUnknownSubscriber]

AdornOps=set CUST_GSP_OUT_SubscriberExistsFlagInteger 0
AdornOps=set DEG_OEMDevGetSubscribDetailsErrorString 0
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber/15.LogUnknownSubscriber]

Attributes=DEG_IMSI
ClassName=LogNMERule
LogLevel=INFO
Message=PGW TO DEG -> GetSubscriberDetails Soap Answer received (UNKNOWN SUBSCRIBER): 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber/20.FailureResponse]

AdornOps=set CUST_GSP_OUT_ErrorFlagInteger 1
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber/30.AuditPGW2DEG_FailureResponse]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=17010.InitAuditDEG2PGW
RuleNames=17020.PopulateAuditAppendingAttributes
RuleNames=17030.LogAudit
RuleNames=17040.NmeStoreAudit


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber/30.AuditPGW2DEG_FailureResponse/17010.InitAuditDEG2PGW]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "SOAP"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditMessageString "PGW TO DEG -> Sending SOAP request to Provisioning GateWay (PGW) finished with Error: "
AdornOps=set DEG_AuditNRBMessageString "Error Sending Request to PGW"
AdornOps=copy DEG_OEMDevActionNameString DEG_AuditTransactionTypeString
AdornOps=set DEG_AuditSourceDestinationString "PGW"
AdornOps=copy DEG_OEMDevGetSubscribDetailsErrorString DEG_AuditResultCodeString
AdornOps=copy CUST_GSP_IN_IMSIString DEG_AuditIMSIString
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber/30.AuditPGW2DEG_FailureResponse/17020.PopulateAuditAppendingAttributes]

AdornOps=set DEG_TempString "DEG_GetSubscribDetailsSoapErrorCodeString="
AdornOps=+ DEG_AuditMessageString DEG_TempString DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_GetSubscribDetailsSoapErrorCodeString DEG_AuditMessageString
AdornOps=set DEG_TempString ", DEG_GetSubscribDetailsSoapErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_TempString DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_GetSubscribDetailsSoapErrorMessageString DEG_AuditMessageString
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber/30.AuditPGW2DEG_FailureResponse/17030.LogAudit]

Attributes=DEG_AuditTimestampLong
Attributes=DEG_AuditInterfaceString
Attributes=DEG_AuditInOutString
Attributes=DEG_AuditProcessingNodeString
Attributes=DEG_AuditMessageString
Attributes=DEG_AuditNRBMessageString
Attributes=DEG_AuditTransactionTypeString
Attributes=DEG_AuditSourceDestinationString
Attributes=DEG_AuditResultCodeString
Attributes=DEG_AuditIMSIString
ClassName=LogNMERule
LogLevel=DEBUG
Message=100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/170.AuditDEG2PGW/17030.LogAudit --> 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber/30.AuditPGW2DEG_FailureResponse/17040.NmeStoreAudit]

ClassName=com.hp.siu.sessionserver.rules.NMEStoreRule
NMEStore=AuditNmeStore


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/200.CheckFailureAndUnknownSubscriber/20010.CheckIfUnknownSubscriber/40.SetHTTPErrorResponse]

Attributes=DEG_IMSI
Attributes=CUST_GSP_OUT_MDN
Attributes=DEG_GetSubscribDetailsSoapResponseRoutingCategoryInteger
Attributes=DEG_GetSubscribDetailsSoapResponseImeiString
Attributes=CUST_GSP_OUT_EntitlementStatus
Attributes=CUST_GSP_OUT_CUSTACTFEATURELIST
ClassName=LogNMERule
LogLevel=ERROR
Message=PGW TO DEG -> GetSubscriberDetails Soap Request finished with Error: 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS]

ClassName=ConditionalRule
Conditions=DEG_OEMDevGetSubscribDetailsErrorString,=,0
Conditions=CUST_GSP_OUT_SubscriberExistsFlagInteger,=,1
Conditions=CUST_GSP_OUT_CUSTACTFEATURELIST,=,"Multi-SIM"
Operations=and,and
TrueRuleChain=21010.CheckIfEligibleForAutoprovision


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS/21010.CheckIfEligibleForAutoprovision]

ClassName=ConditionalRule
Conditions=DEG_GetSubscribDetailsSoapResponseRoutingCategoryInteger,=,61
FalseRuleChain=2101040.SetNotEligible
TrueRuleChain=2101010.SetAutoprovision_VoLTE
TrueRuleChain=2101030.InvokeAutoprovision
TrueRuleChain=2101020.SetAutoprovision_VoWiFi
TrueRuleChain=2101030.InvokeAutoprovision
TrueRuleChain=2101050.ChangeDisabledStatusForVoLTE


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS/21010.CheckIfEligibleForAutoprovision/2101010.SetAutoprovision_VoLTE]

AdornOps=setifnull DEG_CDevProcessStartTimeLong 0
AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AutoProvisionTimeStampEvent
AdornOps=copy DEG_IMSI DEG_AutoProvisionUsernameString
AdornOps=setifnull DEG_OEMDevActionNameString ""
AdornOps=copy DEG_OEMDevActionNameString DEG_AutoProvisionCommandString
AdornOps=setifnull DEG_GetSubscribDetailsSoapResponseImeiString ""
AdornOps=copy DEG_GetSubscribDetailsSoapResponseImeiString DEG_AutoProvisionUniqueIdString
AdornOps=setifnull DEG_OEMDevSubscriberIdString ""
AdornOps=substr "@" length DEG_OEMDevSubscriberIdString DEG_AutoProvisionRealmString
AdornOps=set DEG_AutoProvisionDetailsString "VoLTE"
AdornOps=setifnull DEG_OEMDevRequestIdString 0
AdornOps=copy DEG_OEMDevRequestIdString DEG_AutoProvisionRequestIdString
AdornOps=set DEG_AutoProvisionResultCodeString "6106"
AdornOps=set CUST_GSP_OUT_VoWiFi_PROVISIONING_STATUS 3
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS/21010.CheckIfEligibleForAutoprovision/2101020.SetAutoprovision_VoWiFi]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevQueryString,=,core
Conditions=DEG_OEMDevQueryString,!=,core
Conditions=DEG_OEMDevQueryString,=,DEG_OEMDevQueryString
Operations=DoAll
SetCommon=30.SetCommonValues
SetCoreV1=10.SetCoreV1Value
SetCoreV2=20.SetCoreV2Value
TrueRuleChain=SetCoreV1
TrueRuleChain=SetCoreV2
TrueRuleChain=SetCommon


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS/21010.CheckIfEligibleForAutoprovision/2101020.SetAutoprovision_VoWiFi/10.SetCoreV1Value]

AdornOps=set DEG_AutoProvisionResultCodeString "6106"
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS/21010.CheckIfEligibleForAutoprovision/2101020.SetAutoprovision_VoWiFi/20.SetCoreV2Value]

AdornOps=set DEG_AutoProvisionResultCodeString "6101"
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS/21010.CheckIfEligibleForAutoprovision/2101020.SetAutoprovision_VoWiFi/30.SetCommonValues]

AdornOps=setifnull DEG_CDevProcessStartTimeLong 0
AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AutoProvisionTimeStampEvent
AdornOps=copy DEG_IMSI DEG_AutoProvisionUsernameString
AdornOps=setifnull DEG_OEMDevActionNameString ""
AdornOps=copy DEG_OEMDevActionNameString DEG_AutoProvisionCommandString
AdornOps=setifnull DEG_GetSubscribDetailsSoapResponseImeiString ""
AdornOps=copy DEG_GetSubscribDetailsSoapResponseImeiString DEG_AutoProvisionUniqueIdString
AdornOps=setifnull DEG_OEMDevSubscriberIdString ""
AdornOps=substr "@" length DEG_OEMDevSubscriberIdString DEG_AutoProvisionRealmString
AdornOps=set DEG_AutoProvisionDetailsString "VoWiFi"
AdornOps=setifnull DEG_OEMDevRequestIdString 0
AdornOps=copy DEG_OEMDevRequestIdString DEG_AutoProvisionRequestIdString
AdornOps=set CUST_GSP_OUT_VoWiFi_PROVISIONING_STATUS 3
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS/21010.CheckIfEligibleForAutoprovision/2101030.InvokeAutoprovision]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=100U.AutoProvisionSubscriberRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS/21010.CheckIfEligibleForAutoprovision/2101040.SetNotEligible]

AdornOps=set CUST_GSP_OUT_EntitlementStatus "Multi-SIM=6100,VoWiFi=6105,VoLTE=6105"
AdornOps=set CUST_GSP_OUT_CUSTACTFEATURELIST "Multi-SIM,VoWiFi,VoLTE"
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/210.CheckIfGotHSS/21010.CheckIfEligibleForAutoprovision/2101050.ChangeDisabledStatusForVoLTE]

AdornOps=+ CUST_GSP_OUT_EntitlementStatus ,VoLTE=6106 CUST_GSP_OUT_EntitlementStatus
AdornOps=+ CUST_GSP_OUT_CUSTACTFEATURELIST ,VoLTE CUST_GSP_OUT_CUSTACTFEATURELIST
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/160.PrepareSoapRequest/220.TRAZAfinal]

Attributes=CUST_GSP_OUT_EntitlementStatus
Attributes=CUST_GSP_OUT_CUSTACTFEATURELIST
Attributes=DEG_GetSubscribDetailsSoapResponseRoutingCategoryInteger
Attributes=DEG_GetSubscribDetailsSoapResponseErrorMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=<<< TRAZAfinal >>>: 
NullAlso=true


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/170.CoreV1_EntitlementAdjustment]

ClassName=ConditionalRule
Conditions=DEG_OEMDevQueryString,=,core
TrueRuleChain=17010.MakeEntitlementAdjustment


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/170.CoreV1_EntitlementAdjustment/17010.MakeEntitlementAdjustment]

AddEntitlementStatus=AddEntitlementStatusRuleChain
ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=CUST_GSP_OUT_EntitlementStatus,contains,"VoWiFi=6101"
Conditions=CUST_GSP_OUT_EntitlementStatus,!contains,"VoWiFi"
Operations=None
ReplaceEntitlementStatus=ReplaceEntitlementStatusRuleChain
TrueRuleChain=ReplaceEntitlementStatus
TrueRuleChain=AddEntitlementStatus


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/170.CoreV1_EntitlementAdjustment/17010.MakeEntitlementAdjustment/AddEntitlementStatusRuleChain]

AdornOps=+ CUST_GSP_OUT_EntitlementStatus ,VoWiFi=6106 CUST_GSP_OUT_EntitlementStatus
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/170.CoreV1_EntitlementAdjustment/17010.MakeEntitlementAdjustment/ReplaceEntitlementStatusRuleChain]

AdornOps=replace "VoWiFi=6101" "VoWiFi=6106" CUST_GSP_OUT_EntitlementStatus CUST_GSP_OUT_EntitlementStatus
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/180.AdjustProvisioningStatus4VoWiFi]

ClassName=ConditionalRule
Conditions=CUST_GSP_OUT_EntitlementStatus,contains,"VoWiFi=6100"
TrueRuleChain=18010.AdjustProvisioningStatus


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/100T.SendSubscriberProfileSoapRequestRuleChain/180.AdjustProvisioningStatus4VoWiFi/18010.AdjustProvisioningStatus]

AdornOps=set CUST_GSP_OUT_VoWiFi_PROVISIONING_STATUS 2
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=210.InitSubscriberProfileSoapRequest
RuleNames=220.LogAttributesRequest
RuleNames=230.SendNotificationTokensRequest_CreateSNMEBody
RuleNames=240.ExecuteNotificationTokensRequest
RuleNames=250.CheckSoapResponse
RuleNames=260.LogSoapResponse


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/210.InitSubscriberProfileSoapRequest]

AdornOps=set DEG_GetSubscribDetailsSoapOperationString "searchRequest"
AdornOps=set DEG_GetSubscribDetailsSoapVersionString SUBSCRIBER_v10
AdornOps=set DEG_GetSubscribDetailsSoapObjectClassString Subscriber
AdornOps=set DEG_GetSubscribDetailsSoapAliasNameString imsi
AdornOps=setifnull DEG_IMSI ""
AdornOps=copy DEG_IMSI DEG_GetSubscribDetailsSoapAliasValueString
AdornOps=set DEG_OEMDevGetSubscribDetailsErrorString 0
AdornOps=set DEG_GetSubscribDetailsSoapResponseCounterInteger 0
AdornOps=set DEG_EntNotificationTokensList null
AdornOps=set DEG_GetSubscribDetailsSoapReturnAttributeString hss
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/220.LogAttributesRequest]

Attributes=DEG_GetSubscribDetailsSoapOperationString
Attributes=DEG_GetSubscribDetailsSoapVersionString
Attributes=DEG_GetSubscribDetailsSoapObjectClassString
Attributes=DEG_GetSubscribDetailsSoapAliasNameString
Attributes=DEG_GetSubscribDetailsSoapAliasValueString
ClassName=LogNMERule
LogLevel=INFO
Message=DEG TO PGW -> Sending Notification Tokens Soap Request:


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/230.SendNotificationTokensRequest_CreateSNMEBody]

ClassName=NMEConversionRule
CreateMissingAttributeInSNME=false
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapOperationString,DEG_SubscribDetailsOperationIDString
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapVersionString,searchRequest.version.CData
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapObjectClassString,searchRequest.base.objectclass.CData
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapAliasNameString,searchRequest.base.alias.name
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapAliasValueString,searchRequest.base.alias.value
NMEToStructuredNMEMap=DEG_GetSubscribDetailsSoapReturnAttributeString,searchRequest.returnAttribute.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/240.ExecuteNotificationTokensRequest]

ClassName=SynchronousLookupRule
ConnectorName=100.GetSubscriberDetailsSOAPClientConnector
ErrorCodeAttribute=DEG_GetSubscribDetailsSoapErrorCodeString
ErrorMessageAttribute=DEG_GetSubscribDetailsSoapErrorMessageString
ErrorRule=24010.SynchronousErrorRule
NoMatchRule=24020.SynchronousNoMatchRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/240.ExecuteNotificationTokensRequest/24010.SynchronousErrorRule]

Attributes=DEG_GetSubscribDetailsSoapErrorCodeString
Attributes=DEG_GetSubscribDetailsSoapErrorMessageString
Attributes=DEG_SubscribDetailsFaultcodeString
Attributes=DEG_SubscribDetailsFaultString
ClassName=LogNMERule
LogLevel=ERROR
Message=24010.SynchronousErrorRule: 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/240.ExecuteNotificationTokensRequest/24020.SynchronousNoMatchRule]

Attributes=DEG_GetSubscribDetailsSoapErrorCodeString
Attributes=DEG_GetSubscribDetailsSoapErrorMessageString
Attributes=DEG_SubscribDetailsFaultcodeString
Attributes=DEG_SubscribDetailsFaultString
ClassName=LogNMERule
LogLevel=INFO
Message=24020.SynchronousNoMatchRule: 


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/240.ExecuteNotificationTokensRequest/ErrorRule]

AdornOps=set DEG_OEMDevGetSubscribDetailsErrorString 1
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse]

ClassName=ConditionalRule
Conditions=DEG_OEMDevGetSubscribDetailsErrorString,=,0
TrueRuleChain=25010.GetErrorMessage
TrueRuleChain=25020.CheckErrorMessage


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25010.GetErrorMessage]

ClassName=NMEConversionRule
SNMEType=Umbrella:Body
StructuredNMEToNMEMap=searchResponse.errorMessage.CData,DEG_GetSubscribDetailsSoapResponseErrorMessageString,NOERROR


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage]

ClassName=ConditionalRule
Conditions=DEG_GetSubscribDetailsSoapResponseErrorMessageString,=,NOERROR
TrueRuleChain=2502010.SuccessSNMEToNMEConversion
TrueRuleChain=2502020.SuccessSNMEToNMEConversionAliasRepositoryData


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502010.SuccessSNMEToNMEConversion]

ClassName=NMEConversionRule
SNMEType=Umbrella:Body
StructuredNMEToNMEMap=searchResponse.objects.auc.imsi.CData,DEG_GetSubscribDetailsSoapResponseImsiString


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData]

ClassName=com.hp.usage.bulkcm.LoopRule
ExitConditions=DEG_GetSubscribDetailsSoapResponseCounterInteger,=,-1
RetryCount=50
RetryDelay=0
RuleNames=100.GetAliasRepoFromStructuredNME
RuleNames=200.CheckIfEmptyAliasRepo


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData/100.GetAliasRepoFromStructuredNME]

ClassName=NMEConversionRule
SNMEType=Umbrella:Body
StructuredNMEToNMEMap=searchResponse.objects.hss.aliasRepositoryData[DEG_GetSubscribDetailsSoapResponseCounterInteger].serviceIndId.CData,DEG_GetSubscribDetailsSoapResponseServiceIndIdString,EMPTY
StructuredNMEToNMEMap=searchResponse.objects.hss.aliasRepositoryData[DEG_GetSubscribDetailsSoapResponseCounterInteger].version.CData,DEG_GetSubscribDetailsSoapResponseDataVersionString,EMPTY
StructuredNMEToNMEMap=searchResponse.objects.hss.aliasRepositoryData[DEG_GetSubscribDetailsSoapResponseCounterInteger].asData.CData,DEG_GetSubscribDetailsSoapResponseAsDataChorizoString,EMPTY
StructuredNMEToNMEMap=searchResponse.objects.hss.aliasRepositoryData[DEG_GetSubscribDetailsSoapResponseCounterInteger].aliasId.CData,DEG_GetSubscribDetailsSoapResponseAliasIdString,EMPTY


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_GetSubscribDetailsSoapResponseServiceIndIdString,=,EMPTY
Conditions=DEG_GetSubscribDetailsSoapResponseServiceIndIdString,=,MultiServiceActivatorNotifications
Conditions=DEG_GetSubscribDetailsSoapResponseServiceIndIdString,=,DEG_GetSubscribDetailsSoapResponseServiceIndIdString
GetEntitlements=00.SplitPRUEBAS
GetEntitlements=01.TokenizeEntitlements
GetEntitlements=30.SetLoopEndAliasRepo
IncreaseCounter=20.IncreaseCounter
Operations=None
SetLoopEnd=30.SetLoopEndAliasRepo
TrueRuleChain=SetLoopEnd
TrueRuleChain=GetEntitlements
TrueRuleChain=IncreaseCounter


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/00.SplitPRUEBAS]

AdornOps=substr "</user-name>" "</device>" DEG_GetSubscribDetailsSoapResponseAsDataChorizoString DEG_GetSubscribDetailsSoapResponseAsDataChorizoString
AdornOps=replace "<notification>" "$" DEG_GetSubscribDetailsSoapResponseAsDataChorizoString DEG_GetSubscribDetailsSoapResponseTempString
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/01.TokenizeEntitlements]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
Delimiter=$
SourceAttribute=DEG_GetSubscribDetailsSoapResponseTempString
TokenAttribute=DEG_GetSubscribDetailsSoapResponseTemp2String


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/01.TokenizeEntitlements/IterationRule]

ClassName=ConditionalRule
Conditions=DEG_GetSubscribDetailsSoapResponseTemp2String,starts,"<notification-name>"
TrueRuleChain=10.AdornService
TrueRuleChain=20.AddEntitlementToList


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/01.TokenizeEntitlements/IterationRule/10.AdornService]

AdornOps=replace "</notification-name><apns-token>" ":" DEG_GetSubscribDetailsSoapResponseTemp2String DEG_GetSubscribDetailsSoapResponseTemp2String
AdornOps=substr "<notification-name>" "</apns-token>" DEG_GetSubscribDetailsSoapResponseTemp2String DEG_GetSubscribDetailsSoapResponseTemp2String
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/01.TokenizeEntitlements/IterationRule/20.AddEntitlementToList]

ClassName=AddToListAttributeRule
InputAttribute=DEG_GetSubscribDetailsSoapResponseTemp2String
ListAttribute=DEG_EntNotificationTokensList


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/20.IncreaseCounter]

AdornOps=+ DEG_GetSubscribDetailsSoapResponseCounterInteger 1 DEG_GetSubscribDetailsSoapResponseCounterInteger
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/250.CheckSoapResponse/25020.CheckErrorMessage/2502020.SuccessSNMEToNMEConversionAliasRepositoryData/200.CheckIfEmptyAliasRepo/30.SetLoopEndAliasRepo]

AdornOps=set DEG_GetSubscribDetailsSoapResponseCounterInteger -1
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSubscriberProfileSoapCustomize/RuleChains/200T.SendNotificationTokensSoapRequestRuleChain/260.LogSoapResponse]

Attributes=DEG_GetSubscribDetailsSoapResponseMsisdnString
Attributes=DEG_GetSubscribDetailsSoapResponseAsDataChorizoString
Attributes=DEG_GetSubscribDetailsSoapResponseRoutingCategoryInteger
Attributes=DEG_GetSubscribDetailsSoapResponseTempString
Attributes=DEG_GetSubscribDetailsSoapResponseTemp2String
Attributes=DEG_EntNotificationTokensList
ClassName=LogNMERule
LogLevel=INFO
Message=PGW TO DEG -> GetNotificationTokens Soap Answer received: 
