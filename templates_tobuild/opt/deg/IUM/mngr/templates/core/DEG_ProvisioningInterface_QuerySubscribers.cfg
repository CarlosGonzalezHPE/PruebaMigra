
[/templates/DEG/ProvisioningInterface/QuerySubscribers]


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains]


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.ResponseHandlerRule
RuleNames=010.InitParameter
RuleNames=020.DecodeSNME
RuleNames=030.LogRequest
RuleNames=040.ValidateInputParameters
RuleNames=050.LookupSubscriberTable
RuleNames=500.GetActiveMonitoringSessionsAndGenerateAuditData
RuleNames=060.SplitFeatureList
RuleNames=070.LookupDeviceDataTable




[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/500.GetActiveMonitoringSessionsAndGenerateAuditData]
ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
##TrueRuleChain=100.GetActiveMonitoringSessionByMDN
TrueRuleChain=200.GetActiveMonitoringSessionByIMSI
TrueRuleChain=300.QuerySubscriberStartAuditData




[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/500.GetActiveMonitoringSessionsAndGenerateAuditData/200.GetActiveMonitoringSessionByIMSI]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitVariables
RuleNames=150.TestLog
RuleNames=200.CheckIfMonitoredSession


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/500.GetActiveMonitoringSessionsAndGenerateAuditData/200.GetActiveMonitoringSessionByIMSI/100.InitVariables]

AdornOps=copy DEG_SubProvIMSIString DEG_MSESSIONKEY
ClassName=com.hp.siu.collector.rules.AdornmentRule



[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/500.GetActiveMonitoringSessionsAndGenerateAuditData/200.GetActiveMonitoringSessionByIMSI/150.TestLog]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_IMSI
Attributes=IMSI
Attributes=DEG_MSESSIONKEY
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=TEST log for MDN AFTER LOOKUP :
NullAlso=true
PropertyName=LogRequestInOutLevel1
UseProperty=true



[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/500.GetActiveMonitoringSessionsAndGenerateAuditData/200.GetActiveMonitoringSessionByIMSI/200.CheckIfMonitoredSession]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions

[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/500.GetActiveMonitoringSessionsAndGenerateAuditData/300.QuerySubscriberStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=509.GenerateQuerySubscribersStartAuditDataRuleChain
UseRuleChainManagerPool=true




[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/000.ResponseHandlerRule]

AddInfoAttributeName=DEG_SubProvAddInfoString
ClassName=com.hp.usage.throttling.ResponseHandlerRule
Description= This Rule will catch the exceptions both defined and other runtime excpetions, this will be active while other rule chains running
Description= The ResponseHandlerRule is present to have a "catch-all" at the top of rule chains so that a single exception handler catches
Description= system and application exceptions, as well as understands whether a success, failure or exception was returned.
Description= It then makes calls to the appropriate child rule chain
ExceptionResponseRuleName=004.ExceptionRespHandlerRuleChain
FaultResponseName=005.FaultRespHandlerRuleChain
IUMPRDAttributeName=DEG_SubProvPRDIUMString
MessageAttributeName=DEG_SubProvRespMessageString
NormalResponseRuleName=006.SuccessRespHandlerRuleChain
OtherExceptions=NumberFormatException,DEG_SubProvNumFormatExpRespCodeString,DEG_SubProvNumFormatExpRetCodeInteger
OtherExceptions=NullPointerException,DEG_SubProvNullPointerExpRespCodeString,DEG_SubProvNullPointerExpRetCodeInteger
OtherExceptions=RuleException,DEG_SubProvResponseCodeString,DEG_SubProvReturnCodeInteger
PRDAttributeName=DEG_SubProvPRDString
ResponseAttributeName=DEG_SubProvResponseCodeString
ReturnAttributeName=DEG_SubProvReturnCodeInteger
SCPErrorAttributeName=DEG_SubProvSCPErrorAttributeString
SCPPRDAttributeName=DEG_SubProvPRDSCPString
SoapErrorAttributeName=DEG_SubProvSoapErrorAttributeString
SuccessResponseValue=DEG_SubProvSuccessRespCodeString
SuccessReturnValue=DEG_SubProvSuccessRetCodeInteger
TimeAttributeName=DEG_SubProvRespHandlerTimeString


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/010.InitParameter]

AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_SubProvQueryTypeString ""
AdornOps=setsystime DEG_SubProvProcessStartTimeLong
AdornOps=set DEG_SubProNMEAddInfoString ""
AdornOps=set DEG_SubProvMINString ""
AdornOps=set DEG_SubProvCustomerStatusString ""
AdornOps=set DEG_SubProvFeatureListString ""
AdornOps=set DEG_SubProvVowifiTcStatusString "-1"
AdornOps=set DEG_SubProvVowifiAddressStatusString "-1"
AdornOps=set DEG_SubProvisioningTimeStampString ""
AdornOps=set DEG_SubProvCompanionCountString 0
AdornOps=set DEG_SubProvReturnCodeInteger 0
AdornOps=set DEG_SubProvTetheringStatusString "Disabled"
AdornOps=set DEG_SubProvVoLTEStatusString "Disabled"
AdornOps=set DEG_SubProvVoWiFiStatusString "Disabled"
AdornOps=set DEG_SubProvIllegalCharsResCodeString "04"
AdornOps=set DEG_SubProvLengthCheckResCodeString "02"
AdornOps=set DEG_SubProvMandOptCheckRetCodeInteger 1
AdornOps=set DEG_SubProvLengthCheckRetCodeInteger 1
AdornOps=set DEG_SubProvMandOptCheckResCodeString "01"
AdornOps=set DEG_SubProvResponseCodeString "01"
AdornOps=set DEG_SubProvPRDIUMString "2"
AdornOps=set DEG_SubProvRespMessageString ""
AdornOps=set DEG_SubProvNumFormatExpRespCodeString "06"
AdornOps=set DEG_SubProvNumFormatExpRetCodeInteger 1
AdornOps=set DEG_SubProvNullPointerExpRespCodeString "07"
AdornOps=set DEG_SubProvNullPointerExpRetCodeInteger 1
AdornOps=set DEG_SubProvSCPErrorAttributeString ""
AdornOps=set DEG_SubProvPRDSCPString "1"
AdornOps=set DEG_SubProvSoapErrorAttributeString ""
AdornOps=set DEG_SubProvSuccessRespCodeString "01"
AdornOps=set DEG_SubProvSuccessRetCodeInteger 0
AdornOps=set DEG_SubProvIllegalCharsString '<>&!?$%^*`~(){}[]
AdornOps=set DEG_SubProvIllegalCharsRetCodeInteger 1
AdornOps=set DEG_SubProvValueCheckResCodeString "03"
AdornOps=set DEG_SubProvValueCheckRetCodeInteger 1
AdornOps=set DEG_SubProvIMEIString ""
AdornOps=set DEG_SubProvTmpString " : "
AdornOps=set DEG_SubProNMEAddInfoString ""
AdornOps=set DEG_QuerySearchTypeString ""
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.1401"
AdornOps=set DEG_OEMDevMessageString "Received Query subscriber request"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/020.DecodeSNME]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=false
CreateSNMEIfNeeded=true
SNMEType=Provisioning:Body
StructuredNMEToNMEMap=QuerySubscribers.QueryType.CData,DEG_SubProvQueryTypeString
StructuredNMEToNMEMap=QuerySubscribers.MDN.CData,DEG_SubProvMDNString
StructuredNMEToNMEMap=QuerySubscribers.IMSI.CData,DEG_SubProvIMSIString
StructuredNMEToNMEMap=DEG_SubProvOperationIDString,DEG_SubProvOperationIDNMEString


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/030.LogRequest]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
Message=PROVSYSTEM TO DEG -> Received Query subscriber request for :
LogLevel=INFO
NullAlso=true
PropertyName=LogRequestInOutLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/040.ValidateInputParameters]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=100.InvokeValidateInputParameters


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/040.ValidateInputParameters/100.InvokeValidateInputParameters]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=211.QuerySubscribersValidateInputParametersRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.InitVar
RuleNames=050.CheckIncomingRequest
RuleNames=200.CheckDBResult


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/000.InitVar]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set log_DB_Operation "SELECT"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/050.CheckIncomingRequest]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvMDNString,!=,""
Conditions=DEG_SubProvIMSIString,!=,""
Operations=and
TrueRuleChain=00.InitVar
TrueRuleChain=10.LookupTable
FalseRuleChain=20.CheckMDNorIMSI


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/050.CheckIncomingRequest/00.InitVar]

AdornOps=copy DEG_SubProvMDNString DEG_MDN
AdornOps=copy DEG_SubProvIMSIString DEG_IMSI
AdornOps=set DEG_QuerySearchTypeString "Search by MDN and IMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/050.CheckIncomingRequest/10.LookupTable]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_MIN,DEG_MIN
MapAttributes=DEG_IMEI,DEG_IMEI
MapAttributes=DEG_EVENTTIMESTAMPINTEGER,DEG_EVENTTIMESTAMPINTEGER
MapAttributes=DEG_ENTITLEMENT_LIST,DEG_ENTITLEMENT_LIST
MapAttributes=DEG_CUSTSTATUS,DEG_CUSTSTATUS
MapAttributes=DEG_COMPANION_DEVICE_COUNT,DEG_COMPANION_DEVICE_COUNT
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/050.CheckIncomingRequest/20.CheckMDNorIMSI]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvMDNString,=,""
FalseRuleChain=50.InitMDN
FalseRuleChain=60.LookupByMDN
TrueRuleChain=30.InitIMSI
TrueRuleChain=40.LookupByIMSI


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/050.CheckIncomingRequest/20.CheckMDNorIMSI/30.InitIMSI]

AdornOps=copy DEG_SubProvIMSIString DEG_IMSI
AdornOps=set DEG_QuerySearchTypeString "Search by IMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/050.CheckIncomingRequest/20.CheckMDNorIMSI/40.LookupByIMSI]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_MDN,DEG_MDN
MapAttributes=DEG_IMEI,DEG_IMEI
MapAttributes=DEG_MIN,DEG_MIN
MapAttributes=DEG_EVENTTIMESTAMPINTEGER,DEG_EVENTTIMESTAMPINTEGER
MapAttributes=DEG_ENTITLEMENT_LIST,DEG_ENTITLEMENT_LIST
MapAttributes=DEG_CUSTSTATUS,DEG_CUSTSTATUS
MapAttributes=DEG_COMPANION_DEVICE_COUNT,DEG_COMPANION_DEVICE_COUNT
NativeCondition=5.MatchByPrimaryIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/050.CheckIncomingRequest/20.CheckMDNorIMSI/50.InitMDN]

AdornOps=copy DEG_SubProvMDNString DEG_MDN
AdornOps=set DEG_QuerySearchTypeString "Search by MDN"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/050.CheckIncomingRequest/20.CheckMDNorIMSI/60.LookupByMDN]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_IMSI,DEG_IMSI
MapAttributes=DEG_IMEI,DEG_IMEI
MapAttributes=DEG_MIN,DEG_MIN
MapAttributes=DEG_EVENTTIMESTAMPINTEGER,DEG_EVENTTIMESTAMPINTEGER
MapAttributes=DEG_ENTITLEMENT_LIST,DEG_ENTITLEMENT_LIST
MapAttributes=DEG_CUSTSTATUS,DEG_CUSTSTATUS
MapAttributes=DEG_COMPANION_DEVICE_COUNT,DEG_COMPANION_DEVICE_COUNT
NativeCondition=6.MatchByPrimaryNewMDN
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
TrueRuleChain=DBError
TrueRuleChain=NoMatch
TrueRuleChain=SubscriberExist
DBError=100.DBErrorSetValues
DBError=110.LogDBError
NoMatch=200.NoMatchSetValues
NoMatch=210.LogNoMatch
Operations=None
SubscriberExist=300.CopyValues
SubscriberExist=310.CheckCompanionCount
SubscriberExist=320.LogRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult/100.DBErrorSetValues]

AdornOps=set DEG_SubProvResponseCodeString "49"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.1402"
AdornOps=set DEG_OEMDevErrorMessageString "unable to lookup in subscribers table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=log_Table_Name
Attributes=log_DB_Operation
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in DEG_SUBSCRIBERS lookup :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult/200.NoMatchSetValues]

AdornOps=set DEG_SubProvResponseCodeString "01"
AdornOps=set DEG_SubProvReturnCodeInteger 7
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.1403"
AdornOps=set DEG_OEMDevMessageString "mdn/imsi doesn't exist in subscribers table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult/210.LogNoMatch]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=MDN or IMSI doesn't exist in DEG_SUBSCRIBERS table :
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult/300.CopyValues]

AdornOps=setifnull DEG_ENTITLEMENT_LIST ""
AdornOps=setifnull DEG_IMEI ""
AdornOps=setifnull DEG_MDN 0
AdornOps=setifnull DEG_IMSI ""
AdornOps=copy DEG_MDN DEG_SubProvMDNString
AdornOps=copy DEG_IMSI DEG_SubProvIMSIString
AdornOps=copy DEG_IMEI DEG_SubProvIMEIString
AdornOps=copy DEG_MIN DEG_SubProvMINString
AdornOps=copy DEG_CUSTSTATUS DEG_SubProvCustomerStatusString 
AdornOps=copy DEG_ENTITLEMENT_LIST DEG_SubProvFeatureListString
AdornOps=copy DEG_EVENTTIMESTAMPINTEGER DEG_SubProvisioningTimeStampString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.1404"
AdornOps=set DEG_OEMDevMessageString "Exception Handler Error code"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult/310.CheckCompanionCount]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_COMPANION_DEVICE_COUNT,=,""
FalseRuleChain=20.CopyCompanionCount
TrueRuleChain=10.SetZeroCount


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult/310.CheckCompanionCount/10.SetZeroCount]

AdornOps=set DEG_SubProvCompanionCountString 0
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult/310.CheckCompanionCount/20.CopyCompanionCount]

AdornOps=copy DEG_COMPANION_DEVICE_COUNT DEG_SubProvCompanionCountString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/050.LookupSubscriberTable/200.CheckDBResult/320.LogRule]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvMINString
Attributes=DEG_SubProvCustomerStatusString
Attributes=DEG_SubProvFeatureListString
Attributes=DEG_SubProvisioningTimeStampString
Attributes=DEG_SubProvCompanionCountString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=MDN or IMSI exists in DEG_SUBSCRIBERS table :
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvFeatureListString,!=,""
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=20.StringTokenRule
Operations=and


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
Delimiter=,
SourceAttribute=DEG_SubProvFeatureListString
TokenAttribute=DEG_SubProvFeatureListtmpString


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=00.SplitEntitlement
RuleNames=01.CheckEntitlement


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/00.SplitEntitlement]

AdornOps=substr 0 "=" DEG_SubProvFeatureListtmpString DEG_SubProvEntitlementNameString
AdornOps=substr "=" length DEG_SubProvFeatureListtmpString DEG_SubProvEntitlementStatusString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement]

ClassName=SwitchConditionRule
Conditions=DEG_SubProvEntitlementNameString,=,tethering
Conditions=DEG_SubProvEntitlementNameString,=,VoLTE
Conditions=DEG_SubProvEntitlementNameString,=,VoWiFi
Operations=None
TrueRuleChain=Tethering
TrueRuleChain=VoLTE
TrueRuleChain=VoWiFi
Tethering=10.SetStatus
VoLTE=30.SetStatus
VoWiFi=40.SetStatus


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/10.SetStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementStatusString,=,6100
FalseRuleChain=Disabled
TrueRuleChain=Enabled


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/10.SetStatus/Disabled]

AdornOps=set DEG_SubProvTetheringStatusString "Disabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/10.SetStatus/Enabled]

AdornOps=set DEG_SubProvTetheringStatusString "Enabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/30.SetStatus]

ClassName=SwitchConditionRule
Conditions=DEG_SubProvEntitlementStatusString,=,6100
Conditions=DEG_SubProvEntitlementStatusString,=,6101
Conditions=DEG_SubProvEntitlementStatusString,=,6103
Operations=None
TrueRuleChain=Enabled
TrueRuleChain=Disabled
TrueRuleChain=Provisioning
Enabled=000.Enabled
Disabled=010.Disabled
Provisioning=020.Provisioning


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/30.SetStatus/000.Enabled]

AdornOps=set DEG_SubProvVoLTEStatusString "Enabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/30.SetStatus/010.Disabled]

AdornOps=set DEG_SubProvVoLTEStatusString "Disabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/30.SetStatus/020.Provisioning]

AdornOps=set DEG_SubProvVoLTEStatusString "Provisioning"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/40.SetStatus]

ClassName=SwitchConditionRule
Conditions=DEG_SubProvEntitlementStatusString,=,6100
Conditions=DEG_SubProvEntitlementStatusString,=,6101
Conditions=DEG_SubProvEntitlementStatusString,=,6103
Operations=None
TrueRuleChain=Enabled
TrueRuleChain=Disabled
TrueRuleChain=Provisioning
Enabled=030.Enabled
Disabled=040.Disabled
Provisioning=050.Provisioning


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/40.SetStatus/030.Enabled]

AdornOps=set DEG_SubProvVoWiFiStatusString "Enabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/40.SetStatus/040.Disabled]

AdornOps=set DEG_SubProvVoWiFiStatusString "Disabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/060.SplitFeatureList/20.StringTokenRule/IterationRule/01.CheckEntitlement/40.SetStatus/050.Provisioning]

AdornOps=set DEG_SubProvVoWiFiStatusString "Provisioning"
ClassName=com.hp.siu.collector.rules.AdornmentRule





[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/070.LookupDeviceDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.LookupDeviceDataTable
RuleNames=200.LogLookupResult

[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/070.LookupDeviceDataTable/100.LookupDeviceDataTable]

ClassName=RefDataLookupRule
QueryName=DEG_DEVICE_DATA_ACTCSTATUS


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/440.QuerySubscribersOperationRuleChain/070.LookupDeviceDataTable/200.LogLookupResult]

Attributes=DEG_SubProvVowifiAddressStatusString
Attributes=DEG_SubProvVowifiTcStatusString
Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=DEVICE DATA lookup result :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true



[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CheckMandatoryFields
RuleNames=150.CheckOptionalFields
##RuleNames=200.GetActiveMonitoringSessionsAndGenerateAuditData


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/100.CheckMandatoryFields]

AddInfoNMEAttrName=DEG_SubProNMEAddInfoString
AttributeCheck=DEG_SubProvQueryTypeString,y,,mdn|imsi
ClassName=com.hp.usage.throttling.NMEAttributesValidationRule
Description= Rule for validating all the NMEs common for all operations, checking for mandatory, length, format and illegal characters
IllegalChars=DEG_SubProvIllegalCharsString
IllegalCharsResCodeAttrName=DEG_SubProvIllegalCharsResCodeString
IllegalCharsRetCodeAttrName=DEG_SubProvMandOptCheckRetCodeInteger
LengthCheckResCodeAttrName=DEG_SubProvLengthCheckResCodeString
LengthCheckRetCodeAttrName=DEG_SubProvLengthCheckRetCodeInteger
MandOptCheckResCodeAttrName=DEG_SubProvMandOptCheckResCodeString
MandOptCheckRetCodeAttrName=DEG_SubProvMandOptCheckRetCodeInteger
ResCodeNMEAttrName=DEG_SubProvResponseCodeString
RetCodeNMEAttrName=DEG_SubProvReturnCodeInteger
ThrowException=true
Trim=true
ValueCheckResCodeAttrName=DEG_SubProvValueCheckResCodeString
ValueCheckRetCodeAttrName=DEG_SubProvValueCheckRetCodeInteger


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/150.CheckOptionalFields]

ClassName=ConditionalRule
Conditions=DEG_SubProvQueryTypeString,=,"mdn"
TrueRuleChain=000.ValidateMDN
FalseRuleChain=000.ValidateIMSI


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/150.CheckOptionalFields/000.ValidateMDN]

AddInfoNMEAttrName=DEG_SubProNMEAddInfoString
AttributeCheck=DEG_SubProvMDNString,y,${PROV_INTERFACE_MDN_LENGTH},REGEX:^([0-9]+)$
ClassName=com.hp.usage.throttling.NMEAttributesValidationRule
Description= Rule for validating all the NMEs common for all operations, checking for mandatory, length, format and illegal characters
IllegalChars=DEG_SubProvIllegalCharsString
IllegalCharsResCodeAttrName=DEG_SubProvIllegalCharsResCodeString
IllegalCharsRetCodeAttrName=DEG_SubProvMandOptCheckRetCodeInteger
LengthCheckResCodeAttrName=DEG_SubProvLengthCheckResCodeString
LengthCheckRetCodeAttrName=DEG_SubProvLengthCheckRetCodeInteger
MandOptCheckResCodeAttrName=DEG_SubProvMandOptCheckResCodeString
MandOptCheckRetCodeAttrName=DEG_SubProvMandOptCheckRetCodeInteger
ResCodeNMEAttrName=DEG_SubProvResponseCodeString
RetCodeNMEAttrName=DEG_SubProvReturnCodeInteger
ThrowException=true
Trim=true
ValueCheckResCodeAttrName=DEG_SubProvValueCheckResCodeString
ValueCheckRetCodeAttrName=DEG_SubProvValueCheckRetCodeInteger

#RFE 87 : IMSI to support 14 digits length

[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/150.CheckOptionalFields/000.ValidateIMSI]

AddInfoNMEAttrName=DEG_SubProNMEAddInfoString
AttributeCheck=DEG_SubProvIMSIString,y,${PROV_INTERFACE_IMSI_LENGTH},REGEX:^([0-9]+)$
ClassName=com.hp.usage.throttling.NMEAttributesValidationRule
Description= Rule for validating all the NMEs common for all operations, checking for mandatory, length, format and illegal characters
IllegalChars=DEG_SubProvIllegalCharsString
IllegalCharsResCodeAttrName=DEG_SubProvIllegalCharsResCodeString
IllegalCharsRetCodeAttrName=DEG_SubProvMandOptCheckRetCodeInteger
LengthCheckResCodeAttrName=DEG_SubProvLengthCheckResCodeString
LengthCheckRetCodeAttrName=DEG_SubProvLengthCheckRetCodeInteger
MandOptCheckResCodeAttrName=DEG_SubProvMandOptCheckResCodeString
MandOptCheckRetCodeAttrName=DEG_SubProvMandOptCheckRetCodeInteger
ResCodeNMEAttrName=DEG_SubProvResponseCodeString
RetCodeNMEAttrName=DEG_SubProvReturnCodeInteger
ThrowException=true
Trim=true
ValueCheckResCodeAttrName=DEG_SubProvValueCheckResCodeString
ValueCheckRetCodeAttrName=DEG_SubProvValueCheckRetCodeInteger


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/200.GetActiveMonitoringSessionsAndGenerateAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=100.GetActiveMonitoringSessionByMDN
TrueRuleChain=200.GetActiveMonitoringSessionByIMSI
TrueRuleChain=300.QuerySubscriberStartAuditData


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/200.GetActiveMonitoringSessionsAndGenerateAuditData/100.GetActiveMonitoringSessionByMDN]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitVariables
RuleNames=200.CheckIfMonitoredSession


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/200.GetActiveMonitoringSessionsAndGenerateAuditData/100.GetActiveMonitoringSessionByMDN/100.InitVariables]

AdornOps=copy DEG_SubProvMDNString DEG_MSESSIONKEY
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/200.GetActiveMonitoringSessionsAndGenerateAuditData/100.GetActiveMonitoringSessionByMDN/200.CheckIfMonitoredSession]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/200.GetActiveMonitoringSessionsAndGenerateAuditData/200.GetActiveMonitoringSessionByIMSI]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitVariables
RuleNames=200.CheckIfMonitoredSession


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/200.GetActiveMonitoringSessionsAndGenerateAuditData/200.GetActiveMonitoringSessionByIMSI/100.InitVariables]

AdornOps=copy DEG_SubProvIMSIString DEG_MSESSIONKEY
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/200.GetActiveMonitoringSessionsAndGenerateAuditData/200.GetActiveMonitoringSessionByIMSI/200.CheckIfMonitoredSession]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/211.QuerySubscribersValidateInputParametersRuleChain/200.GetActiveMonitoringSessionsAndGenerateAuditData/300.QuerySubscriberStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=509.GenerateQuerySubscribersStartAuditDataRuleChain
UseRuleChainManagerPool=true


### Audit RuleChains ###

[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/509.GenerateQuerySubscribersStartAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CreateAuditRecord
RuleNames=200.GenerateAuditAndNRBEvents


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/509.GenerateQuerySubscribersStartAuditDataRuleChain/100.CreateAuditRecord]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/509.GenerateQuerySubscribersStartAuditDataRuleChain/100.CreateAuditRecord/100.PopulateCommonAuditAttributes]

AdornOps=copy DEG_SubProvProcessStartTimeLong DEG_AuditTimestampLong
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "SOAP"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString "0"
AdornOps=setifnull DEG_SubProvIMSIString ""
AdornOps=copy DEG_SubProvIMSIString DEG_AuditIMSIString
AdornOps=setifnull DEG_SubProvMDNString ""
AdornOps=copy DEG_SubProvMDNString DEG_AuditMdnString
AdornOps=set DEG_AuditTransactionTypeString "QuerySubscribers"
AdornOps=set DEG_AuditSourceDestinationString "PROVSYSTEM"
AdornOps=set DEG_AuditChannelNameString ""
AdornOps=set DEG_AuditMessageString "PROVSYSTEM TO DEG -> Received QuerySubscribers: "
AdornOps=+ DEG_AuditMessageString DEG_QuerySearchTypeString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String "DEG_SubProvMDNString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvMDNString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_SubProvIMSIString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvIMSIString DEG_AuditMessageString
AdornOps=copy DEG_AuditMessageString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/509.GenerateQuerySubscribersStartAuditDataRuleChain/200.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=600.GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/510.GenerateQuerySubscribersEndOKAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CreateAuditRecord
RuleNames=200.GenerateAuditAndNRBEvents


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/510.GenerateQuerySubscribersEndOKAuditDataRuleChain/100.CreateAuditRecord]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/510.GenerateQuerySubscribersEndOKAuditDataRuleChain/100.CreateAuditRecord/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_SubProvProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "SOAP"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=copy DEG_SubProvOutResponseInteger DEG_AuditResultCodeString
AdornOps=copy DEG_SubProvMDNString DEG_AuditMdnString
AdornOps=copy DEG_SubProvIMSIString DEG_AuditIMSIString
AdornOps=set DEG_AuditTransactionTypeString "QuerySubscribers"
AdornOps=set DEG_AuditSourceDestinationString "PROVSYSTEM"
AdornOps=copy DEG_SubProvIMSIString DEG_AuditChannelNameString
AdornOps=set DEG_AuditMessageString "DEG TO PROVSYSTEM -> Sending QuerySubscribers response: "
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_AuditMdnString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_IMSI="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvIMSIString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_MIN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvMINString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_IMEI="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvIMEIString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", Customer_Status="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvCustomerStatusString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", Features_Status="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvFeatureListString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", Address_Status="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvVowifiAddressStatusString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", TnC_Status="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvVowifiTcStatusString DEG_AuditMessageString
AdornOps=copy DEG_AuditMessageString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/510.GenerateQuerySubscribersEndOKAuditDataRuleChain/200.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=600.GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/511.GenerateQuerySubscribersEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CreateAuditRecord
RuleNames=200.GenerateAuditAndNRBEvents


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/511.GenerateQuerySubscribersEndErrorAuditDataRuleChain/100.CreateAuditRecord]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/511.GenerateQuerySubscribersEndErrorAuditDataRuleChain/100.CreateAuditRecord/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_SubProvProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "SOAP"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=copy DEG_SubProvOutResponseString DEG_AuditResultCodeString
AdornOps=copy DEG_SubProvMDNString DEG_AuditMdnString
AdornOps=setifnull DEG_SubProvIMSIString ""
AdornOps=copy DEG_SubProvIMSIString DEG_AuditIMSIString
AdornOps=set DEG_AuditTransactionTypeString "QuerySubscribers"
AdornOps=set DEG_AuditSourceDestinationString "PROVSYSTEM"
AdornOps=set DEG_AuditChannelNameString ""
AdornOps=set DEG_AuditMessageString "DEG TO PROVSYSTEM -> Sending QuerySubscribers error response: "
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvMDNString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_IMSI="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvIMSIString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", Error_Code="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvErrorCodeString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", Error_Description="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SubProvSOAPFaultMessageString DEG_AuditMessageString
AdornOps=copy DEG_AuditMessageString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/QuerySubscribers/RuleChains/511.GenerateQuerySubscribersEndErrorAuditDataRuleChain/200.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=600.GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true
