

[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core]



[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains]

RuleChainNames=218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain
RuleChainNames=218A.DEG20GPSASReadAndValidateInputRuleChain
###Removing IMS_DATA table related logic: Sprint Issue Tracker#101
###RuleChainNames=218B.DEG20GPSASProcessIMSDataRuleChain
###RFE#49 --KEPT only one CUSTOM file for GPSAS with all required logic (DEG_DeviceInterface_GetPhoneServicesAccountStatus_V2Customize.cfg)######
####RuleChainNames=218C.DEG20GPSASCallExternalSystemRuleChain
RuleChainNames=758.DEG20GenerateGPSASStartAuditDataRuleChain
RuleChainNames=759.DEG20GenerateGPSASEndOKAuditDataRuleChain
RuleChainNames=760.DEG20GenerateGPSASEndErrorAuditDataRuleChain
RuleChainNames=761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain
RuleChainNames=762.DEG20GenerateGPSASEndNOKAuditDataRuleChain


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitWorkingVariables
RuleNames=110.CheckActionStatus


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/100.InitWorkingVariables]

AdornOps=set DEG_OEMDevGetPhoneServicesAccountStatusString ${DEVICE_GETPHONESERVICESACCOUNT_STATUS}
AdornOps=lower DEG_OEMDevGetPhoneServicesAccountStatusString DEG_OEMDevGetPhoneServicesAccountStatusString
AdornOps=set DEG_OEMDevURLSafeProcessingSysValueString ${DEVICE_URL_SAFE_PROCESSING}
AdornOps=lower DEG_OEMDevURLSafeProcessingSysValueString DEG_OEMDevURLSafeProcessingSysValueString
AdornOps=copy DEG_SSL_UNIQUE_ID DEG_UNIQUE_ID
AdornOps=set DEG_OEMDevIMSDATAAppicabilityString ${DEG_IMSDATA_APPLICABILITY}
AdornOps=lower DEG_OEMDevIMSDATAAppicabilityString DEG_OEMDevIMSDATAAppicabilityString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevGetPhoneServicesAccountStatusString,=,"enabled"
FalseRuleChain=100.DisAllowedAction
TrueRuleChain=200.ProcessAction


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/100.DisAllowedAction]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=50.DEG20GenerateGPSASStartAudit
RuleNames=100.SetDisAllowedActionResponse
RuleNames=101.PopulateAuditNRBMessageAttribute
RuleNames=102.DEG20GenerateGPSASEndAudit
RuleNames=110.LogDisAllowedAction
RuleNames=120.GenerateDisAllowdedResponse

[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/100.DisAllowedAction/50.DEG20GenerateGPSASStartAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=758.DEG20GenerateGPSASStartAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/100.DisAllowedAction/100.SetDisAllowedActionResponse]

AdornOps=set DEG_OEMDevRespStatusString 6002
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0000"
AdornOps=set DEG_OEMDevErrorMessageString "getPhoneServicesAccountStatus is Disabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/100.DisAllowedAction/101.PopulateAuditNRBMessageAttribute]

AdornOps=setifnull DEG_Tmp1String ""
AdornOps=setifnull DEG_OEMDevURLActivityTypeString ""
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getPhoneServicesAccountStatus disable response "
AdornOps=set DEG_AuditNRBMessageString "Disable Response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/100.DisAllowedAction/102.DEG20GenerateGPSASEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=759.DEG20GenerateGPSASEndOKAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/100.DisAllowedAction/110.LogDisAllowedAction]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Action getPhoneServicesAccountStatus is Disabled: 
NullAlso=true
PropertyName=LogRequestInOutLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/100.DisAllowedAction/120.GenerateDisAllowdedResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

###Removing IMS_DATA table related logic: Sprint Issue Tracker#101
[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction]


ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0

Operations=DoAll

TrueRuleChain=SetProcessingStartTime
TrueRuleChain=GenerateGPSASStartAuditData
TrueRuleChain=ReadAndValidateInputValues
##TrueRuleChain=CheckIMSData
TrueRuleChain=CheckDeviceData
TrueRuleChain=GenerateResponse

SetProcessingStartTime=200.SetProcessingStartTime
GenerateGPSASStartAuditData=210.GenerateGPSASStartAuditData
ReadAndValidateInputValues=220.ReadAndValidateInputValues
##CheckIMSData=230.CheckIMSData
CheckDeviceData=240.CheckDeviceData
GenerateResponse=250.GenerateEndOKResponse


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/200.SetProcessingStartTime]

AdornOps=setsystime DEG_CDevProcessStartTimeLong
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/210.GenerateGPSASStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=758.DEG20GenerateGPSASStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/220.ReadAndValidateInputValues]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
ResponseAttributes=DEG_OEMDevSipUserNameString
ResponseAttributes=DEG_OEMDevDisplayNameString
ResponseAttributes=DEG_OEMDevRequestProcessedInteger
ResponseAttributes=DEG_CDevProcessingErrorIdString
ResponseAttributes=DEG_OEMDevErrorMessageString
RuleChain=218A.DEG20GPSASReadAndValidateInputRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=110.ExecuteLookup
RuleNames=120.CheckLookupStatus


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/100.InitLookup]

AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEG_DEVICE_DATA"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
###AdornOps=copy DEG_OEMDevSipUserNameString DEG_SIP_USERNAME
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/110.ExecuteLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_ENTITLEMENT_NAME,DEG_OEMDevEntitlementNameString
MapAttributes=DEG_DISPLAY_NAME,DEG_DISPLAY_NAME
MapAttributes=DEG_DISPLAY_NAME,DEG_DevDataDisplayName
MapAttributes=DEG_SIP_USERNAME,DEG_DeviceDataSipUserName
MapAttributes=DEG_ADDRESS_STATUS,DEG_ADDRESS_STATUS
MapAttributes=DEG_TC_STATUS,DEG_TC_STATUS
MapAttributes=DEG_ADDR_UPDATE_POSTDATA,DEG_OEMDevURLTokenString
#MapAttributes=DEG_ADDR_UPDATE_POSTDATA,DEG_OEMDevAddressUpdatePostDataString
MapAttributes=DEG_ADDR_REFID,DEG_OEMDevAddressRefIdString
MapAttributes=DEG_ADDR_REFID_EXP_DATE,DEG_OEMDevAddressRefIdExpDateString
NativeCondition=3.MatchByUniqueIdAndVoWiFiEntitelementNames
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_DEVICE_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
NoRowExists=300.ProcessDeviceData
NoRowExists=310.CreateDeviceData
Operations=None
RowExists=300.ProcessDeviceData
RowExists=320.UpdateDeviceData
SystemError=100.SystemError_SetResponse
SystemError=110.SystemError_Log
SystemError=120.SystemErrorLog_GenerateGPSASEndSystemErrorAuditData
TrueRuleChain=SystemError
TrueRuleChain=NoRowExists
TrueRuleChain=RowExists


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/100.SystemError_SetResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0001"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to perform lookup or access DEG_DEVICE_DATA table"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/110.SystemError_Log]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_MDN
Attributes=DEG_OEMDevSipUserNameString
Attributes=DEG_OEMDevDisplayNameString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to perform lookup or access DEG_DEVICE_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/120.SystemErrorLog_GenerateGPSASEndSystemErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/310.CreateDeviceData]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitCreate
RuleNames=110.CreateRow
RuleNames=120.CheckCreateStatus


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/310.CreateDeviceData/100.InitCreate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set log_DB_Operation "CREATE"
AdornOps=set log_Table_Name "DEG_DEVICE_DATA"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevUniqueIDString DEG_UNIQUE_ID
AdornOps=set DEG_APNS_TOKEN ""
AdornOps=set DEG_OLD_APNS_TOKEN ""
AdornOps=set DEG_PUSH_NOTIFICATION_STATUS 0
AdornOps=set DEG_DISPLAY_NAME ""
AdornOps=set DEG_ADDR_UPDATE_POSTDATA ""
AdornOps=set DEG_ADDR_REFID ""
AdornOps=setifnull DEG_PROVISIONING_STATUS ${DEG_DEFAULT_PROVISIONING_STATUS}
AdornOps=setifnull DEG_TC_STATUS ${DEG_DEFAULT_TC_STATUS}
AdornOps=setifnull DEG_ADDRESS_STATUS ${DEG_DEFAULT_ADDRESS_STATUS}
AdornOps=copy DEG_OEMDevAddressStatusString DEG_ADDRESS_STATUS
AdornOps=copy DEG_OEMDevTCStatusString DEG_TC_STATUS
AdornOps=copy DEG_OEMDevSslSessionIdProvStatusInteger DEG_PROVISIONING_STATUS
AdornOps=setsystime DEG_ADDR_REFID_EXP_DATE
AdornOps=setsystime DEG_LASTUPDATE
AdornOps=set DEG_ENTITLEMENT_NAME ${VOWIFI_ENTITLEMENT_NAME}
AdornOps=set DEG_SIP_USERNAME ""
AdornOps=set DEG_SERVICE_MGMT_POSTDATA ""
AdornOps=setsystime DEG_SELF_PROV_STARTDATE


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/310.CreateDeviceData/110.CreateRow]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
SessionStore=DEG_DEVICE_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/310.CreateDeviceData/120.CheckCreateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.PrintError

[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/310.CreateDeviceData/120.CheckCreateStatus/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0002"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to access or create entry in DEG_DEVICE_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/310.CreateDeviceData/120.CheckCreateStatus/110.PrintError]

Attributes=DEG_DEVICE_ENTITLEMENT
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: unable to add row in DEG_DEVICE_DATA table
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


#Removed RuleNames=115.InitDataForAddressURLPostData as part of Sprint Issue #101. Since no url encoding-decoding is need to do in core template.
#Moved RuleNames=110.CheckTCStausValue logics after custom call.
[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitVariables
#RuleNames=110.CheckTCStausValue
#RuleNames=115.InitDataForAddressURLPostData
RuleNames=120.CreatePostData


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/100.InitVariables]

AdornOps=setifnull DEG_TC_STATUS ${DEG_DEFAULT_TC_STATUS}
AdornOps=setifnull DEG_ADDRESS_STATUS ${DEG_DEFAULT_ADDRESS_STATUS}
AdornOps=setifnull DEG_DISPLAY_NAME ""
AdornOps=setifnull DEG_OEMDevEntitlementNameString ""
AdornOps=copy DEG_SSL_TC_STATUS DEG_OEMDevTCStatusString
AdornOps=copy DEG_SSL_ADDRESS_STATUS DEG_OEMDevAddressStatusString
AdornOps=copy DEG_SSL_ID_PROV_STATUS DEG_OEMDevSslSessionIdProvStatusInteger
AdornOps=copy DEG_SSL_ADDRESS_UPDATE_URL DEG_OEMDevAddressUpdateURLString
AdornOps=copy DEG_SSL_POSTDATA DEG_OEMDevURLPostDataString
AdornOps=set DEG_OEMDevURLActivityTypeString "NA"
AdornOps=setifnull DEG_OEMDevAddressUpdatePostDataString ""
AdornOps=setifnull DEG_OEMDevAddressRefIdString ""
AdornOps=setifnull DEG_OEMDevAddressRefIdExpDateString 0
AdornOps=set DEG_OEMDevUpdateDeviceDataInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CopyBeforeGPSASCustomTemplate
RuleNames=100.LogBeforeGPSASCustomTemplate
RuleNames=200.ProcessGPSASCustomTemplate
RuleNames=300.CopyAfterGPSASCustomTemplate
RuleNames=300.LogAfterGPSASCustomTemplate
RuleNames=400.CheckGPSASFailure
RuleNames=500.CheckTCStausValue


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/100.CopyBeforeGPSASCustomTemplate]

ClassName=AdornmentRule

AdornOps=setifnull DEG_SSL_CUSTOM_FIELD ""
AdornOps=setifnull CUST_VOWIFI_IN_SESSION_CUSTOM_VALUE ""
AdornOps=setifnull DEG_OEMDevURLTokenString ""
AdornOps=setifnull DEG_OEMDevSipUserNameString ""
AdornOps=setifnull DEG_OEMDevDisplayNameString ""
AdornOps=setifnull DEG_DeviceDataSipUserName ""
AdornOps=setifnull DEG_DevDataDisplayName ""
AdornOps=copy DEG_OEMDevURLTokenString CUST_VOWIFI_IN_PrevPostData
AdornOps=copy DEG_OEMDevImsiString CUST_VOWIFI_IN_IMSIString
AdornOps=copy DEG_OEMDevUniqueIDString CUST_VOWIFI_IN_UniqueIDString
AdornOps=copy DEG_OEMDevSipUserNameString CUST_VOWIFI_IN_SipUserNameString
AdornOps=copy DEG_OEMDevDisplayNameString CUST_VOWIFI_IN_DisplayNameString
AdornOps=copy DEG_DeviceDataSipUserName CUST_VOWIFI_IN_PrevSipUserNameString
AdornOps=copy DEG_DevDataDisplayName CUST_VOWIFI_IN_PrevDisplayNameString

AdornOps=setifnull DEG_OEMDevTCStatusString ${DEG_DEFAULT_TC_STATUS}
AdornOps=setifnull DEG_OEMDevAddressStatusString ${DEG_DEFAULT_ADDRESS_STATUS}
AdornOps=setifnull DEG_OEMDevSslSessionIdProvStatusInteger ${DEG_DEFAULT_PROVISIONING_STATUS}
AdornOps=setifnull DEG_OEMDevURLPostDataString ""
AdornOps=setifnull DEG_OEMDevAddressUpdateURLString ""
AdornOps=copy DEG_OEMDevTCStatusString CUST_VOWIFI_OUT_TCStatusString
AdornOps=copy DEG_OEMDevAddressStatusString CUST_VOWIFI_OUT_AddressStatusString
AdornOps=copy DEG_OEMDevSslSessionIdProvStatusInteger CUST_VOWIFI_OUT_ProvStatusInteger
AdornOps=copy DEG_OEMDevURLPostDataString CUST_VOWIFI_OUT_PersistPostDataString
##AdornOps=setifnull CUST_VOWIFI_OUT_ResponsePostDataString ""
AdornOps=copy DEG_OEMDevURLPostDataString CUST_VOWIFI_OUT_ResponsePostDataString
AdornOps=copy DEG_OEMDevAddressUpdateURLString CUST_VOWIFI_OUT_AddressUpdateURLString
AdornOps=copy DEG_OEMDevUpdateDeviceDataInteger CUST_VOWIFI_OUT_UpdateDeviceDataFlagInteger
AdornOps=copy DEG_SSL_CUSTOM_FIELD CUST_VOWIFI_IN_SESSION_CUSTOM_VALUE	
AdornOps=set CUST_GPSAS_OUT_ErrorFlagInteger 0
AdornOps=set CUST_GPSAS_OUT_JSON_Response_Code_String 6005
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GPSAS.0003"
AdornOps=set DEG_OEMDevMessageString "Custom Attributes Before GPSASCustomTemplate"


#Sprint Isuue #67 : Previous unique id will get from DEG_TOKENS table, before updating it with the new unique id.
#Previous uniqueid is provided only for primary devices.
[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/100.LogBeforeGPSASCustomTemplate]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=CUST_VOWIFI_IN_PrevPostData
Attributes=CUST_VOWIFI_IN_IMSIString
Attributes=CUST_VOWIFI_IN_UniqueIDString
Attributes=CUST_VOWIFI_IN_SipUserNameString
Attributes=CUST_VOWIFI_IN_DisplayNameString
Attributes=CUST_VOWIFI_IN_PrevUniqueIDString
Attributes=CUST_VOWIFI_IN_PrevSipUserNameString
Attributes=CUST_VOWIFI_IN_PrevDisplayNameString
Attributes=CUST_VOWIFI_OUT_TCStatusString
Attributes=CUST_VOWIFI_OUT_AddressStatusString
Attributes=CUST_VOWIFI_OUT_ProvStatusInteger
Attributes=CUST_VOWIFI_OUT_PersistPostDataString
Attributes=CUST_VOWIFI_OUT_ResponsePostDataString
Attributes=CUST_VOWIFI_OUT_AddressUpdateURLString
Attributes=CUST_VOWIFI_OUT_UpdateDeviceDataFlagInteger
Attributes=CUST_VOWIFI_IN_SESSION_CUSTOM_VALUE
Attributes=DEG_SSL_CUSTOM_FIELD
Attributes=CUST_GPSAS_OUT_ErrorFlagInteger
Attributes=CUST_GPSAS_OUT_JSON_Response_Code_String
LogLevel=DEBUG2
Message=Custom Attributes Before GPSASCustomTemplate :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/200.ProcessGPSASCustomTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
##RuleChain=223T.DEG20GetPostDataRuleChain
RuleChain=CUSTRC_Apple_GPSAS_VOWIFI_Status_URL_PostData
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/300.CopyAfterGPSASCustomTemplate]

ClassName=AdornmentRule
AdornOps=copy CUST_VOWIFI_IN_PrevPostData DEG_OEMDevURLTokenString
AdornOps=copy CUST_VOWIFI_IN_IMSIString DEG_OEMDevImsiString
AdornOps=copy CUST_VOWIFI_IN_UniqueIDString DEG_OEMDevUniqueIDString
AdornOps=copy CUST_VOWIFI_IN_SipUserNameString DEG_OEMDevSipUserNameString
AdornOps=copy CUST_VOWIFI_IN_DisplayNameString DEG_OEMDevDisplayNameString
AdornOps=copy CUST_VOWIFI_IN_PrevSipUserNameString DEG_DeviceDataSipUserName
AdornOps=copy CUST_VOWIFI_IN_PrevDisplayNameString DEG_DevDataDisplayName

AdornOps=copy CUST_VOWIFI_OUT_TCStatusString DEG_OEMDevTCStatusString
AdornOps=copy CUST_VOWIFI_OUT_AddressStatusString DEG_OEMDevAddressStatusString
AdornOps=copy CUST_VOWIFI_OUT_ProvStatusInteger DEG_OEMDevSslSessionIdProvStatusInteger
AdornOps=copy CUST_VOWIFI_OUT_PersistPostDataString DEG_OEMDevURLPostDataString
##AdornOps=setifnull CUST_VOWIFI_OUT_ResponsePostDataString ""
AdornOps=copy CUST_VOWIFI_OUT_AddressUpdateURLString DEG_OEMDevAddressUpdateURLString
AdornOps=copy CUST_VOWIFI_OUT_UpdateDeviceDataFlagInteger DEG_OEMDevUpdateDeviceDataInteger
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GPSAS.0004"
AdornOps=set DEG_OEMDevMessageString "Custom Attributes After GPSASCustomTemplate"


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/300.LogAfterGPSASCustomTemplate]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevMessageString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=CUST_VOWIFI_IN_PrevPostData
Attributes=CUST_VOWIFI_IN_IMSIString
Attributes=CUST_VOWIFI_IN_UniqueIDString
Attributes=CUST_VOWIFI_IN_SipUserNameString
Attributes=CUST_VOWIFI_IN_DisplayNameString
Attributes=CUST_VOWIFI_IN_PrevUniqueIDString
Attributes=CUST_VOWIFI_IN_PrevSipUserNameString
Attributes=CUST_VOWIFI_IN_PrevDisplayNameString
Attributes=CUST_VOWIFI_OUT_TCStatusString
Attributes=CUST_VOWIFI_OUT_AddressStatusString
Attributes=CUST_VOWIFI_OUT_ProvStatusInteger
Attributes=CUST_VOWIFI_OUT_PersistPostDataString
Attributes=CUST_VOWIFI_OUT_ResponsePostDataString
Attributes=CUST_VOWIFI_OUT_AddressUpdateURLString
Attributes=CUST_VOWIFI_OUT_UpdateDeviceDataFlagInteger
Attributes=CUST_GPSAS_OUT_ErrorFlagInteger
Attributes=CUST_GPSAS_OUT_JSON_Response_Code_String

LogLevel=DEBUG2
Message=Custom Attributes After GPSASCustomTemplate :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


##QXCM1001469459 - Handling network failure while fetching GPSAS data from custom 
##Sprint Issue #101 - If GPSAS subsystem failure, DEG_TOKENS and DEG_COMPANION_TOKENS table should be updated with previous uniqueID

[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=CUST_GPSAS_OUT_ErrorFlagInteger,=,1
TrueRuleChain=100.SetSubSystemFailureResponse
TrueRuleChain=110.LogSubSystemFailure
TrueRuleChain=111.UpdatePrevUniqueID
TrueRuleChain=120.GenerateGPSASEndSystemErrorAuditData
TrueRuleChain=130.GenerateSubSystemFailureResponse


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/100.SetSubSystemFailureResponse]

AdornOps=copy CUST_GPSAS_OUT_JSON_Response_Code_String DEG_OEMDevRespStatusString
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0005"
AdornOps=set DEG_OEMDevErrorMessageString "GPSAS Network Subsytem Failure"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/110.LogSubSystemFailure]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_MDN
Attributes=DEG_OEMDevSipUserNameString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevRespStatusString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=GPSAS Network Subsytem Failure : 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevDeviceTypeString,=,Primary
TrueRuleChain=100.InitUpdate
TrueRuleChain=110.UpdateData
TrueRuleChain=120.CheckUpdateStatus
FalseRuleChain=200.UpdatePreUniqueIDInCompTokensTable


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/200.UpdatePreUniqueIDInCompTokensTable]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevDeviceTypeString,=,Companion
TrueRuleChain=200.InitUpdate
TrueRuleChain=210.UpdateData
TrueRuleChain=220.CheckUpdateStatus


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/200.UpdatePreUniqueIDInCompTokensTable/200.InitUpdate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevServiceTokenString DEG_SERVICE_TOKEN
AdornOps=copy CUST_VOWIFI_IN_PrevUniqueIDString DEG_UNIQUE_ID
AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_COMPANION_TOKENS"


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/200.UpdatePreUniqueIDInCompTokensTable/210.UpdateData]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=2.MatchByImsiAndServiceToken
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_COMPANION_TOKENS_SessionStore


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/200.UpdatePreUniqueIDInCompTokensTable/220.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Operations=and
TrueRuleChain=200.SystemErrorResponse
TrueRuleChain=210.SystemErrorLog
TrueRuleChain=220.GenerateGPSASEndSystemErrorAuditData


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/200.UpdatePreUniqueIDInCompTokensTable/220.CheckUpdateStatus/200.SystemErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0006"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update or access DEG_COMPANION_TOKENS table"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/200.UpdatePreUniqueIDInCompTokensTable/220.CheckUpdateStatus/210.SystemErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_UNIQUE_ID
Attributes=CUST_VOWIFI_IN_PrevUniqueIDString
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to update or access DEG_COMPANION_TOKENS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/200.UpdatePreUniqueIDInCompTokensTable/220.CheckUpdateStatus/220.GenerateGPSASEndSystemErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/100.InitUpdate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy CUST_VOWIFI_IN_PrevUniqueIDString DEG_UNIQUE_ID
AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_TOKENS"


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/110.UpdateData]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_TOKENS_SessionStore


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/120.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Operations=and
TrueRuleChain=100.SystemError_SetResponse
TrueRuleChain=110.SystemError_Log
TrueRuleChain=120.SystemErrorLog_GenerateGPSASEndSystemErrorAuditData


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/120.CheckUpdateStatus/100.SystemError_SetResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0007"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update or access DEG_TOKENS table"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/120.CheckUpdateStatus/110.SystemError_Log]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_UNIQUE_ID
Attributes=CUST_VOWIFI_IN_PrevUniqueIDString
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to update or access DEG_TOKENS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/111.UpdatePrevUniqueID/120.CheckUpdateStatus/120.SystemErrorLog_GenerateGPSASEndSystemErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/120.GenerateGPSASEndSystemErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/400.CheckGPSASFailure/130.GenerateSubSystemFailureResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

#RFE 86 : Include Bell Changes into Product. Issue no. 4d : change in Conditions
[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/500.CheckTCStausValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTCStatusString,within,[0,1,2,3]
Conditions=DEG_OEMDevAddressStatusString,within,[0,1,2,3]
Conditions=DEG_OEMDevSslSessionIdProvStatusInteger,within,[0,1,2,3]

Operations=and,and

FalseRuleChain=100.SetErrorResponse
FalseRuleChain=200.LogErrorResponse
FalseRuleChain=300.GenerateErrorResponse
FalseRuleChain=400.GenerateGPSASEndNOKAuditData


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/500.CheckTCStausValue/100.SetErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString 6005
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0008"
AdornOps=set DEG_OEMDevErrorMessageString " tc_status and location_status cannot be retrieved"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/500.CheckTCStausValue/200.LogErrorResponse]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_OEMDevSipUserNameString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=GetPhoneServicesAccountStatus action - tc_status and _status cannot be retrieved :
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/500.CheckTCStausValue/300.GenerateErrorResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/300.ProcessDeviceData/120.CreatePostData/500.CheckTCStausValue/400.GenerateGPSASEndNOKAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=762.DEG20GenerateGPSASEndNOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/320.UpdateDeviceData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevUpdateDeviceDataInteger,=,1
Operations=and
TrueRuleChain=100.InitUpdate
TrueRuleChain=110.UpdateData
TrueRuleChain=120.CheckUpdateStatus


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/320.UpdateDeviceData/100.InitUpdate]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_DEVICE_DATA"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevUniqueIDString DEG_UNIQUE_ID
AdornOps=copy DEG_OEMDevEntitlementNameString DEG_ENTITLEMENT_NAME
AdornOps=copy DEG_OEMDevDisplayNameString DEG_DISPLAY_NAME
AdornOps=copy DEG_OEMDevSipUserNameString DEG_SIP_USERNAME
AdornOps=copy DEG_OEMDevURLPostDataString DEG_ADDR_UPDATE_POSTDATA
#AdornOps=copy DEG_OEMDevAddressUpdatePostDataString DEG_ADDR_UPDATE_POSTDATA
AdornOps=copy DEG_OEMDevAddressStatusString DEG_ADDRESS_STATUS
AdornOps=copy DEG_OEMDevTCStatusString DEG_TC_STATUS
AdornOps=copy DEG_OEMDevAddressRefIdString DEG_ADDR_REFID
AdornOps=copy DEG_OEMDevSslSessionIdProvStatusInteger DEG_PROVISIONING_STATUS
AdornOps=copy DEG_OEMDevAddressRefIdExpDateString DEG_ADDR_REFID_EXP_DATE
AdornOps=setsystime DEG_LASTUPDATE
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/320.UpdateDeviceData/110.UpdateData]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_DISPLAY_NAME,DEG_DISPLAY_NAME
MapAttributes=DEG_SIP_USERNAME,DEG_SIP_USERNAME
MapAttributes=DEG_ADDR_UPDATE_POSTDATA,DEG_ADDR_UPDATE_POSTDATA
MapAttributes=DEG_PROVISIONING_STATUS,DEG_PROVISIONING_STATUS
MapAttributes=DEG_ADDRESS_STATUS,DEG_ADDRESS_STATUS
MapAttributes=DEG_TC_STATUS,DEG_TC_STATUS
MapAttributes=DEG_LASTUPDATE,DEG_LASTUPDATE
NativeCondition=3.MatchByUniqueIdAndVoWiFiEntitelementNames
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_DEVICE_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/320.UpdateDeviceData/120.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Operations=and
TrueRuleChain=100.SystemError_SetResponse
TrueRuleChain=110.SystemError_Log
TrueRuleChain=120.SystemErrorLog_GenerateGPSASEndSystemErrorAuditData


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/320.UpdateDeviceData/120.CheckUpdateStatus/100.SystemError_SetResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0009"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update or access DEG_DEVICE_DATA table"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/320.UpdateDeviceData/120.CheckUpdateStatus/110.SystemError_Log]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_MDN
Attributes=DEG_OEMDevSipUserNameString
Attributes=DEG_OEMDevDisplayNameString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to update or access DEG_DEVICE_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.



[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/240.CheckDeviceData/120.CheckLookupStatus/320.UpdateDeviceData/120.CheckUpdateStatus/120.SystemErrorLog_GenerateGPSASEndSystemErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/250.GenerateEndOKResponse]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=110.SetResponse
RuleNames=115.PopulateAuditNRBMessageAttribute
RuleNames=120.GenerateGPSASEndOKAuditData
RuleNames=130.GenerateResponse


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/250.GenerateEndOKResponse/110.SetResponse]

AdornOps=set DEG_OEMDevRespStatusString 6000
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/250.GenerateEndOKResponse/115.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getPhoneServicesAccountStatus Success response: "
AdornOps=set DEG_AuditNRBMessageString "Successful execution of GPSAS,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
#RFE 86 : Include Bell Changes into Product. Issue no. 4e.
AdornOps=set DEG_Tmp1String ", IMSI="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevImsiString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", SIP_UserName="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevSipUserNameString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", Display_Name="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevDisplayNameString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", Address_Status="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevAddressStatusString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", TC_Status="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevTCStatusString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", Provisioning_Status="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_PROVISIONING_STATUS DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", ADDRESS_UPDATE_URL="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString CUST_VOWIFI_OUT_AddressUpdateURLString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", URL_POST_DATA="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_ADDR_UPDATE_POSTDATA DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/250.GenerateEndOKResponse/120.GenerateGPSASEndOKAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=759.DEG20GenerateGPSASEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218.DEG20ProcessOEMGetPhoneServicesAccountStatusRuleChain/110.CheckActionStatus/200.ProcessAction/250.GenerateEndOKResponse/130.GenerateResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
NMEToStructuredNMEMap=DEG_OEMDevAddressStatusString,jsonResponse.address_status.CData
NMEToStructuredNMEMap=DEG_OEMDevTCStatusString,jsonResponse.tc_status.CData
##NMEToStructuredNMEMap=DEG_OEMDevAddressUpdateURLString,jsonResponse.address_update_url.CData
NMEToStructuredNMEMap=CUST_VOWIFI_OUT_AddressUpdateURLString,jsonResponse.address_update_url.CData
#NMEToStructuredNMEMap=CUST_GSP_OUT_VoWiFi_ADDR_UPDATE_URL,jsonResponse.address_update_url.CData
##NMEToStructuredNMEMap=DEG_OEMDevURLPostDataString,jsonResponse.address_update_url_post_data.CData
NMEToStructuredNMEMap=CUST_VOWIFI_OUT_ResponsePostDataString,jsonResponse.address_update_url_post_data.CData
#NMEToStructuredNMEMap=DEG_OEMDevAddressRefIdString,jsonResponse.address_refid.CData
#NMEToStructuredNMEMap=DEG_OEMDevAddressRefIdExpDateString,jsonResponse.address_refid_expiration_date.CData
NMEToStructuredNMEMap=DEG_OEMDevSslSessionIdProvStatusInteger,jsonResponse.provisioning_status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.ReadInputValues
RuleNames=110.ValidateValues


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/100.ReadInputValues]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
StructuredNMEToNMEMap=sip_username.CData,DEG_OEMDevSipUserNameString
StructuredNMEToNMEMap=display_name.CData,DEG_OEMDevDisplayNameString


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/110.ValidateValues]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Operations=DoAll
TrueRuleChain=ValidateSipUserName
TrueRuleChain=ValidateDisplayName
ValidateDisplayName=200.ValidateDisplayName
ValidateSipUserName=100.ValidateSipUserName


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/110.ValidateValues/100.ValidateSipUserName]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSipUserNameString,=,""
TrueRuleChain=100.SetErrorResponse
TrueRuleChain=110.LogErrorResponse
TrueRuleChain=120.GenerateGPSASEndErrorAuditData


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/110.ValidateValues/100.ValidateSipUserName/100.SetErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0010"
AdornOps=set DEG_OEMDevErrorMessageString "SipUserName is empty"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/110.ValidateValues/100.ValidateSipUserName/110.LogErrorResponse]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevSipUserNameString
Attributes=DEG_OEMDevDisplayNameString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Invalid GetPhoneServicesAccountStatus action - SipUserName is empty :
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true
#Action=During GetPhoneServicesAccountStatus action -SipUserName should not be empty .


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/110.ValidateValues/100.ValidateSipUserName/120.GenerateGPSASEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=760.DEG20GenerateGPSASEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/110.ValidateValues/200.ValidateDisplayName]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevDisplayNameString,=,""
TrueRuleChain=100.SetErrorResponse
TrueRuleChain=110.LogErrorResponse
TrueRuleChain=120.GenerateGPSASEndErrorAuditData


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/110.ValidateValues/200.ValidateDisplayName/100.SetErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GPSAS.0011"
AdornOps=set DEG_OEMDevErrorMessageString "Display Name is empty"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/110.ValidateValues/200.ValidateDisplayName/110.LogErrorResponse]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevSipUserNameString
Attributes=DEG_OEMDevDisplayNameString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Invalid GetPhoneServicesAccountStatus action - Display Name is empty :
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true
#Action=During GetPhoneServicesAccountStatus action - Display Name should not be empty :


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/218A.DEG20GPSASReadAndValidateInputRuleChain/110.ValidateValues/200.ValidateDisplayName/120.GenerateGPSASEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=760.DEG20GenerateGPSASEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/758.DEG20GenerateGPSASStartAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/758.DEG20GenerateGPSASStartAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditTransactionTypeString "getPhoneServicesAccountStatus"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=set DEG_AuditDurationString 0
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/758.DEG20GenerateGPSASStartAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEVICE TO DEG -> Received getPhoneServicesAccountStatus request: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/758.DEG20GenerateGPSASStartAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/758.DEG20GenerateGPSASStartAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/758.DEG20GenerateGPSASStartAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/759.DEG20GenerateGPSASEndOKAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
#RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
#RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/759.DEG20GenerateGPSASEndOKAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditResultCodeString "1"
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString ""
AdornOps=setifnull DEG_OEMDevSipUserNameString ""
AdornOps=setifnull DEG_OEMDevImsiString ""
AdornOps=setifnull DEG_OEMDevTCStatusString ""
AdornOps=setifnull DEG_OEMDevAddressStatusString ""
AdornOps=setifnull DEG_OEMDevURLActivityTypeString ""
AdornOps=setifnull DEG_PROVISIONING_STATUS 0
AdornOps=setifnull DEG_ADDR_UPDATE_POSTDATA ""
AdornOps=setifnull CUST_VOWIFI_OUT_AddressUpdateURLString ""
AdornOps=setifnull DEG_OEMDevDisplayNameString ""
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditTransactionTypeString "getPhoneServicesAccountStatus"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=setifnull DEG_OEMDevEntitlementNameString ""
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/759.DEG20GenerateGPSASEndOKAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getPhoneServicesAccountStatus response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/759.DEG20GenerateGPSASEndOKAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevSipUserNameString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevSipUserNameString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevDisplayNameString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevDisplayNameString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevEntitlementNameString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevEntitlementNameString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevAddressStatusString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevAddressStatusString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevTCStatusString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevTCStatusString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", Provisioning_Status="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_PROVISIONING_STATUS DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", ADDRESS_UPDATE_URL="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString CUST_VOWIFI_OUT_AddressUpdateURLString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", URL_POST_DATA="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_ADDR_UPDATE_POSTDATA DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

#RFE 32- JSON Return code for JSON request/response in NRB GUI
[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/759.DEG20GenerateGPSASEndOKAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "Successful execution,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", Activity Type: "
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevURLActivityTypeString DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevSslSessionIdProvStatusInteger DEG_AuditNRBMessageString

#RFE 86 : Include Bell Changes into Product. Issue no. 4e.
AdornOps=set DEG_Tmp1String ", IMSI="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevImsiString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", SIP_UserName="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevSipUserNameString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", Display_Name="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevDisplayNameString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", Address_Status="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevAddressStatusString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", TC_Status="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevTCStatusString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", Provisioning_Status="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_PROVISIONING_STATUS DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", ADDRESS_UPDATE_URL="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString CUST_VOWIFI_OUT_AddressUpdateURLString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", URL_POST_DATA="
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_ADDR_UPDATE_POSTDATA DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/759.DEG20GenerateGPSASEndOKAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/760.DEG20GenerateGPSASEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/760.DEG20GenerateGPSASEndErrorAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_OEMDevOutReturnCodeString "400"
AdornOps=copy DEG_OEMDevOutReturnCodeString DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString ""
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditTransactionTypeString "getPhoneServicesAccountStatus"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/760.DEG20GenerateGPSASEndErrorAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getPhoneServicesAccountStatus response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/760.DEG20GenerateGPSASEndErrorAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevSipUserNameString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevSipUserNameString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevDisplayNameString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevDisplayNameString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_CDevProcessingErrorIdString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_CDevProcessingErrorIdString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

#RFE 32- JSON Return code for JSON request/response in NRB GUI
[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/760.DEG20GenerateGPSASEndErrorAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=copy DEG_OEMDevErrorMessageString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/760.DEG20GenerateGPSASEndErrorAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_OEMDevOutReturnCodeString "500"
AdornOps=copy DEG_OEMDevOutReturnCodeString DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString ""
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditTransactionTypeString "getPhoneServicesAccountStatus"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getPhoneServicesAccountStatus response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String "DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_CDevProcessingErrorIdString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_CDevProcessingErrorIdString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=copy DEG_OEMDevErrorMessageString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/761.DEG20GenerateGPSASEndSystemErrorAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/762.DEG20GenerateGPSASEndNOKAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/762.DEG20GenerateGPSASEndNOKAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_OEMDevOutReturnCodeString "12"
AdornOps=copy DEG_OEMDevOutReturnCodeString DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_UNIQUE_ID ""
AdornOps=setifnull DEG_OEMDevUniqueIDString ""
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditTransactionTypeString "getPhoneServicesAccountStatus"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/762.DEG20GenerateGPSASEndNOKAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getPhoneServicesAccountStatus response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/762.DEG20GenerateGPSASEndNOKAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevSipUserNameString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevSipUserNameString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevDisplayNameString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevDisplayNameString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_CDevProcessingErrorIdString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_CDevProcessingErrorIdString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

#RFE 32- JSON Return code for JSON request/response in NRB GUI
[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/762.DEG20GenerateGPSASEndNOKAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=copy DEG_OEMDevErrorMessageString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetPhoneServicesAccountStatus_V2Core/RuleChains/762.DEG20GenerateGPSASEndNOKAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true
