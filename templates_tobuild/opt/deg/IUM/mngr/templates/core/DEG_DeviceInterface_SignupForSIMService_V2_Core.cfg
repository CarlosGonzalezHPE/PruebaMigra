[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core]


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains]

RuleChainNames=100.DEG31ProcessSignupForSimServiceRuleChain
RuleChainNames=100A.DEG31ProcessSignupForSimServiceRuleChain
RuleChainNames=100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain
RuleChainNames=100C.DEG31ProcessActionRuleChain
RuleChainNames=100D.DEG31GenerateUrlPostDataRuleChain

RuleChainNames=200.DEG31GenerateSignupForSIMServiceStartAuditDataRuleChain
RuleChainNames=210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain
RuleChainNames=220.DEG31GenearteSignupForSIMServcieErrorEndAuditDataRuleChain
RuleChainNames=230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitializeVariables
RuleNames=110.CheckSignupForSIMServiceStatus

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain/100.InitializeVariables]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString 6000
AdornOps=set DEG_OEMDevRequestProcessedInteger 0
AdornOps=setifnull DEG_OEMDevSecondaryDeviceMeidString ""
AdornOps=set DEG_OEMDevSignupForSIMServiceStatusString ${DEVICE_SIGNUPFORSIMSERVICE_STATUS}
AdornOps=lower DEG_OEMDevSignupForSIMServiceStatusString DEG_OEMDevSignupForSIMServiceStatusString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain/110.CheckSignupForSIMServiceStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSignupForSIMServiceStatusString,=,"enabled"

TrueRuleChain=110.GenerateSignupForSIMServiceStartAuditData
TrueRuleChain=200.ValidationAndProcessAction
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
FalseRuleChain=50.GenerateSignupForSIMServiceStartAuditData
FalseRuleChain=100.InitErrorResponse
FalseRuleChain=110.GenerateErrorResponse
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
FalseRuleChain=115.GenerateSignUPServiceEndAudit
FalseRuleChain=120.GenerateErrorLog


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain/110.CheckSignupForSIMServiceStatus/50.GenerateSignupForSIMServiceStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=200.DEG31GenerateSignupForSIMServiceStartAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain/110.CheckSignupForSIMServiceStatus/100.InitErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditResultCodeString "1"
AdornOps=set DEG_OEMDevRespStatusString 6002
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.SFS.0000"
AdornOps=set DEG_OEMDevErrorMessageString "Action SignupForSIMService is DISABLED"
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending signUpForSIMService disable response: "
AdornOps=set DEG_AuditNRBMessageString "Sending signUpForSIMService disable response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain/110.CheckSignupForSIMServiceStatus/110.GenerateErrorResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain/110.CheckSignupForSIMServiceStatus/115.GenerateSignUPServiceEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain/110.CheckSignupForSIMServiceStatus/120.GenerateErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=INFO
Message=Action SignupForSimService is DISABLED !!!!
NullAlso=true


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain/110.CheckSignupForSIMServiceStatus/110.GenerateSignupForSIMServiceStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=200.DEG31GenerateSignupForSIMServiceStartAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100.DEG31ProcessSignupForSimServiceRuleChain/110.CheckSignupForSIMServiceStatus/200.ValidationAndProcessAction]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=100A.DEG31ProcessSignupForSimServiceRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.ValidateAttributes

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0

Operations=DoAll

TrueRuleChain=ExtractSIMServiceAttribute
TrueRuleChain=ExtractSecondaryDeviceIccids
TrueRuleChain=ValidatePrimaryIccid
TrueRuleChain=ValidateEID
TrueRuleChain=ValidateSecondaryDeviceICCIDS
TrueRuleChain=ValidateSecondaryDeviceIMEI
TrueRuleChain=ValidateSecondaryDeviceMEID
TrueRuleChain=ValidateSecondaryDeviceType
TrueRuleChain=ProcessAction
TrueRuleChain=GenerateOEMResponse
TrueRuleChain=GenerateSignupForSIMServiceEndAuditData

ExtractSIMServiceAttribute=100.ExtractSIMServiceAttribute
ExtractSecondaryDeviceIccids=200.ExtractSecondaryDeviceIccids
ValidatePrimaryIccid=300.ValidatePrimaryIccid
ValidateEID=400.ValidateEID
ValidateSecondaryDeviceICCIDS=500.ValidateSecondaryDeviceICCIDS
ValidateSecondaryDeviceIMEI=600.ValidateSecondaryDeviceIMEI
ValidateSecondaryDeviceMEID=700.ValidateSecondaryDeviceMEID
ValidateSecondaryDeviceType=800.ValidateSecondaryDeviceType
ProcessAction=900.ProcessAction
GenerateOEMResponse=1000.GenerateOEMResponse
GenerateSignupForSIMServiceEndAuditData=1100.GenerateSignupForSIMServiceEndAuditData


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/100.ExtractSIMServiceAttribute]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
StructuredNMEToNMEMap=primary_iccid.CData,DEG_OEMDevPrimaryIccidString
StructuredNMEToNMEMap=eid.CData,DEG_OEMDevEIDString
StructuredNMEToNMEMap=secondary_device_imei.CData,DEG_OEMDevSecondaryDeviceImeiString,empty
StructuredNMEToNMEMap=secondary_device_meid.CData,DEG_OEMDevSecondaryDeviceMeidString,empty
StructuredNMEToNMEMap=secondary_device_type.CData,DEG_OEMDevSecondaryDevcieTypeString,empty
#StructuredNMEToNMEMap=plan_id.CData,DEG_OEMDevplanidString,empty
#StructuredNMEToNMEMap=plan_desc.CData,DEG_OEMDevplandescString,empty

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/200.ExtractSecondaryDeviceIccids]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/300.ValidatePrimaryIccid]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevPrimaryIccidString,=,""
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/300.ValidatePrimaryIccid/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.SFS.0001"
AdornOps=set DEG_OEMDevErrorMessageString "primary_iccid is empty"

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/300.ValidatePrimaryIccid/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevPrimaryIccidString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Invalid SignupForSIMService action - primary_iccid is empty: 
NullAlso=true
#Action=During SignupForSIMService Action ,primary_iccid should not be empty.

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/300.ValidatePrimaryIccid/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/400.ValidateEID]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevEIDString,=,""
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/400.ValidateEID/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.SFS.0002"
AdornOps=set DEG_OEMDevErrorMessageString "eid is empty"

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/400.ValidateEID/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevEIDString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Invalid SignupForSIMService action - eid is empty: 
NullAlso=true
#Action=During SignupForSIMService Action ,eid should not be empty.

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/400.ValidateEID/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/500.ValidateSecondaryDeviceICCIDS]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSecondaryDeviceICCIDSString,=,""

TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/500.ValidateSecondaryDeviceICCIDS/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.SFS.0002"
AdornOps=set DEG_OEMDevErrorMessageString "secondary_device_iccids element is empty"

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/500.ValidateSecondaryDeviceICCIDS/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevSecondaryDeviceICCIDSList
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Invalid SignupForSIMService action - secondary_device_iccids element is empty: 
NullAlso=true
#Action=During SignupForSIMService Action ,secondary_device_iccids element should not be empty.

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/500.ValidateSecondaryDeviceICCIDS/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/600.ValidateSecondaryDeviceIMEI]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSecondaryDeviceImeiString,=,""
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/600.ValidateSecondaryDeviceIMEI/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.SFS.0004"
AdornOps=set DEG_OEMDevErrorMessageString "secondary_device_imei is empty"

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/600.ValidateSecondaryDeviceIMEI/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevSecondaryDeviceImeiString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Invalid SignupForSIMService action - secondary_device_imei is empty: 
NullAlso=true
#Action=During SignupForSIMService Action ,secondary_device_imei should not be empty.

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/600.ValidateSecondaryDeviceIMEI/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/700.ValidateSecondaryDeviceMEID]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSecondaryDeviceMeidString,=,""
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/700.ValidateSecondaryDeviceMEID/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.SFS.0005"
AdornOps=set DEG_OEMDevErrorMessageString "secondary_device_meid is empty"

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/700.ValidateSecondaryDeviceMEID/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevSecondaryDeviceMeidString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Invalid SignupForSIMService action - secondary_device_meid is empty: 
NullAlso=true
#Action=During SignupForSIMService Action ,secondary_device_meid should not be empty.

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/700.ValidateSecondaryDeviceMEID/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/800.ValidateSecondaryDeviceType]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSecondaryDevcieTypeString,=,""
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/800.ValidateSecondaryDeviceType/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.SFS.0006"
AdornOps=set DEG_OEMDevErrorMessageString "secondary_device_type is empty"

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/800.ValidateSecondaryDeviceType/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevSecondaryDevcieTypeString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Invalid SignupForSIMService action - secondary_device_type is empty: 
NullAlso=true
#Action=During SignupForSIMService Action ,secondary_device_type should not be empty.

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/800.ValidateSecondaryDeviceType/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/900.ProcessAction]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=100C.DEG31ProcessActionRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/1000.GenerateOEMResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTemplateInvocationStatusInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Operations=and
TrueRuleChain=100.SetResponse

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/1000.GenerateOEMResponse/100.SetResponse]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=110.InitSuccessResponse
RuleNames=120.GenerateResponse

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/1000.GenerateOEMResponse/100.SetResponse/110.InitSuccessResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString 6000
AdornOps=set DEG_AuditResultCodeString "1"
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending signUpForSIMService response: "
AdornOps=set DEG_AuditNRBMessageString "Sending signUpForSIMService response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
#RFE 86 : Include Bell Changes into Product. Issue no. 6b.(6(a))
AdornOps=set DEG_Tmp1String ", SignUp_URL: "
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevSignupURLString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", SignUp_URL_PostData: "
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevSignupURLPostDataString DEG_AuditNRBMessageString



[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/1000.GenerateOEMResponse/100.SetResponse/120.GenerateResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
NMEToStructuredNMEMap=DEG_OEMDevSignupURLString,jsonResponse.signup_url.CData
NMEToStructuredNMEMap=DEG_OEMDevSignupURLPostDataString,jsonResponse.signup_url_post_data.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100A.DEG31ProcessSignupForSimServiceRuleChain/100.ValidateAttributes/1100.GenerateSignupForSIMServiceEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitArrayIndex
RuleNames=200.ExtractSecondaryDeviceICCIDSAttribute
RuleNames=210.CheckResponseSecondaryDeviceICCIDSAttribute
RuleNames=300.SetEmptySecondaryDeviceICCIDFlag

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/100.InitArrayIndex]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevSecondaryDeviceICCIDSArrayIndexInteger -1
AdornOps=set DEG_OEMDevSecondaryDeviceICCIDSEmptyInteger 0
AdornOps=setifnull DEG_OEMDevResponseSecondaryDeviceICCIDSString ""

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/200.ExtractSecondaryDeviceICCIDSAttribute]

ClassName=com.hp.usage.nme.rules.SplitArrayRule
SplitAttribute=secondary_device_iccids
SplitRules=100.IncrementArrayIndex
SplitRules=200.ExtractSecondaryDeviceICCIDS
SplitRules=210.AddToResponseListAttribute
SplitRules=300.StoreSecondaryDeviceICCIDInNME

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/200.ExtractSecondaryDeviceICCIDSAttribute/100.IncrementArrayIndex]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSecondaryDeviceICCIDSArrayIndexInteger 1 DEG_OEMDevSecondaryDeviceICCIDSArrayIndexInteger

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/200.ExtractSecondaryDeviceICCIDSAttribute/200.ExtractSecondaryDeviceICCIDS]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
StructuredNMEToNMEMap=secondary_device_iccids[0].CData,DEG_OEMDevSecondaryDeviceICCIDSString,""

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/200.ExtractSecondaryDeviceICCIDSAttribute/210.AddToResponseListAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevResponseSecondaryDeviceICCIDSString DEG_OEMDevSecondaryDeviceICCIDSString DEG_OEMDevResponseSecondaryDeviceICCIDSString
AdornOps=+ DEG_OEMDevResponseSecondaryDeviceICCIDSString , DEG_OEMDevResponseSecondaryDeviceICCIDSString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/200.ExtractSecondaryDeviceICCIDSAttribute/300.StoreSecondaryDeviceICCIDInNME]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_OEMDevSecondaryDeviceICCIDSString
ListAttribute=DEG_OEMDevSecondaryDeviceICCIDSList

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/210.CheckResponseSecondaryDeviceICCIDSAttribute]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevResponseSecondaryDeviceICCIDSString,=,""

FalseRuleChain=100.SplitResponseSecondaryDeviceICCIDSAttribute

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/210.CheckResponseSecondaryDeviceICCIDSAttribute/100.SplitResponseSecondaryDeviceICCIDSAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=substr 0 length-1 DEG_OEMDevResponseSecondaryDeviceICCIDSString DEG_OEMDevResponseSecondaryDeviceICCIDSString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/300.SetEmptySecondaryDeviceICCIDFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSecondaryDeviceICCIDSArrayIndexInteger,=,-1 
TrueRuleChain=100.SecondaryDeviceICCIDSAttributeEmpty

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100B.DEG31ExtractSecoandaryDeviceIccidsRuleChain/300.SetEmptySecondaryDeviceICCIDFlag/100.SecondaryDeviceICCIDSAttributeEmpty]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevSecondaryDeviceICCIDSEmptyInteger 1


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitVariables
RuleNames=200.GenarateSignupUrlPostData
RuleNames=300.CopyNMEBeforeCallingCustomTemplate
RuleNames=310.CallMultiSIMSignupUrlPostDataCust
RuleNames=320.CopyCustNMEToNME
RuleNames=330.CheckInvocationStatus

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/100.InitVariables]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevSignupURLString ${DEVICE_MULTISIM_SERVICE_SIGNUP_URL}
AdornOps=set DEG_OEMDevTemplateInvocationStatusInteger 0
AdornOps=set DEG_OEMDevSignupURLPostDataString ""

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/200.GenarateSignupUrlPostData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=100D.DEG31GenerateUrlPostDataRuleChain
ResponseAttributes=DEG_OEMDevSignupURLPostDataString
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/300.CopyNMEBeforeCallingCustomTemplate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevPrimaryIccidString CUST_SUSS_IN_primary_iccid_string
AdornOps=copy DEG_CDevMobileNumberString CUST_SUSS_IN_MDNString 
AdornOps=copy DEG_OEMDevImsiString CUST_SUSS_IN_IMSIString
AdornOps=setifnull DEG_OEMDevEIDString ""
AdornOps=copy DEG_OEMDevEIDString CUST_SUSS_IN_EIDString
AdornOps=setifnull DEG_OEMDevSecondaryDeviceICCIDSList null
AdornOps=copy DEG_OEMDevSecondaryDeviceICCIDSList CUST_SUSS_IN_SECONDARY_DEVICE_ICCIDSList
AdornOps=setifnull DEG_OEMDevSecondaryDeviceImeiString ""
AdornOps=copy DEG_OEMDevSecondaryDeviceImeiString CUST_SUSS_IN_SECONDARY_DEVICE_IMEIString
AdornOps=setifnull DEG_OEMDevSecondaryDeviceMeidString ""
AdornOps=copy DEG_OEMDevSecondaryDeviceMeidString CUST_SUSS_IN_SECONDARY_DEVICE_MEIDString
AdornOps=setifnull DEG_OEMDevSecondaryDevcieTypeString ""
AdornOps=copy DEG_OEMDevSecondaryDevcieTypeString CUST_SUSS_IN_SECONDARY_DEVICE_TypeString
AdornOps=copy DEG_OEMDevTemplateInvocationStatusInteger CUST_SUSS_OUT_TemplateInvocationStatus
AdornOps=copy DEG_OEMDevSignupURLString CUST_SUSS_OUT_SIGNUP_URL
AdornOps=copy DEG_OEMDevSignupURLPostDataString CUST_SUSS_OUT_SIGNUP_URL_POSTDATA
AdornOps=copy DEG_OEMDevRespStatusString CUST_SUSS_OUT_JSON_Response_Code_String

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/310.CallMultiSIMSignupUrlPostDataCust]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_Apple_SU_signUpForSIMServiceCustom
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/320.CopyCustNMEToNME]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy CUST_SUSS_OUT_TemplateInvocationStatus DEG_OEMDevTemplateInvocationStatusInteger
AdornOps=copy CUST_SUSS_OUT_SIGNUP_URL DEG_OEMDevSignupURLString
AdornOps=copy CUST_SUSS_OUT_SIGNUP_URL_POSTDATA DEG_OEMDevSignupURLPostDataString
AdornOps=copy CUST_SUSS_OUT_JSON_Response_Code_String DEG_OEMDevRespStatusString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/330.CheckInvocationStatus]

#RFE86:Added Bell Customization as part of product,Issueno:6(a)
ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevTemplateInvocationStatusInteger,=,1
Conditions=DEG_OEMDevTemplateInvocationStatusInteger,=,2

Operations=DoAll

TrueRuleChain=SetResponseForStatus1
TrueRuleChain=SetResponseForStatus2

SetResponseForStatus1=100.CheckResponseStatus
SetResponseForStatus2=100.CheckResponseStatus

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/330.CheckInvocationStatus/100.CheckResponseStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRespStatusString,within,[6000-6009]

TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=130.GenerateOEMResponse
TrueRuleChain=120.GenerateEndAudit
FalseRuleChain=100.SetError
FalseRuleChain=120.ErrorLog
FalseRuleChain=130.GenerateOEMResponse
FalseRuleChain=120.GenerateEndAudit

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/330.CheckInvocationStatus/100.CheckResponseStatus/100.SetError]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
#AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_OEMDevRespStatusString 6005
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.SFS.0007"
AdornOps=set DEG_OEMDevErrorMessageString "Json Response status code from custom is other than [6000-6009]"
AdornOps=set DEG_AuditResultCodeString "12"
#RFE86:Added Bell Customization as part of product,Issueno:6(a)
AdornOps=set DEG_AuditNRBMessageString "Sending signUpForSIMService response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/330.CheckInvocationStatus/100.CheckResponseStatus/120.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevPrimaryIccidString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Json Response status code from custom is other than [6000-6009] : 
NullAlso=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/330.CheckInvocationStatus/100.CheckResponseStatus/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
#AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.SFS.0008"
AdornOps=set DEG_OEMDevErrorMessageString "Template Invocation failed"
AdornOps=set DEG_AuditResultCodeString "12"
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending signUpForSIMService response: "
AdornOps=set DEG_AuditNRBMessageString "Sending signUpForSIMService response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/330.CheckInvocationStatus/100.CheckResponseStatus/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevPrimaryIccidString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Template invocation message: Error in custom template
NullAlso=true
#Action=Status temporary failure. Check the DEG_OEMDevTemplateInvocationStatusInteger flag.

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/330.CheckInvocationStatus/100.CheckResponseStatus/130.GenerateOEMResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100C.DEG31ProcessActionRuleChain/330.CheckInvocationStatus/100.CheckResponseStatus/120.GenerateEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain

RuleNames=50.CheckOptionalParameterDeviceImei
RuleNames=55.CheckOptionalParameterDeviceMeid
RuleNames=60.CheckOptionalParameterDeviceType

RuleNames=100.GenarateSignupUrlPostData
RuleNames=200.SuppressFirstLetter

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/50.CheckOptionalParameterDeviceImei]

ClassName=ConditionalRule
Conditions=DEG_OEMDevSecondaryDeviceImeiString,=,"empty"
TrueRuleChain=10.SetIMEIString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/50.CheckOptionalParameterDeviceImei/10.SetIMEIString]

ClassName=AdornmentRule
AdornOps=set DEG_OEMDevSecondaryDeviceImeiString ""


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/55.CheckOptionalParameterDeviceMeid]

ClassName=ConditionalRule
Conditions=DEG_OEMDevSecondaryDeviceMeidString,=,"empty"
TrueRuleChain=20.SetMEIDString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/55.CheckOptionalParameterDeviceMeid/20.SetMEIDString]

ClassName=AdornmentRule
AdornOps=set DEG_OEMDevSecondaryDeviceMeidString ""

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/60.CheckOptionalParameterDeviceType]

ClassName=ConditionalRule
Conditions=DEG_OEMDevSecondaryDevcieTypeString,=,"empty"
TrueRuleChain=30.SetDeviceTypeString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/60.CheckOptionalParameterDeviceType/30.SetDeviceTypeString]

ClassName=AdornmentRule
AdornOps=set DEG_OEMDevSecondaryDevcieTypeString ""

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule

Conditions=DEG_OEMDevImsiString,!=,""
Conditions=DEG_OEMDevPrimaryIccidString,!=,""
Conditions=DEG_CDevMobileNumberString,!=,""
Conditions=DEG_OEMDevEIDString,!=,""

Conditions=DEG_OEMDevSecondaryDeviceImeiString,!=,""
Conditions=DEG_OEMDevSecondaryDeviceMeidString,!=,""
Conditions=DEG_OEMDevSecondaryDevcieTypeString,!=,""
Conditions=DEG_OEMDevResponseSecondaryDeviceICCIDSString,!=,""
#Conditions=DEG_OEMDevplanidString,!=,""
#Conditions=DEG_OEMDevplandescString,!=,""


Operations=DoAll

TrueRuleChain=setIMSIToPostData
TrueRuleChain=setPrimaryICCIDToPostData
TrueRuleChain=setMDNToPostData
TrueRuleChain=setSecondaryEIDToPostData

TrueRuleChain=setSecondaryIMEIToPostData
TrueRuleChain=setSecondaryMEIDToPostData
TrueRuleChain=setSecondaryTypeToPostData
TrueRuleChain=setSecondaryICCIDSToPostData
#TrueRuleChain=setplanidString
#TrueRuleChain=setplandescString

setIMSIToPostData=100.setIMSIToPostData
setPrimaryICCIDToPostData=200.setPrimaryICCIDToPostData
setMDNToPostData=300.setMDNToPostData
setSecondaryEIDToPostData=400.setSecondaryEIDToPostData
setSecondaryIMEIToPostData=500.setSecondaryIMEIToPostData
setSecondaryMEIDToPostData=600.setSecondaryMEIDToPostData
setSecondaryTypeToPostData=700.setSecondaryTypeToPostData
setSecondaryICCIDSToPostData=800.setSecondaryICCIDSToPostData
#setplanidString=850.setplanidString
#setplandescString=900.setplandescString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/100.setIMSIToPostData]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString imsi= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_OEMDevImsiString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/200.setPrimaryICCIDToPostData]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString primary_iccid= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_OEMDevPrimaryIccidString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/300.setMDNToPostData]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString mdn= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_CDevMobileNumberString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/400.setSecondaryEIDToPostData]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString secondary_eid= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_OEMDevEIDString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/500.setSecondaryIMEIToPostData]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString secondary_imei= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_OEMDevSecondaryDeviceImeiString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/600.setSecondaryMEIDToPostData]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString secondary_meid= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_OEMDevSecondaryDeviceMeidString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/700.setSecondaryTypeToPostData]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString secondary_type= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_OEMDevSecondaryDevcieTypeString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/800.setSecondaryICCIDSToPostData]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString secondary_iccids= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_OEMDevResponseSecondaryDeviceICCIDSString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/850.setplanidString]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString plan_id= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_OEMDevplanidString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/100.GenarateSignupUrlPostData/900.setplandescString]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevSignupURLPostDataString & DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString plan_desc= DEG_OEMDevSignupURLPostDataString
AdornOps=+ DEG_OEMDevSignupURLPostDataString DEG_OEMDevplandescString DEG_OEMDevSignupURLPostDataString

#Supressing "&" at the begining of the DEG_OEMDevSignupURLPostDataString
[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/100D.DEG31GenerateUrlPostDataRuleChain/200.SuppressFirstLetter]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=substr 1 length DEG_OEMDevSignupURLPostDataString DEG_OEMDevSignupURLPostDataString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/200.DEG31GenerateSignupForSIMServiceStartAuditDataRuleChain]


ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditNRBMessageAttribute
RuleNames=500.GenerateAuditAndNRBEvents

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/200.DEG31GenerateSignupForSIMServiceStartAuditDataRuleChain/100.PopulateCommonAuditAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setsystime DEG_CDevProcessStartTimeLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString "0"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString "Multi-SIM"
AdornOps=set DEG_AuditTransactionTypeString "signUpForSIMService"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/200.DEG31GenerateSignupForSIMServiceStartAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "DEVICE TO DEG -> Received signUpForSIMService request: "

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/200.DEG31GenerateSignupForSIMServiceStartAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/200.DEG31GenerateSignupForSIMServiceStartAuditDataRuleChain/400.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditNRBMessageString "signUpForSIMService Request Recieved"

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/200.DEG31GenerateSignupForSIMServiceStartAuditDataRuleChain/500.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
#RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
#RuleNames=400.PopulateAuditNRBMessageAttribute
RuleNames=500.GenerateAuditAndNRBEvents

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain/100.PopulateCommonAuditAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString "Multi-SIM"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditTransactionTypeString "signUpForSIMService"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending signUpForSIMService response: "

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString

#RFE 32- JSON Return code for JSON request/response in NRB GUI
[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain/400.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
#AdornOps=set DEG_AuditNRBMessageString "Sending signUpForSIMService response,Return code is "
#AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
#RFE 86 : Include Bell Changes into Product. Issue no. 6b.
AdornOps=set DEG_Tmp1String ", SignUp_URL: "
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevSignupURLString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", SignUp_URL_PostData: "
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevSignupURLPostDataString DEG_AuditNRBMessageString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/210.DEG31GenerateSignupForSIMServiceEndAuditDataRuleChain/500.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/220.DEG31GenearteSignupForSIMServcieErrorEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/220.DEG31GenearteSignupForSIMServcieErrorEndAuditDataRuleChain/100.PopulateCommonAuditAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=set DEG_AuditResultCodeString "500"
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString "Multi-SIM"
AdornOps=set DEG_AuditTransactionTypeString "signUpForSIMService"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/220.DEG31GenearteSignupForSIMServcieErrorEndAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "Sending signUpForSIMService error response: "

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/220.DEG31GenearteSignupForSIMServcieErrorEndAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/220.DEG31GenearteSignupForSIMServcieErrorEndAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditNRBMessageString "Sending signUpForSIMService error response"

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/220.DEG31GenearteSignupForSIMServcieErrorEndAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditResultCodeString "400"
AdornOps=set DEG_AuditEntitlementNameString "Multi-SIM"
AdornOps=set DEG_AuditTransactionTypeString "signUpForSIMService"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "Sending signUpForSIMService error response: "

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString

[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditNRBMessageString "Sending signUpForSIMService error response"


[/templates/DEG/DeviceInterface/SignupForSIMService_V2Core/RuleChains/230.DEG31GenearteSignupForSIMServcieSystemErrorEndAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true
