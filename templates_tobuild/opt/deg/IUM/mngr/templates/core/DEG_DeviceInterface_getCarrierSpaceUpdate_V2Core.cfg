[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core]

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains]

RuleChainNames=515.ProcessOEMGetCarrierSpaceUpdatesRuleChain
RuleChainNames=515A.ExtractGetCarrierSpaceUpdateRequestRuleChain
RuleChainNames=515B.ProcessGetCarrierSpaceUpdateRequestRuleChain
RuleChainNames=515C.ProcessSubActionsRequestRuleChain
RuleChainNames=500.DEG30GenerateGCSUStartAuditDataRuleChain
RuleChainNames=510.DEG32GenerateGCSUEndOKAuditDataRuleChain
RuleChainNames=520.DEG32GenerateGCSUEndErrorAuditDataRuleChain

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitRequestForGetCarrierSpaceUpdate
RuleNames=101.GenerateGetCarrierSpaceUpdateStartAuditData
RuleNames=110.ReadandExtractRequestValue

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain/100.InitRequestForGetCarrierSpaceUpdate]

AdornOps=set DEG_OEMDevRequestProcessedInteger 0
AdornOps=set DEG_CDevDBErrorFlagInteger 0
AdornOps=set DEG_CDevDBNoMatchFlagInteger 0
AdornOps=set DEG_CDevSysParameter "getCarrierSpaceUpdates"
AdornOps=set DEG_OEMDevGCSUStatusString ${DEVICE_GETCARRIER_SPACE_UPDATES}
AdornOps=set DEG_OEMDevGCSUModeString ${DEVICE_GCSP_MODE}
AdornOps=lower DEG_OEMDevGCSUStatusString DEG_OEMDevGCSUStatusString
AdornOps=set DEG_OEMDevRespStatusString 6000
AdornOps=setifnull DEG_OEMDevImsiString ""
AdornOps=setifnull DEG_MDN 0
AdornOps=set DEG_OEMDevArrayIndexInteger -1
AdornOps=set DEG_OEMDevNetworkUsageArrayIndexInteger -1
AdornOps=set DEG_OEMDevCarrierPlanArrayIndexInteger -1
AdornOps=set DEG_OEMDevCarrierAppsArrayIndexInteger -1
AdornOps=set DEG_OEMDevcarrierPlansFlagInteger 0
AdornOps=set DEG_OEMDevNetworkUsageFlagInteger 0
AdornOps=set DEG_OEMDevCarrierAppFlagInteger 0
AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 0
AdornOps=set DEG_GCSU_LocalDevice_CountInteger 0
ClassName=com.hp.siu.collector.rules.AdornmentRule

#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain/101.GenerateGetCarrierSpaceUpdateStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=500.DEG30GenerateGCSUStartAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain/110.ReadandExtractRequestValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevGCSUStatusString,=,enabled

TrueRuleChain=100.ExtractGetCarrierSpaceUpdateStatusRequest
TrueRuleChain=200.ProcessGetCarrierSpaceUpdateStatusRequest
FalseRuleChain=100.SetErrorResponse
FalseRuleChain=200.GenerateGetCarrierSpaceUpdateDisabledResponse
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
FalseRuleChain=250.EndAuditDataRuleChian
FalseRuleChain=300.LogErrorRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain/110.ReadandExtractRequestValue/100.ExtractGetCarrierSpaceUpdateStatusRequest]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=515A.ExtractGetCarrierSpaceUpdateRequestRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain/110.ReadandExtractRequestValue/200.ProcessGetCarrierSpaceUpdateStatusRequest]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=515B.ProcessGetCarrierSpaceUpdateRequestRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain/110.ReadandExtractRequestValue/100.SetErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString 6002
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0201"
AdornOps=set DEG_OEMDevMessageString "Action GetCarrierSpaceUpdate is DISABLED"
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getCarrierSpaceUpdates disable response: "
AdornOps=set DEG_AuditNRBMessageString "Sending getCarrierSpaceUpdates disable response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain/110.ReadandExtractRequestValue/200.GenerateGetCarrierSpaceUpdateDisabledResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain/110.ReadandExtractRequestValue/250.EndAuditDataRuleChian]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=510.DEG32GenerateGCSUEndOKAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515.ProcessOEMGetCarrierSpaceUpdatesRuleChain/110.ReadandExtractRequestValue/300.LogErrorRule]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevGCSUStatusString
LogLevel=INFO
Message=Action GetCarrierSpaceUpdates is DISABLED !!!!

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515A.ExtractGetCarrierSpaceUpdateRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=110.ExtractSubActions

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515A.ExtractGetCarrierSpaceUpdateRequestRuleChain/110.ExtractSubActions]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitArrayIndex
RuleNames=200.ExtractSubActionsAttribute
RuleNames=300.SetEmptySubActionsFlag

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515A.ExtractGetCarrierSpaceUpdateRequestRuleChain/110.ExtractSubActions/100.InitArrayIndex]

AdornOps=set DEG_OEMDevSubActionsArrayIndexInteger -1
AdornOps=set DEG_OEMDevSubActionsEmptyInteger 0
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515A.ExtractGetCarrierSpaceUpdateRequestRuleChain/110.ExtractSubActions/200.ExtractSubActionsAttribute]

ClassName=com.hp.usage.nme.rules.SplitArrayRule
SplitAttribute=sub_actions
SplitRules=100.IncrementArrayIndex
SplitRules=200.ExtractSubActions
SplitRules=300.StoreSubActionsInNME

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515A.ExtractGetCarrierSpaceUpdateRequestRuleChain/110.ExtractSubActions/200.ExtractSubActionsAttribute/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevSubActionsArrayIndexInteger 1 DEG_OEMDevSubActionsArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515A.ExtractGetCarrierSpaceUpdateRequestRuleChain/110.ExtractSubActions/200.ExtractSubActionsAttribute/200.ExtractSubActions]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
StructuredNMEToNMEMap=sub_actions[0].CData,DEG_OEMDevSubActionsString,""

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515A.ExtractGetCarrierSpaceUpdateRequestRuleChain/110.ExtractSubActions/200.ExtractSubActionsAttribute/300.StoreSubActionsInNME]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_OEMDevSubActionsString
ListAttribute=DEG_OEMDevSubActionsList

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515A.ExtractGetCarrierSpaceUpdateRequestRuleChain/110.ExtractSubActions/300.SetEmptySubActionsFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSubActionsArrayIndexInteger,=,-1
TrueRuleChain=100.setSubActionsEmpty

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515A.ExtractGetCarrierSpaceUpdateRequestRuleChain/110.ExtractSubActions/300.SetEmptySubActionsFlag/100.setSubActionsEmpty]

AdornOps=set DEG_OEMDevSubActionsEmptyInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515B.ProcessGetCarrierSpaceUpdateRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CheckGCSURequest

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515B.ProcessGetCarrierSpaceUpdateRequestRuleChain/100.CheckGCSURequest]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSubActionsEmptyInteger,=,0
FalseRuleChain=200.InvalidRequest_400C
FalseRuleChain=210.GenerateGCSUEndErrorAuditData
FalseRuleChain=205.SetErrorInfo
FalseRuleChain=210.ErrorLog
TrueRuleChain=220.SetErrorResponse
TrueRuleChain=100.LogSubActionsList
TrueRuleChain=100.SubActionsListPopulated

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515B.ProcessGetCarrierSpaceUpdateRequestRuleChain/100.CheckGCSURequest/210.GenerateGCSUEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=520.DEG32GenerateGCSUEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515B.ProcessGetCarrierSpaceUpdateRequestRuleChain/100.CheckGCSURequest/200.InvalidRequest_400C]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_OEMDevErrorMessageString "Invalid Request,Sub-action is empty in the request"
AdornOps=set DEG_AuditResultCodeString "400"
AdornOps=set DEG_OEMDevRespStatusString "400"

ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515B.ProcessGetCarrierSpaceUpdateRequestRuleChain/100.CheckGCSURequest/205.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GCSU.0202"
AdornOps=set DEG_OEMDevErrorMessageString "Mandatory fields are missing in Request"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515B.ProcessGetCarrierSpaceUpdateRequestRuleChain/100.CheckGCSURequest/210.ErrorLog]

Attributes=DEG_OEMDevSubActionsEmptyInteger
Attributes=DEG_CDevSysParameter
Attributes=DEG_CDevSysValueString
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=DEG to Device -> Mandatory Fields are missing in Request:

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515B.ProcessGetCarrierSpaceUpdateRequestRuleChain/100.CheckGCSURequest/100.SubActionsListPopulated]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=515C.ProcessSubActionsRequestRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515B.ProcessGetCarrierSpaceUpdateRequestRuleChain/100.CheckGCSURequest/220.SetErrorResponse]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0203"
AdornOps=set DEG_OEMDevMessageString "Received sub actions in the request"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515B.ProcessGetCarrierSpaceUpdateRequestRuleChain/100.CheckGCSURequest/100.LogSubActionsList]

Attributes=DEG_OEMDevSubActionsEmptyInteger
Attributes=DEG_OEMDevSubActionsList
Attributes=DEG_CDevSysParameter
Attributes=DEG_CDevSysValueString
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Received sub actions in the request : : 

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.ExtractSubActionsList
RuleNames=200.CheckRequestProcessedInteger

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitArrayIndex
RuleNames=200.ProcessSubActions

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/100.InitArrayIndex]

AdornOps=set DEG_OEMDevArrayIndexInteger -1
#AdornOps=set DEG_OEMDevSubActionsListToStr ""
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevSubActionsList
RuleChain=100.IncrementArrayIndex
RuleChain=120.ProcessEachSubActions
TmpAttributeName=DEG_OEMDevSubActionsString

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevArrayIndexInteger 1 DEG_OEMDevArrayIndexInteger
AdornOps=set DEG_CDevDBErrorFlagInteger 0
AdornOps=set DEG_CDevDBNoMatchFlagInteger 0
#AdornOps=set DEG_OEMDevSubActionsStatusInteger 0
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions/120.ProcessEachSubActions]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Operations=None

Conditions=DEG_OEMDevSubActionsString,=,"carrier-plans"
Conditions=DEG_OEMDevSubActionsString,=,"network-usage"
Conditions=DEG_OEMDevSubActionsString,=,"carrier-apps"
Conditions=DEG_OEMDevSubActionsString,=,DEG_OEMDevSubActionsString

TrueRuleChain=carrierplans
TrueRuleChain=networkusage
TrueRuleChain=carrierapp
TrueRuleChain=Other

carrierplans=100.SetCarrierPlansFlagRuleChain
networkusage=200.SetlNetworkUsageFlagRuleChain
carrierapp=300.SetCarrierAppFlagRuleChain
Other=350.SetErrorResponse
Other=400.LogSubActionsOtherErrorInfo
Other=500.SetInvalidRequest
Other=600.SetEndErrorAuditDataRuleChain

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions/120.ProcessEachSubActions/100.SetCarrierPlansFlagRuleChain]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevcarrierPlansFlagInteger 1

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions/120.ProcessEachSubActions/200.SetlNetworkUsageFlagRuleChain]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevNetworkUsageFlagInteger 1

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions/120.ProcessEachSubActions/300.SetCarrierAppFlagRuleChain]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevCarrierAppFlagInteger 1

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions/120.ProcessEachSubActions/350.SetErrorResponse]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0204"
AdornOps=set DEG_OEMDevMessageString "Sub-action in the request is not valid"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions/120.ProcessEachSubActions/400.LogSubActionsOtherErrorInfo]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevCarrierAppFlagInteger
Attributes=DEG_OEMDevNetworkUsageFlagInteger
Attributes=DEG_OEMDevcarrierPlansFlagInteger
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=INFO
Message=Entered into Others rule chain,Sub-action in the request is not valid : : 

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions/120.ProcessEachSubActions/500.SetInvalidRequest]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_OEMDevErrorMessageString "Sub_action in the request is not valid"
AdornOps=set DEG_OEMDevRespStatusString "400"
AdornOps=set DEG_AuditResultCodeString "400"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/100.ExtractSubActionsList/200.ProcessSubActions/120.ProcessEachSubActions/600.SetEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=520.DEG32GenerateGCSUEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
TrueRuleChain=100.CallCustomRuleChain

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitCustAttribute
RuleNames=200.CopyDEGToCustomAttributes
RuleNames=300.LogBeforeCustomCall
RuleNames=400.CallGCSUcustom
RuleNames=500.CopyCustomToDEGAttributes
RuleNames=600.LogAfterCustomCall
RuleNames=700.CheckUserConsent

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/100.InitCustAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set CUST_GCSU_IN_carrierPlansFlagInteger 0
AdornOps=set CUST_GCSU_IN_NetworkUsageFlagInteger 0
AdornOps=set CUST_GCSU_IN_CarrierAppFlagInteger 0
AdornOps=set CUST_GCSU_OUT_JSON_Response_Code_String ""
AdornOps=set CUST_GCSU_OUT_UserConsentRequiredFlag 0
AdornOps=set CUST_GCSU_OUT_OpInURLString ${DEVICE_USER_CONSENT_OPT_IN_URL}
AdornOps=set CUST_GCSU_OUT_OptInURLPostDataString ""
AdornOps=setifnull DEG_OEMDevAcceptLanguageString "en_US"
AdornOps=setifnull DEG_OEMDevXCountryISOCodeString ""

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/200.CopyDEGToCustomAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull CUST_GCSU_IN_IMSIString ""
AdornOps=setifnull CUST_GCSU_IN_MDN 0
AdornOps=copy DEG_MDN CUST_GCSU_IN_MDN
AdornOps=copy DEG_OEMDevImsiString CUST_GCSU_IN_IMSIString
AdornOps=setifnull CUST_GCSU_IN_SubActionsList null
AdornOps=copy DEG_OEMDevSubActionsList CUST_GCSU_IN_SubActionsList
AdornOps=copy DEG_OEMDevcarrierPlansFlagInteger CUST_GCSU_IN_carrierPlansFlagInteger
AdornOps=copy DEG_OEMDevNetworkUsageFlagInteger CUST_GCSU_IN_NetworkUsageFlagInteger
AdornOps=copy DEG_OEMDevCarrierAppFlagInteger CUST_GCSU_IN_CarrierAppFlagInteger
AdornOps=copy DEG_OEMDevAcceptLanguageString CUST_GCSU_IN_AcceptLanguageString
AdornOps=copy DEG_OEMDevXCountryISOCodeString CUST_GCSU_IN_XCountryISOCodeString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0205"
AdornOps=set DEG_OEMDevMessageString "Before Calling GCSU Custom template"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/300.LogBeforeCustomCall]

ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG2
Message=Log before calling GSCU Custom template : : 
NullAlso=true
Attributes=DEG_OEMDevImsiString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevcarrierPlansFlagInteger
Attributes=DEG_OEMDevNetworkUsageFlagInteger
Attributes=DEG_OEMDevCarrierAppFlagInteger
Attributes=DEG_OEMDevSubActionsList
Attributes=CUST_GCSU_IN_IMSIString
Attributes=CUST_GCSU_IN_MDN
Attributes=CUST_GCSU_IN_carrierPlansFlagInteger
Attributes=CUST_GCSU_IN_NetworkUsageFlagInteger
Attributes=CUST_GCSU_IN_CarrierAppFlagInteger
Attributes=CUST_GCSU_IN_SubActionsList
Attributes=CUST_GCSU_IN_AcceptLanguageString
Attributes=CUST_GCSU_IN_XCountryISOCodeString

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/400.CallGCSUcustom]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_Apple_GCSU_GetResponseAttributes
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/600.LogAfterCustomCall]

ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG2
Message=Log after calling GSCU Custom template : : 
NullAlso=true
Attributes=CUST_GCSU_OUT_JSON_Response_Code_String
Attributes=CUST_GCSU_OUT_UserConsentRequiredFlag
Attributes=CUST_GCSU_OUT_OpInURLString
Attributes=CUST_GCSU_OUT_OptInURLPostDataString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/500.CopyCustomToDEGAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy CUST_GCSU_OUT_JSON_Response_Code_String DEG_OEMDevRespStatusString
AdornOps=copy CUST_GCSU_IN_MDN DEG_MDN
AdornOps=copy CUST_GCSU_OUT_UserConsentRequiredFlag DEG_OEMDevGCSUUserConsentRequiredFlag
AdornOps=copy CUST_GCSU_OUT_OpInURLString DEG_OEMDevGCSUOpInURLString
AdornOps=copy CUST_GCSU_OUT_OptInURLPostDataString DEG_OEMDevGCSUOptInURLPostDataString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0206"
AdornOps=set DEG_OEMDevMessageString "Log after calling GSCU Custom template"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevGCSUUserConsentRequiredFlag,=,1

TrueRuleChain=100.InitializeUserConsentResponse
TrueRuleChain=200.SetUserConsentResponse
TrueRuleChain=300.GenerateEndOkAuditDataRuleChain
FalseRuleChain=400.CheckCustomResponse

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/100.InitializeUserConsentResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString 6012
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getCarrierSpaceUpdates response: "
AdornOps=set DEG_AuditNRBMessageString "Sending getCarrierSpaceUpdates response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/200.SetUserConsentResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
NMEToStructuredNMEMap=DEG_OEMDevGCSUOpInURLString,jsonResponse.user_consent.opt_in_url.CData
NMEToStructuredNMEMap=DEG_OEMDevGCSUOptInURLPostDataString,jsonResponse.user_consent.opt_in_url_post_data.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/300.GenerateEndOkAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=510.DEG32GenerateGCSUEndOKAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRespStatusString,=,"6005"
Conditions=DEG_OEMDevRespStatusString,=,"6010"
#QXCM1001560809: Allow return 6002 STATUS_DISALLOWED_ACTION from GCSU template.
Conditions=DEG_OEMDevRespStatusString,=,"6002"

Operations=or,or

TrueRuleChain=100.InitializeErrorResponse
TrueRuleChain=110.SetErrorResponse
TrueRuleChain=120.GenerateEndErrorAuditDataRuleChain
FalseRuleChain=100.ExtractSNMEBasedOnFlag
FalseRuleChain=200.ExtractBGRefreshIntervalHrs
FalseRuleChain=300.CheckValidationFlag

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.InitializeErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
#AdornOps=set DEG_OEMDevRespStatusString 6005
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GCSU.0207"
AdornOps=set DEG_OEMDevErrorMessageString "Received error response from custom or Carrier’s network sub-system failure"
AdornOps=set DEG_AuditResultCodeString "12"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/110.SetErrorResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/120.GenerateEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=520.DEG32GenerateGCSUEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Operations=DoAll

Conditions=CUST_GCSU_IN_carrierPlansFlagInteger,=,1
Conditions=CUST_GCSU_IN_NetworkUsageFlagInteger,=,1
Conditions=CUST_GCSU_IN_CarrierAppFlagInteger,=,1

TrueRuleChain=carrierplans
TrueRuleChain=networkusage
TrueRuleChain=carrierapp

carrierplans=100.CallCarrierPlansRuleChain
networkusage=200.CallNetworkUsageRuleChain
carrierapp=300.CallCarrierAppRuleChain

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitParameter
RuleNames=100.PrintLog
RuleNames=300.ExtractnetworkUsageSNME

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/100.InitParameter]

AdornOps=set DEG_OEMDevNU_IllegalCharsString ""
AdornOps=set DEG_OEMDevNU_IllegalCharsResCodeString "1"
AdornOps=set DEG_OEMDevNU_IllegalCharsRetCodeInteger 1

AdornOps=set DEG_OEMDevNU_MandOptCheckResCodeString "2"
AdornOps=set DEG_OEMDevNU_MandOptCheckRetCodeInteger 2

AdornOps=set DEG_OEMDevNU_ResponseCodeString ""
AdornOps=set DEG_OEMDevNU_ReturnCodeInteger 1

AdornOps=set DEG_OEMDevNU_ValueCheckResCodeString "3"
AdornOps=set DEG_OEMDevNU_ValueCheckRetCodeInteger 3

AdornOps=set DEG_OEMDevNU_CUP_TrueValueCountInteger 0

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0208"
AdornOps=set DEG_OEMDevMessageString "Entered into Network usage rule chain"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/100.PrintLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
Message=Entered into Network usage rule chain!!!!


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME]

ClassName=com.hp.usage.nme.rules.SplitArrayRule
SplitAttribute=jsonResponse.network_usage.account_metrics
SplitRules=100.SetArrayIndex
SplitRules=200.ExtractLocalDeviceMatrics
SplitRules=200.MakeLowerCase
SplitRules=200.CheckLocalDeviceMetricsValue
SplitRules=250.SetErrorResponse
SplitRules=200.Log
SplitRules=200.CheckLocalDeviceMetricsCount
SplitRules=300.SplitApplicablePlans

IndexAttribute=arrayIndex

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/100.SetArrayIndex]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=false
StructuredNMEToNMEMap=arrayIndex,DEG_CDevIndexInteger


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/250.SetErrorResponse]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0209"
AdornOps=set DEG_OEMDevMessageString "Array index of account_metrics and local device count"


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/200.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule

Attributes=DEG_CDevIndexInteger
Attributes=DEG_OEMDevLocalDeviceMatricsString
Attributes=DEG_GCSU_LocalDevice_CountInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
NullAlso=true
Message=<<< Array index of  account_metrics and local device count>>>>>>

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/200.ExtractLocalDeviceMatrics]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true

StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].local_device_metrics.CData,DEG_OEMDevLocalDeviceMatricsString
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/200.MakeLowerCase]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=lower DEG_OEMDevLocalDeviceMatricsString DEG_OEMDevLocalDeviceMatricsString

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/200.CheckLocalDeviceMetricsValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevLocalDeviceMatricsString,=,"true"
TrueRuleChain=100.SetCount

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/200.CheckLocalDeviceMetricsValue/100.SetCount]

AdornOps=set DEG_GCSU_tempInteger 1
AdornOps=+ DEG_GCSU_tempInteger DEG_GCSU_LocalDevice_CountInteger DEG_GCSU_LocalDevice_CountInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/200.CheckLocalDeviceMetricsCount]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_GCSU_LocalDevice_CountInteger,=,2

TrueRuleChain=100.SetValidationFailFlag

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/200.CheckLocalDeviceMetricsCount/100.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Validation failed for network usage response : More than one Local Device"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitArrayIndex
RuleNames=100.SplitArray
RuleNames=200.CheckCurrentUsedPlanValueCount

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/200.CheckCurrentUsedPlanValueCount]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevNU_CUP_TrueValueCountInteger,>=,1

FalseRuleChain=100.SetValidationFailFlag
FalseRuleChain=200.Log

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/200.CheckCurrentUsedPlanValueCount/100.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Validation failed for network usage response : Atleast one true value is not present for current-used-plan"
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0210"
AdornOps=set DEG_OEMDevMessageString "Log after calling GSCU Custom template"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/200.CheckCurrentUsedPlanValueCount/200.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevNetworkUsageArrayIndexInteger
Attributes=DEG_OEMDevNU_CurrentUsedPlanString
Attributes=DEG_OEMDevNU_CUP_TrueValueCountInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
NullAlso=true
Message=<<< current-used-plan true value count>>>>>>

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.InitArrayIndex]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevNetworkUsageArrayIndexInteger -1

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray]

ClassName=com.hp.usage.nme.rules.SplitArrayRule
SplitAttribute=jsonResponse.network_usage.account_metrics[0].applicable_plans
SplitRules=100.IncrementArrayIndex
SplitRules=200.ExtractSNME
SplitRules=300.SNMELog
SplitRules=350.ChangeToLowerCase
SplitRules=360.ValidateMaxDataBeforeThrottling
SplitRules=400.NMEValidationRule
SplitRules=401.ValidateCurrentUsedPlan
SplitRules=450.SetDefaultValues
SplitRules=500.CheckValidationResponseInteger
SplitRules=550.SetErrorResponse
SplitRules=600.ValidationLogs

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevNetworkUsageArrayIndexInteger 1 DEG_OEMDevNetworkUsageArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/200.ExtractSNME]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true

StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].network_usage_label.CData,DEG_OEMDevNetworkUsageLabelString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].device_type.CData,DEG_OEMDevNU_DeviceTypeInteger
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].local_device_metrics.CData,DEG_OEMDevLocalDeviceMatricsString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].subscription_status.CData,DEG_OEMDevSubscriptionStatusString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].plan_type.CData,DEG_OEMDevPlanTypeString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].billing_cycle_ends_date.CData,DEG_OEMDevBillingCycleEndsDateString

StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].plan_label.CData,DEG_OEMDevNU_PlanLabelString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].plan_category.CData,DEG_OEMDevNU_PlanCategoryInteger
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].current_used_plan.CData,DEG_OEMDevNU_CurrentUsedPlanString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].data_measure_unit.CData,DEG_OEMDevNU_DataMeasureUnitString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].data_capacity.CData,DEG_OEMDevNU_DataCapacityString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].max_data_before_throttling.CData,DEG_OEMDevNU_MaxDataBeforeThrottlingString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].data_used.CData,DEG_OEMDevNU_DataUsedString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].shared_data_used.CData,DEG_OEMDevNU_SharedDataUsedString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].shared_plan_identifier.CData,DEG_OEMDevNU_SharedPlanIdentifierString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].messages_capacity.CData,DEG_OEMDevNU_MessagesCapacityString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].messages_used.CData,DEG_OEMDevNU_MessagesUsedString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].voice_minutes_capacity.CData,DEG_OEMDevNU_VoiceMinutesCapacityString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].voice_minutes_used.CData,DEG_OEMDevNU_VoiceMinutesUsedString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].remaining_balance.CData,DEG_OEMDevNU_RemainingBalanceString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].throttled.CData,DEG_OEMDevNU_ThrottledString
StructuredNMEToNMEMap=jsonResponse.network_usage.account_metrics[0].applicable_plans[0].last_updated_at.CData,DEG_OEMDevNU_LastUpdatedAtString

#StructuredNMEToNMEMap=jsonResponse.network_usage.more_details_url.CData,DEG_OEMDevNetworkUsageMoreDetailsURLString

SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/300.SNMELog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevNetworkUsageArrayIndexInteger
#Attributes=DEG_OEMDevNetworkUsageMoreDetailsURLString
Attributes=DEG_OEMDevNetworkUsageLabelString
Attributes=DEG_OEMDevNU_DeviceTypeInteger
Attributes=DEG_OEMDevLocalDeviceMatricsString
Attributes=DEG_OEMDevPlanTypeString
Attributes=DEG_OEMDevSubscriptionStatusString
Attributes=DEG_OEMDevBillingCycleEndsDateString
Attributes=DEG_OEMDevNU_PlanLabelString
Attributes=DEG_OEMDevNU_PlanCategoryInteger
Attributes=DEG_OEMDevNU_CurrentUsedPlanString
Attributes=DEG_OEMDevNU_DataMeasureUnitString
Attributes=DEG_OEMDevNU_DataCapacityString
Attributes=DEG_OEMDevNU_MaxDataBeforeThrottlingString
Attributes=DEG_OEMDevNU_DataUsedString
Attributes=DEG_OEMDevNU_SharedDataUsedString
Attributes=DEG_OEMDevNU_SharedPlanIdentifierString
Attributes=DEG_OEMDevNU_MessagesCapacityString
Attributes=DEG_OEMDevNU_MessagesUsedString
Attributes=DEG_OEMDevNU_VoiceMinutesCapacityString
Attributes=DEG_OEMDevNU_VoiceMinutesUsedString
Attributes=DEG_OEMDevNU_RemainingBalanceString
Attributes=DEG_OEMDevNU_ThrottledString
Attributes=DEG_OEMDevNU_LastUpdatedAtString
#Attributes=DEG_OEMDevNetworkUsageMoreDetailsURLString
Attributes=DEG_CDevIndexInteger
LogLevel=DEBUG
NullAlso=true
Message=SNME Log under loop network Usage : : 

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/350.ChangeToLowerCase]

AdornOps=lower DEG_OEMDevLocalDeviceMatricsString DEG_OEMDevLocalDeviceMatricsString
AdornOps=lower DEG_OEMDevSubscriptionStatusString DEG_OEMDevSubscriptionStatusString
AdornOps=lower DEG_OEMDevNU_CurrentUsedPlanString DEG_OEMDevNU_CurrentUsedPlanString
##AdornOps=lower DEG_OEMDevNU_DataMeasureUnitString DEG_OEMDevNU_DataMeasureUnitString
AdornOps=lower DEG_OEMDevNU_ThrottledString DEG_OEMDevNU_ThrottledString

AdornOps=lower DEG_OEMDevNU_MessagesCapacityString DEG_OEMDevNU_MessagesCapacityString
AdornOps=lower DEG_OEMDevNU_MessagesUsedString DEG_OEMDevNU_MessagesUsedString
AdornOps=lower DEG_OEMDevNU_VoiceMinutesCapacityString DEG_OEMDevNU_VoiceMinutesCapacityString
AdornOps=lower DEG_OEMDevNU_VoiceMinutesUsedString DEG_OEMDevNU_VoiceMinutesUsedString
AdornOps=lower DEG_OEMDevNU_DataCapacityString DEG_OEMDevNU_DataCapacityString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Validate
RuleNames=150.SetErrorResponse
RuleNames=110.Log

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling/150.SetErrorResponse]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0211"
AdornOps=set DEG_OEMDevMessageString "Validation Log for Max-Data-Before-Throttling"


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling/110.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevNetworkUsageArrayIndexInteger
Attributes=DEG_OEMDevGCSUValidationFlagInteger
Attributes=DEG_OEMDevGCSUValidationMessageString

Attributes=DEG_OEMDevNU_IllegalCharsResCodeString
Attributes=DEG_OEMDevNU_IllegalCharsRetCodeInteger

Attributes=DEG_OEMDevNU_MandOptCheckResCodeString
Attributes=DEG_OEMDevNU_MandOptCheckRetCodeInteger

Attributes=DEG_OEMDevNU_MDBT_ResponseCodeString
Attributes=DEG_OEMDevNU_MDBT_ReturnCodeInteger

Attributes=DEG_OEMDevNU_ValueCheckResCodeString
Attributes=DEG_OEMDevNU_ValueCheckRetCodeInteger
Attributes=DEG_OEMDevNU_DataCapacityString
Attributes=DEG_OEMDevNU_MaxDataBeforeThrottlingString
LogLevel=DEBUG
NullAlso=true
Message=Validation Log for Max-Data-Before-Throttling : : 

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling/100.Validate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevNU_DataCapacityString,=,"unlimited"

TrueRuleChain=100.InitParameter
TrueRuleChain=100.CheckMaxDataBeforeThrottlingValue
TrueRuleChain=200.CheckValidationResponseInteger
FalseRuleChain=100.CheckMaxDataBeforeThrottlingIsEmpty

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling/100.Validate/100.InitParameter]

AdornOps=set DEG_OEMDevNU_MDBT_ResponseCodeString ""
AdornOps=set DEG_OEMDevNU_MDBT_ReturnCodeInteger 1

ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling/100.Validate/100.CheckMaxDataBeforeThrottlingIsEmpty]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevNU_MaxDataBeforeThrottlingString,!=,""

TrueRuleChain=100.SetValidationFailFlag

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling/100.Validate/100.CheckMaxDataBeforeThrottlingIsEmpty/100.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Validation failed for Max-Data-Before-Throttling : has value, but data_capacity is not unlimited "
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling/100.Validate/100.CheckMaxDataBeforeThrottlingValue]

ClassName=com.hp.usage.throttling.NMEAttributesValidationRule
AttributeCheck=DEG_OEMDevNU_MaxDataBeforeThrottlingString,n,,REGEX:^([0-9]+)$

ThrowException=false
Trim=true

MandOptCheckResCodeAttrName=DEG_OEMDevNU_MandOptCheckResCodeString
MandOptCheckRetCodeAttrName=DEG_OEMDevNU_MandOptCheckRetCodeInteger

ResCodeNMEAttrName=DEG_OEMDevNU_MDBT_ResponseCodeString
RetCodeNMEAttrName=DEG_OEMDevNU_MDBT_ReturnCodeInteger

ValueCheckResCodeAttrName=DEG_OEMDevNU_ValueCheckResCodeString
ValueCheckRetCodeAttrName=DEG_OEMDevNU_ValueCheckRetCodeInteger

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling/100.Validate/200.CheckValidationResponseInteger]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevNU_MDBT_ResponseCodeString,=,""
Conditions=DEG_OEMDevNU_MDBT_ReturnCodeInteger,=,1
Operations=or

FalseRuleChain=100.SetValidationFailFlag

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/360.ValidateMaxDataBeforeThrottling/100.Validate/200.CheckValidationResponseInteger/100.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Validation failed for Max-Data-Before-Throttling, not numeric if data_capacity is unlimited"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/400.NMEValidationRule]

ClassName=com.hp.usage.throttling.NMEAttributesValidationRule

AttributeCheck=DEG_OEMDevNetworkUsageLabelString,y,,
AttributeCheck=DEG_OEMDevNU_DeviceTypeInteger,n,,0|1|2|3|4
AttributeCheck=DEG_OEMDevLocalDeviceMatricsString,y,,true|false
AttributeCheck=DEG_OEMDevPlanTypeString,y,,prepaid|postpaid|corp-account
AttributeCheck=DEG_OEMDevSubscriptionStatusString,y,,subscribed|suspended|cancelled|depleted
#QXCM1001553221:billing-cycle-ends-date validation failed
AttributeCheck=DEG_OEMDevBillingCycleEndsDateString,y,,REGEX:^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.]\d+(?!:))?)?(\17[0-5]\d([\.]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$

AttributeCheck=DEG_OEMDevNU_PlanCategoryInteger,n,,0|1|2|3
AttributeCheck=DEG_OEMDevNU_CurrentUsedPlanString,y,,true|false
##AttributeCheck=DEG_OEMDevNU_DataMeasureUnitString,n,,kb|mb|gb|tb
AttributeCheck=DEG_OEMDevNU_DataMeasureUnitString,n,,KB|MB|GB|TB
AttributeCheck=DEG_OEMDevNU_DataCapacityString,y,,
AttributeCheck=DEG_OEMDevNU_DataUsedString,y,,
AttributeCheck=DEG_OEMDevNU_SharedDataUsedString,n,,
AttributeCheck=DEG_OEMDevNU_SharedPlanIdentifierString,n,,
AttributeCheck=DEG_OEMDevNU_MessagesCapacityString,n,,REGEX:^[A-Za-z0-9]+( [A-Za-z0-9]+)*$
AttributeCheck=DEG_OEMDevNU_MessagesUsedString,n,,REGEX:[0-9]*|unlimited
AttributeCheck=DEG_OEMDevNU_VoiceMinutesCapacityString,n,,REGEX:^[A-Za-z0-9]+( [A-Za-z0-9]+)*$
AttributeCheck=DEG_OEMDevNU_VoiceMinutesUsedString,n,,REGEX:[0-9]*|unlimited
AttributeCheck=DEG_OEMDevNU_ThrottledString,n,,true|false
AttributeCheck=DEG_OEMDevNU_LastUpdatedAtString,y,,REGEX:^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.]\d+(?!:))?)?(\17[0-5]\d([\.]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$

#AttributeCheck=DEG_OEMDevNetworkUsageMoreDetailsURLString,n,,

ThrowException=false
Trim=true

IllegalChars=DEG_OEMDevNU_IllegalCharsString
IllegalCharsResCodeAttrName=DEG_OEMDevNU_IllegalCharsResCodeString
IllegalCharsRetCodeAttrName=DEG_OEMDevNU_IllegalCharsRetCodeInteger

MandOptCheckResCodeAttrName=DEG_OEMDevNU_MandOptCheckResCodeString
MandOptCheckRetCodeAttrName=DEG_OEMDevNU_MandOptCheckRetCodeInteger

ResCodeNMEAttrName=DEG_OEMDevNU_ResponseCodeString
RetCodeNMEAttrName=DEG_OEMDevNU_ReturnCodeInteger

ValueCheckResCodeAttrName=DEG_OEMDevNU_ValueCheckResCodeString
ValueCheckRetCodeAttrName=DEG_OEMDevNU_ValueCheckRetCodeInteger

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/401.ValidateCurrentUsedPlan]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CheckCUPValue
RuleNames=150.SetErrorResponse
RuleNames=200.Log

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/401.ValidateCurrentUsedPlan/100.CheckCUPValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevNU_CurrentUsedPlanString,=,"true"

TrueRuleChain=100.SetCount

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/401.ValidateCurrentUsedPlan/100.CheckCUPValue/100.SetCount]

AdornOps=set DEG_GCSU_tempInteger 1
AdornOps=+ DEG_GCSU_tempInteger DEG_OEMDevNU_CUP_TrueValueCountInteger DEG_OEMDevNU_CUP_TrueValueCountInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/401.ValidateCurrentUsedPlan/150.SetErrorResponse]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0212"
AdornOps=set DEG_OEMDevMessageString "current-used-plan true value count"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/401.ValidateCurrentUsedPlan/200.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_CDevIndexInteger
Attributes=DEG_OEMDevNetworkUsageArrayIndexInteger
Attributes=DEG_OEMDevNU_CurrentUsedPlanString
Attributes=DEG_OEMDevNU_CUP_TrueValueCountInteger
LogLevel=DEBUG
NullAlso=true
Message=<<< current-used-plan true value count>>>>>>

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/450.SetDefaultValues]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Operations=DoAll

Conditions=DEG_OEMDevLocalDeviceMatricsString,=,""
Conditions=DEG_OEMDevNU_CurrentUsedPlanString,=,""
Conditions=DEG_OEMDevNU_ThrottledString,=,""

TrueRuleChain=LocalDeviceMatrics
TrueRuleChain=CurrentUsedPlan
TrueRuleChain=NU_Throttled

LocalDeviceMatrics=100.SetLocalDeviceMatrics
LocalDeviceMatrics=100.SetResponse
CurrentUsedPlan=101.SetCurrentUsedPlan
CurrentUsedPlan=101.SetResponse
NU_Throttled=200.SetNU_Throttled
NU_Throttled=200.SetResponse

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/450.SetDefaultValues/100.SetLocalDeviceMatrics]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevLocalDeviceMatricsString "false"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/450.SetDefaultValues/100.SetResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevLocalDeviceMatricsString,jsonResponse.network_usage.account_metrics[0].local_device_metrics.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/450.SetDefaultValues/101.SetCurrentUsedPlan]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevNU_CurrentUsedPlanString "false"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/450.SetDefaultValues/101.SetResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevNU_CurrentUsedPlanString,jsonResponse.network_usage.account_metrics[0].applicable_plans[0].current_used_plan.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/450.SetDefaultValues/200.SetNU_Throttled]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevNU_ThrottledString "false"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/450.SetDefaultValues/200.SetResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevNU_ThrottledString,jsonResponse.network_usage.account_metrics[0].applicable_plans[0].throttled.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/500.CheckValidationResponseInteger]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevNU_ResponseCodeString,=,""
Conditions=DEG_OEMDevNU_ReturnCodeInteger,=,1
Operations=or

FalseRuleChain=100.SetValidationFailFlag

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/500.CheckValidationResponseInteger/100.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Validation failed for network usage response"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/550.SetErrorResponse]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0213"
AdornOps=set DEG_OEMDevMessageString "Validation Log under loop Network usage"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/200.CallNetworkUsageRuleChain/300.ExtractnetworkUsageSNME/300.SplitApplicablePlans/100.SplitArray/600.ValidationLogs]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevNetworkUsageArrayIndexInteger
Attributes=DEG_OEMDevGCSUValidationFlagInteger
Attributes=DEG_OEMDevGCSUValidationMessageString

Attributes=DEG_OEMDevNU_IllegalCharsResCodeString
Attributes=DEG_OEMDevNU_IllegalCharsRetCodeInteger

Attributes=DEG_OEMDevNU_MandOptCheckResCodeString
Attributes=DEG_OEMDevNU_MandOptCheckRetCodeInteger

Attributes=DEG_OEMDevNU_ResponseCodeString
Attributes=DEG_OEMDevNU_ReturnCodeInteger

Attributes=DEG_OEMDevNU_ValueCheckResCodeString
Attributes=DEG_OEMDevNU_ValueCheckRetCodeInteger

Attributes=DEG_GCSU_LocalDevice_CountInteger
LogLevel=DEBUG
NullAlso=true
Message=Validation Log under loop Network usage : : 

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitParameter
RuleNames=100.PrintLog
RuleNames=300.ExtractCarrierPlanSNME

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/100.PrintLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_OEMDevResponseHandlerString
LogLevel=DEBUG
Message=Entered into Carrier plans rule chain!!!!

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/100.InitParameter]

AdornOps=set DEG_OEMDevCP_MandOptCheckResCodeString 1
AdornOps=set DEG_OEMDevCP_MandOptCheckRetCodeInteger 2

AdornOps=set DEG_OEMDevCP_ResponseCodeString ""
AdornOps=set DEG_OEMDevCP_ReturnCodeInteger 0

AdornOps=set DEG_OEMDevCP_ValueCheckResCodeString "05"
AdornOps=set DEG_OEMDevCP_ValueCheckRetCodeInteger 6
dornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0214"
AdornOps=set DEG_OEMDevMessageString "Entered into Carrier plans rule chain"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME]

ClassName=com.hp.usage.nme.rules.SplitArrayRule
SplitAttribute=jsonResponse.carrier_plans.plans_list

SplitRules=100.SetArrayIndex
SplitRules=150.SetErrorResponse
SplitRules=200.Log
SplitRules=300.SplitPlansList

IndexAttribute=arrayIndex

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/100.SetArrayIndex]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=false
StructuredNMEToNMEMap=arrayIndex,DEG_CDevIndexInteger

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/150.SetErrorResponse]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0215"
AdornOps=set DEG_OEMDevMessageString "Array index of  plans_list"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/200.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule

Attributes=DEG_CDevIndexInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
NullAlso=true
Message=<<< Array index of  plans_list>>>>>>


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitArrayIndex
RuleNames=200.SplitPlansListArray

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/100.InitArrayIndex]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevCarrierPlanArrayIndexInteger -1


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray]

ClassName=com.hp.usage.nme.rules.SplitArrayRule
SplitAttribute=jsonResponse.carrier_plans.plans_list[0].plan_group_options
SplitRules=100.IncrementArrayIndex
SplitRules=200.ExtractSNME
SplitRules=250.ConvertUppercaseToLowerCase
SplitRules=255.SetErrorResponse
SplitRules=300.SNMELog
SplitRules=400.ValidateInputParameters
SplitRules=450.SetDefaultValues
SplitRules=500.SetLogInfo
SplitRules=600.ValidationLogs

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevCarrierPlanArrayIndexInteger 1 DEG_OEMDevCarrierPlanArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/200.ExtractSNME]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
StructuredNMEToNMEMap=jsonResponse.carrier_plans.plans_list[0].plan_category.CData,DEG_OEMDevCarrierPlansPlanCategoryInteger
StructuredNMEToNMEMap=jsonResponse.carrier_plans.plans_list[0].plan_group_options[0].plan_id.CData,DEG_OEMDevCP_PlanGroupOptionsPlanIDString
StructuredNMEToNMEMap=jsonResponse.carrier_plans.plans_list[0].plan_group_options[0].plan_label.CData,DEG_OEMDevCP_PlanGroupOptionsPlanLabelString
StructuredNMEToNMEMap=jsonResponse.carrier_plans.plans_list[0].plan_group_options[0].plan_value.CData,DEG_OEMDevCP_PlanGroupOptionsPlanValueString
StructuredNMEToNMEMap=jsonResponse.carrier_plans.plans_list[0].plan_group_options[0].plan_subscribed.CData,DEG_OEMDevCP_PlanGroupOptionsPlanSubscribedString
StructuredNMEToNMEMap=jsonResponse.carrier_plans.plans_list[0].plan_group_options[0].plan_purchasable.CData,DEG_OEMDevCP_PlanGroupOptionsPlanPurchasableString
StructuredNMEToNMEMap=jsonResponse.carrier_plans.plans_list[0].plan_group_options[0].plan_details_url.CData,DEG_OEMDevCP_PlanGroupOptionsPlanDetailsURLString
StructuredNMEToNMEMap=jsonResponse.carrier_plans.plans_list[0].plan_group_options[0].plan_termcond_url.CData,DEG_OEMDevCP_PlanGroupOptionsPlanTermCondURLString

StructuredNMEToNMEMap=jsonResponse.carrier_plans.more_plans_url.CData,DEG_OEMDevCP_MorePlansURLString
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/250.ConvertUppercaseToLowerCase]

#AdornOps=lower DEG_OEMDevCarrierPlansPlanCategoryInteger DEG_OEMDevCarrierPlansPlanCategoryInteger
AdornOps=lower DEG_OEMDevCP_PlanGroupOptionsPlanSubscribedString DEG_OEMDevCP_PlanGroupOptionsPlanSubscribedString
AdornOps=lower DEG_OEMDevCP_PlanGroupOptionsPlanPurchasableString DEG_OEMDevCP_PlanGroupOptionsPlanPurchasableString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/255.SetErrorResponse]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0216"
AdornOps=set DEG_OEMDevMessageString "SNME Log under loop ExtractCarrierPlanSNME"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/300.SNMELog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevCarrierPlanArrayIndexInteger
Attributes=DEG_OEMDevCarrierPlansPlanCategoryInteger
Attributes=DEG_OEMDevCP_PlanGroupOptionsPlanIDString
Attributes=DEG_OEMDevCP_PlanGroupOptionsPlanLabelString
Attributes=DEG_OEMDevCP_PlanGroupOptionsPlanValueString
Attributes=DEG_OEMDevCP_PlanGroupOptionsPlanSubscribedString
Attributes=DEG_OEMDevCP_PlanGroupOptionsPlanPurchasableString
Attributes=DEG_OEMDevCP_PlanGroupOptionsPlanDetailsURLString
Attributes=DEG_OEMDevCP_PlanGroupOptionsPlanTermCondURLString
Attributes=DEG_OEMDevGCSUValidationFlagInteger
Attributes=DEG_OEMDevCP_MorePlansURLString
Attributes=DEG_CDevIndexInteger
LogLevel=DEBUG
NullAlso=true
Message=SNME Log under loop ExtractCarrierPlanSNME : : 

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/400.ValidateInputParameters]

Description= Rule for validating all the NMEs common for all operations, checking for mandatory, length, format and illegal characters
ClassName=com.hp.usage.throttling.NMEAttributesValidationRule

AttributeCheck=DEG_OEMDevCarrierPlansPlanCategoryInteger,y,,0|1|2|3
AttributeCheck=DEG_OEMDevCP_PlanGroupOptionsPlanIDString,y,,
AttributeCheck=DEG_OEMDevCP_PlanGroupOptionsPlanLabelString,y,,
AttributeCheck=DEG_OEMDevCP_PlanGroupOptionsPlanValueString,y,,
AttributeCheck=DEG_OEMDevCP_PlanGroupOptionsPlanSubscribedString,y,,subscribed|in-progress|not-subscribed
AttributeCheck=DEG_OEMDevCP_PlanGroupOptionsPlanPurchasableString,y,,true|false
AttributeCheck=DEG_OEMDevCP_PlanGroupOptionsPlanDetailsURLString,n,,
AttributeCheck=DEG_OEMDevCP_PlanGroupOptionsPlanTermCondURLString,n,,
AttributeCheck=DEG_OEMDevCP_MorePlansURLString,n,,

MandOptCheckResCodeAttrName=DEG_OEMDevCP_MandOptCheckResCodeString
MandOptCheckRetCodeAttrName=DEG_OEMDevCP_MandOptCheckRetCodeInteger

ResCodeNMEAttrName=DEG_OEMDevCP_ResponseCodeString
RetCodeNMEAttrName=DEG_OEMDevCP_ReturnCodeInteger

ValueCheckResCodeAttrName=DEG_OEMDevCP_ValueCheckResCodeString
ValueCheckRetCodeAttrName=DEG_OEMDevCP_ValueCheckRetCodeInteger

ThrowException=false

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/450.SetDefaultValues]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Operations=DoAll

Conditions=DEG_OEMDevCP_PlanGroupOptionsPlanPurchasableString,=,""

TrueRuleChain=PlanPurchasable

PlanPurchasable=200.SetPlanPurchasable
PlanPurchasable=200.SetResponse


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/450.SetDefaultValues/200.SetPlanPurchasable]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevCP_PlanGroupOptionsPlanPurchasableString "true"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/450.SetDefaultValues/200.SetResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevCP_PlanGroupOptionsPlanPurchasableString,jsonResponse.carrier_plans.plans_list[0].plan_group_options[0].plan_purchasable.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/500.CheckValidationResponseInteger]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCP_ResponseCodeString,=,""
Conditions=DEG_OEMDevCP_ReturnCodeInteger,=,1
Operations=or

FalseRuleChain=100.SetValidationFailFlag

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/500.CheckValidationResponseInteger/100.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Validation failed for carrier-plan index 0 response"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/500.SetLogInfo]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0217"
AdornOps=set DEG_OEMDevMessageString "Validation Log under loop ExtractCarrierPlanSNME"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/100.CallCarrierPlansRuleChain/300.ExtractCarrierPlanSNME/300.SplitPlansList/200.SplitPlansListArray/600.ValidationLogs]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevCarrierPlanArrayIndexInteger
Attributes=DEG_OEMDevGCSUValidationFlagInteger
Attributes=DEG_OEMDevGCSUValidationMessageString

Attributes=DEG_OEMDevCP_MandOptCheckResCodeString
Attributes=DEG_OEMDevCP_MandOptCheckRetCodeInteger

Attributes=DEG_OEMDevCP_ResponseCodeString
Attributes=DEG_OEMDevCP_ReturnCodeInteger

Attributes=DEG_OEMDevCP_ValueCheckResCodeString
Attributes=DEG_OEMDevCP_ValueCheckRetCodeInteger
LogLevel=DEBUG
NullAlso=true
Message=Validation Log under loop ExtractCarrierPlanSNME : : 


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitParameter
RuleNames=100.PrintLog
RuleNames=300.ExtractCarrieAppSNME
#RuleNames=400.NMEValidationRule
RuleNames=350.SetErrorResponse2
RuleNames=400.Log
RuleNames=400.CheckCount
RuleNames=500.ValidateAppsURL


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/100.PrintLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevResponseHandlerString
LogLevel=DEBUG
Message=Entered into Carrier apps rule chain!!!!

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/350.SetErrorResponse2]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0218"
AdornOps=set DEG_OEMDevMessageString "Log After SplitArray Rule"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevCarrier_AppsString
Attributes=DEG_OEMDevCarrierAppsArrayIndexInteger
Attributes=DEG_OEMDevCarrier_AppsList
LogLevel=DEBUG
Message=Log After SplitArray Rule : : :

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/100.InitParameter]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevCarrierAppsArrayIndexInteger -1
AdornOps=setifnull DEG_OEMDevCarrier_AppsURLString ""

#AdornOps=set DEG_OEMDevCA_ResponseCodeString ""
#AdornOps=set DEG_OEMDevCA_ReturnCodeInteger 1

#AdornOps=set DEG_OEMDevCA_ValueCheckResCodeString "3"
#AdornOps=set DEG_OEMDevCA_ValueCheckRetCodeInteger 3

#AdornOps=set DEG_OEMDevCA_MandOptCheckResCodeString "2"
#AdornOps=set DEG_OEMDevCA_MandOptCheckRetCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0219"
AdornOps=set DEG_OEMDevMessageString "Entered into Carrier apps rule chain"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/300.ExtractCarrieAppSNME]

ClassName=com.hp.usage.nme.rules.SplitArrayRule
SplitAttribute=jsonResponse.carrier_apps.apps_list
SplitRules=100.IncrementArrayIndex
SplitRules=200.Extract
SplitRules=300.CreateAppsList
SplitRules=300.Log
SplitRules=400.CheckValue


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/300.ExtractCarrieAppSNME/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevCarrierAppsArrayIndexInteger 1 DEG_OEMDevCarrierAppsArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/300.ExtractCarrieAppSNME/200.Extract]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
StructuredNMEToNMEMap=jsonResponse.carrier_apps.apps_list[0].CData,DEG_OEMDevCarrier_AppsString
StructuredNMEToNMEMap=jsonResponse.carrier_apps.apps_url.CData,DEG_OEMDevCarrier_AppsURLString
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/300.ExtractCarrieAppSNME/300.CreateAppsList]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCarrierAppsArrayIndexInteger,=,0

TrueRuleChain=100.CreateList

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/300.ExtractCarrieAppSNME/300.CreateAppsList/100.CreateList]

ClassName=AddToListAttributeRule
InputAttribute=DEG_OEMDevCarrier_AppsString
ListAttribute=DEG_OEMDevCarrier_AppsList

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/300.ExtractCarrieAppSNME/300.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevCarrier_AppsString
Attributes=DEG_OEMDevCarrier_AppsList
LogLevel=DEBUG
Message=SNME log for carrier app : : 

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/300.ExtractCarrieAppSNME/400.CheckValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCarrier_AppsString,=,""

TrueRuleChain=100.SetValidationFailFlag

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/300.ExtractCarrieAppSNME/400.CheckValue/100.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Validation failed for carrier-apps response"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.CheckCount]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCarrierAppsArrayIndexInteger,>,0

TrueRuleChain=100.ClearSNME
TrueRuleChain=200.SetValidationFailFlag
TrueRuleChain=300.AssignValuesInCarrierApps

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.CheckCount/100.ClearSNME]

ClassName=com.hp.usage.nme.rules.SNMEAdornmentRule
SNMEType=Umbrella:Body
AdornOps=clear jsonResponse.carrier_apps.apps_list

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.CheckCount/200.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Only 1 carrier-app should be in the response"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.CheckCount/300.AssignValuesInCarrierApps]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitParameter
RuleNames=300.IterateList

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.CheckCount/300.AssignValuesInCarrierApps/100.InitParameter]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevCarrierAppsArrayIndexInteger -1

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.CheckCount/300.AssignValuesInCarrierApps/300.IterateList]

ClassName=ListAttributeIterator
ListAttributeName=DEG_OEMDevCarrier_AppsList
RuleChain=100.IncrementArrayIndex
RuleChain=100.Log
RuleChain=200.CreateSNME
TmpAttributeName=DEG_OEMDevCarrier_AppsString

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.CheckCount/300.AssignValuesInCarrierApps/300.IterateList/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevCarrierAppsArrayIndexInteger 1 DEG_OEMDevCarrierAppsArrayIndexInteger
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0220"
AdornOps=set DEG_OEMDevMessageString "After Iterating Carrier Apps"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.CheckCount/300.AssignValuesInCarrierApps/300.IterateList/100.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevCarrier_AppsString
Attributes=DEG_OEMDevCarrier_AppsList
LogLevel=DEBUG
Message=After Iterating Carrier Apps : : :

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.CheckCount/300.AssignValuesInCarrierApps/300.IterateList/200.CreateSNME]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevCarrier_AppsString,jsonResponse.carrier_apps.apps_list[DEG_OEMDevCarrierAppsArrayIndexInteger].CData

SNMEType=Umbrella:Body

#QXCM1001567602:Sweetgum1.0 optimize Apps-url validation, adding conditional rule.
[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/500.ValidateAppsURL]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCarrier_AppsURLString,!=,""
TrueRuleChain=100.CheckURLString
TrueRuleChain=200.CheckIfHttps


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/500.ValidateAppsURL/100.CheckURLString]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=substr 0 8 DEG_OEMDevCarrier_AppsURLString DEG_OEMDevCarrier_AppsURL_tempString


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/500.ValidateAppsURL/200.CheckIfHttps]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCarrier_AppsURL_tempString,=,"https://"

FalseRuleChain=100.SetValidationFailFlag


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/500.ValidateAppsURL/200.CheckIfHttps/100.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Only HTTPS URL values in apps-url is supported."
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/100.ExtractSNMEBasedOnFlag/300.CallCarrierAppRuleChain/400.NMEValidationRule]

ClassName=com.hp.usage.throttling.NMEAttributesValidationRule
AttributeCheck=DEG_OEMDevCarrier_AppsString,y,,REGEX:(*.*)$

ThrowException=false
Trim=true

MandOptCheckResCodeAttrName=DEG_OEMDevCA_MandOptCheckResCodeString
MandOptCheckRetCodeAttrName=DEG_OEMDevCA_MandOptCheckRetCodeInteger

ResCodeNMEAttrName=DEG_OEMDevCA_ResponseCodeString
RetCodeNMEAttrName=DEG_OEMDevCA_ReturnCodeInteger

ValueCheckResCodeAttrName=DEG_OEMDevCA_ValueCheckResCodeString
ValueCheckRetCodeAttrName=DEG_OEMDevCA_ValueCheckRetCodeInteger

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=99.InitParameter
RuleNames=100.Extract
RuleNames=200.log
RuleNames=300.CheckValueIsEmpty

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/99.InitParameter]

AdornOps=set DEG_OEMDevBGRIH_ResponseCodeString ""
AdornOps=set DEG_OEMDevBGRIH_ReturnCodeInteger 1

AdornOps=set DEG_OEMDevBGRIH_ValueCheckResCodeString "3"
AdornOps=set DEG_OEMDevBGRIH_ValueCheckRetCodeInteger 3

AdornOps=set DEG_OEMDevBGRIH_MandOptCheckResCodeString "2"
AdornOps=set DEG_OEMDevBGRIH_MandOptCheckRetCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0221"
AdornOps=set DEG_OEMDevMessageString "SNME log for Background Refresh Interval Hours"

ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/100.Extract]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
StructuredNMEToNMEMap=jsonResponse.background_refresh_interval_hrs.CData,DEG_OEMDevBGRefreshIntervalHrsString
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/200.log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevBGRefreshIntervalHrsString
LogLevel=DEBUG
Message=SNME log for Background Refresh Interval Hours : : 

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevBGRefreshIntervalHrsString,=,""

TrueRuleChain=100.SetDefaultValue
TrueRuleChain=200.SetResponse
FalseRuleChain=300.ValidateNME

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/100.SetDefaultValue]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevBGRefreshIntervalHrsString "24"


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/200.SetResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevBGRefreshIntervalHrsString,jsonResponse.background_refresh_interval_hrs.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/300.ValidateNME]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Validate
RuleNames=150.SetErrorResponse
RuleNames=400.log
RuleNames=200.CheckValidationResponseInteger


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/300.ValidateNME/150.SetErrorResponse]

ClassName=AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GCSU.0222"
AdornOps=set DEG_OEMDevMessageString "Validation values BGR interval"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/300.ValidateNME/400.log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevBGRIH_ResponseCodeString
Attributes=DEG_OEMDevBGRIH_ReturnCodeInteger
Attributes=DEG_OEMDevBGRIH_ValueCheckResCodeString
Attributes=DEG_OEMDevBGRIH_ValueCheckRetCodeInteger
Attributes=DEG_OEMDevBGRIH_MandOptCheckResCodeString
Attributes=DEG_OEMDevBGRIH_MandOptCheckRetCodeInteger
LogLevel=DEBUG
Message=Validation values : : :

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/300.ValidateNME/100.Validate]

ClassName=com.hp.usage.throttling.NMEAttributesValidationRule
AttributeCheck=DEG_OEMDevBGRefreshIntervalHrsString,n,,REGEX:^([0-9]+)$

ThrowException=false
Trim=true

MandOptCheckResCodeAttrName=DEG_OEMDevBGRIH_MandOptCheckResCodeString
MandOptCheckRetCodeAttrName=DEG_OEMDevBGRIH_MandOptCheckRetCodeInteger

ResCodeNMEAttrName=DEG_OEMDevBGRIH_ResponseCodeString
RetCodeNMEAttrName=DEG_OEMDevBGRIH_ReturnCodeInteger

ValueCheckResCodeAttrName=DEG_OEMDevBGRIH_ValueCheckResCodeString
ValueCheckRetCodeAttrName=DEG_OEMDevBGRIH_ValueCheckRetCodeInteger

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/300.ValidateNME/200.CheckValidationResponseInteger]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevBGRIH_ResponseCodeString,=,""
Conditions=DEG_OEMDevBGRIH_ReturnCodeInteger,=,1
Operations=or

FalseRuleChain=100.SetValidationFailFlag
FalseRuleChain=200.SetDefaultValue
FalseRuleChain=300.SetResponse

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/300.ValidateNME/200.CheckValidationResponseInteger/100.SetValidationFailFlag]

AdornOps=set DEG_OEMDevGCSUValidationFlagInteger 1
AdornOps=set DEG_OEMDevGCSUValidationMessageString "Validation failed for background_refresh_interval_hrs"
ClassName=com.hp.siu.collector.rules.AdornmentRule



[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/300.ValidateNME/200.CheckValidationResponseInteger/200.SetDefaultValue]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevBGRefreshIntervalHrsString "24"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/200.ExtractBGRefreshIntervalHrs/300.CheckValueIsEmpty/300.ValidateNME/200.CheckValidationResponseInteger/300.SetResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevBGRefreshIntervalHrsString,jsonResponse.background_refresh_interval_hrs.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/300.CheckValidationFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevGCSUValidationFlagInteger,=,1
Conditions=DEG_OEMDevGCSUValidationMessageString,!=,""
Operations=or
FalseRuleChain=100.SetSuccessResponse
FalseRuleChain=200.CallEndOkAuditDataRuleChain
FalseRuleChain=300.GenerateMasterResponse
TrueRuleChain=150.SetSuccessResponse
TrueRuleChain=100.LogCriticalMessage
TrueRuleChain=300.GenerateMasterResponse
TrueRuleChain=200.CallEndOkAuditDataRuleChain

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/300.CheckValidationFlag/100.LogCriticalMessage]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_OEMDevGCSUValidationFlagInteger
Attributes=DEG_OEMDevGCSUValidationMessageString
LogLevel=CRITICAL
NullAlso=true
Message=Validation failed under getCarrierSpaceUpdateAction : : 

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/300.CheckValidationFlag/150.SetSuccessResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString 6000
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getCarrierSpaceUpdates response: "
AdornOps=set DEG_AuditNRBMessageString "Sending getCarrierSpaceUpdates response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GCSU.0223"
AdornOps=set DEG_OEMDevErrorMessageString "Validation failed under getCarrierSpaceUpdateAction"

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/300.CheckValidationFlag/200.CallEndOkAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=510.DEG32GenerateGCSUEndOKAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/300.CheckValidationFlag/100.SetSuccessResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString 6000
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getCarrierSpaceUpdates response: "
AdornOps=set DEG_AuditNRBMessageString "Sending getCarrierSpaceUpdates response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/300.CheckValidationFlag/200.CallEndOkAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=510.DEG32GenerateGCSUEndOKAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/515C.ProcessSubActionsRequestRuleChain/200.CheckRequestProcessedInteger/100.CallCustomRuleChain/700.CheckUserConsent/400.CheckCustomResponse/300.CheckValidationFlag/300.GenerateMasterResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/500.DEG30GenerateGCSUStartAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditNRBMessageAttribute
RuleNames=500.GenerateAuditAndNRBEvents

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/500.DEG30GenerateGCSUStartAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_CDevProcessStartTimeLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString "0"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditTransactionTypeString "getCarrierSpaceUpdates"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/500.DEG30GenerateGCSUStartAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEVICE TO DEG -> Received getCarrierSpaceUpdates request: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/500.DEG30GenerateGCSUStartAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/500.DEG30GenerateGCSUStartAuditDataRuleChain/400.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "getCarrierSpaceUpdates request received"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/500.DEG30GenerateGCSUStartAuditDataRuleChain/500.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/510.DEG32GenerateGCSUEndOKAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
#RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
#QXCM1001513083--NRB and Audit message are not providing proper information raised by bell
#RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/510.DEG32GenerateGCSUEndOKAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditResultCodeString "1"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditTransactionTypeString "getCarrierSpaceUpdates"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/510.DEG32GenerateGCSUEndOKAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getCarrierSpaceUpdates response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/510.DEG32GenerateGCSUEndOKAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/510.DEG32GenerateGCSUEndOKAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "Sending getCarrierSpaceUpdates response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/510.DEG32GenerateGCSUEndOKAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/520.DEG32GenerateGCSUEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/520.DEG32GenerateGCSUEndErrorAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
#AdornOps=set DEG_AuditResultCodeString "6005"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditTransactionTypeString "getCarrierSpaceUpdates"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/520.DEG32GenerateGCSUEndErrorAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getCarrierSpaceUpdates error response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/520.DEG32GenerateGCSUEndErrorAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/520.DEG32GenerateGCSUEndErrorAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "getCarrierSpaceUpdates error response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/getCarrierSpaceUpdates_V2Core/RuleChains/520.DEG32GenerateGCSUEndErrorAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true















