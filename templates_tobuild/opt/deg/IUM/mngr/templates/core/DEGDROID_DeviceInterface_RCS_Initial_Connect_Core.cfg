

[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core]


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains]

RuleChainNames=150.DEG30RCSInitialConnectRuleChain


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=001.SetUniqueIdTonull
RuleNames=002.GenerateStartAuditDataRuleChain
RuleNames=100.RequestAttributeConditionCheck
RuleNames=200.CallRCSCustomTemplate
RuleNames=300.GenerateEndAuditDataRuleChain


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/001.SetUniqueIdTonull]

AdornOps=set DEG_OEMDevUniqueIDString ""
AdornOps=set DEG_AuditTransactionTypeString "initial-connect"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/002.GenerateStartAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=501.GenerateAndroidStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestAttributeString,!=,""
FalseRuleChain=100.InitVariables
FalseRuleChain=200.CheckSubscriberIdentity
FalseRuleChain=300.LogNMERule
TrueRuleChain=100.SetErrorResponse


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/100.InitVariables]

AdornOps=set DEG_DevSubscriberIdentityString ${DEGDROID_SUBSCRIBER_IDENTITY}
AdornOps=lower DEG_DevSubscriberIdentityString DEG_DevSubscriberIdentityString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/100.SetErrorResponse]

AdornOps=set DEG_OEMDevHttpStatusInteger 403
AdornOps=set DEG_SSL_REQUEST_STATE "403C"
AdornOps=set DEG_CDevOutReturnCodeString "403"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.1601"
AdornOps=set DEG_OEMDevMessageString "Coming Out from RCS_Initial_Connect_Core"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_DevSubscriberIdentityString,=,"msisdn"
Conditions=DEG_DevSubscriberIdentityString,=,"imsi"
Conditions=DEG_DevSubscriberIdentityString,=,DEG_DevSubscriberIdentityString
Operations=None
Processimsi=200.SetSuccessResponse
Processimsi=203.SetErrorInfo
Processimsi=210.SuccesLog
Processmsisdn=100.CheckForHeaderMSISDNString
ProcessUnknownSubscriberIndentity=300.SetUnknownResponse
ProcessUnknownSubscriberIndentity=310.SetUnknownLog
TrueRuleChain=Processmsisdn
TrueRuleChain=Processimsi
TrueRuleChain=ProcessUnknownSubscriberIndentity


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevMsisdnString,=,dummy
FalseRuleChain=200.CheckForMSISDN
FalseRuleChain=210.CheckSubscriberKNOWN
TrueRuleChain=100.SetSuccessResponse
TrueRuleChain=106.SetErrorInfo
TrueRuleChain=110.SuccesLog


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/100.SetSuccessResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevOutReturnCodeString "1"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/106.SetErrorInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.1602"
AdornOps=set DEG_OEMDevMessageString "Request processed Successfully.In case of initial Connect"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/110.SuccesLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevAuthTypeString
Attributes=DEG_OEMDevSubscriberIdString
Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_DevAuthTypeString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Request processed Successfully : 
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/120.GenerateRCSInitialConnectEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG30GenerateEapAkaInitialSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/200.CheckForMSISDN]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=400C.ProcessReadSubscribertableRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/210.CheckSubscriberKNOWN]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
FalseRuleChain=210.150.SetErrorResponse
FalseRuleChain=210.154.SetErrorInfo
FalseRuleChain=210.160.SetErrorLog
TrueRuleChain=210.100.SetSuccessResponse
TrueRuleChain=210.107.SetErrorInfo
TrueRuleChain=210.110.SuccesLog


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/210.CheckSubscriberKNOWN/210.100.SetSuccessResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevOutReturnCodeString "1"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/210.CheckSubscriberKNOWN/210.107.SetErrorInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.1603"
AdornOps=set DEG_OEMDevMessageString "Request processed Successfully for imsi and KNOWN IMSI.In case of initial Connect"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/210.CheckSubscriberKNOWN/210.110.SuccesLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevAuthTypeString
Attributes=DEG_OEMDevSubscriberIdString
Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_DevAuthTypeString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Request processed Successfully for imsi and KNOWN IMSI :::
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/210.CheckSubscriberKNOWN/210.120.GenerateRCSInitialConnectEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG30GenerateEapAkaInitialSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/210.CheckSubscriberKNOWN/210.150.SetErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "503C"
AdornOps=set ResponseHeaderRetryAfterInteger ${DEGDROID_DEVICE_HTTP_RETRY_WINDOW}
AdornOps=set DEG_CDevOutReturnCodeString "503"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/210.CheckSubscriberKNOWN/210.154.SetErrorInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.1604"
AdornOps=set DEG_OEMDevMessageString "Request processed Successfully for imsi and UNKNOWN IMSI and RCS logic Throwing RETRY -AFTER 503 error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/210.CheckSubscriberKNOWN/210.160.SetErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevAuthTypeString
Attributes=DEG_OEMDevSubscriberIdString
Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_DevAuthTypeString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Request processed Successfully for imsi and UNKNOWN IMSI and RCS logic Throwing RETRY -AFTER 503 error :::
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/100.CheckForHeaderMSISDNString/210.CheckSubscriberKNOWN/210.170.GenerateRCSInitialConnectEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG30GenerateEapAkaInitialSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/200.SetSuccessResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevOutReturnCodeString "1"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/203.SetErrorInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.1605"
AdornOps=set DEG_OEMDevMessageString "Request processed Successfully for imsi.In case of initial Connect"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/210.SuccesLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevAuthTypeString
Attributes=DEG_OEMDevSubscriberIdString
Attributes=DEG_MDN
Attributes=DEG_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_DevAuthTypeString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Request processed Successfully for imsi.
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/220.GenerateRCSInitialConnectEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG30GenerateEapAkaInitialSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/300.SetUnknownResponse]

AdornOps=set DEG_SSL_REQUEST_STATE "403C"
AdornOps=set DEG_OEMDevHttpStatusInteger 403
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.1606"
AdornOps=set DEG_OEMDevErrorMessageString "DEGDROID_SUBSCRIBER_IDENTITY should be IMSI or MSISDN"
AdornOps=set DEG_CDevOutReturnCodeString "403"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_OEMDevUniqueIDString ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/200.CheckSubscriberIdentity/310.SetUnknownLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Action processed with error - DEGDROID_SUBSCRIBER_IDENTITY is not IMSI/MSISDN:
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/100.RequestAttributeConditionCheck/300.LogNMERule]

Attributes=DEG_OEMDevMsisdnString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Coming Out from RCS_Initial_Connect_Core :::
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/200.CallRCSCustomTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SSL_REQUEST_STATE,=,"200C"
TrueRuleChain=InvokeRCSCustomTemplate


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/200.CallRCSCustomTemplate/InvokeRCSCustomTemplate]

ClassName=RuleChain
RuleNames=100.CopyAttributesBeforeCustomCall
RuleNames=200.CallForRCSCustom
RuleNames=300.CopyAttributesAfterCustomCall
RuleNames=400.SetDEGSSLState


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/200.CallRCSCustomTemplate/InvokeRCSCustomTemplate/100.CopyAttributesBeforeCustomCall]

AdornOps=setifnull DEG_OEMDevRequestURIString ""
AdornOps=setifnull DEG_OEMDevRequestAttributeString ""
AdornOps=setifnull CUST_DDRCS_OUT_RespHttpStatusInteger 0
AdornOps=copy DEG_OEMDevRequestURIString CUST_DDRCS_IN_RequestURIString
AdornOps=copy DEG_OEMDevRequestAttributeString CUST_DDRCS_IN_RequestAttributeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/200.CallRCSCustomTemplate/InvokeRCSCustomTemplate/200.CallForRCSCustom]

ClassName=LocalRuleChainInvoker
RuleChain=CUSTRC_RCSInitialConnectCustomize
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/200.CallRCSCustomTemplate/InvokeRCSCustomTemplate/300.CopyAttributesAfterCustomCall]

AdornOps=copy CUST_DDRCS_IN_RequestURIString DEG_OEMDevRequestURIString
AdornOps=copy CUST_DDRCS_IN_RequestAttributeString DEG_OEMDevRequestAttributeString
AdornOps=copy CUST_DDRCS_OUT_RespHttpStatusInteger DEG_OEMDevHttpStatusInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/200.CallRCSCustomTemplate/InvokeRCSCustomTemplate/400.SetDEGSSLState]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevHttpStatusInteger,=,"403"
TrueRuleChain=100.SetSSLState


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/200.CallRCSCustomTemplate/InvokeRCSCustomTemplate/400.SetDEGSSLState/100.SetSSLState]

AdornOps=set DEG_SSL_REQUEST_STATE "403C"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevOutReturnCodeString "403"
AdornOps=set DEG_OEMDevErrorMessageString "Request processed with http status as 403"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/300.GenerateEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SSL_REQUEST_STATE,!=,"403C"
TrueRuleChain=100.GenerateEndAuditDataRuleChain


[/templates/DEG/DEGDROID_DeviceInterface/RCS_Initial_Connect_Core/RuleChains/150.DEG30RCSInitialConnectRuleChain/300.GenerateEndAuditDataRuleChain/100.GenerateEndAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG30GenerateEapAkaInitialSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true
