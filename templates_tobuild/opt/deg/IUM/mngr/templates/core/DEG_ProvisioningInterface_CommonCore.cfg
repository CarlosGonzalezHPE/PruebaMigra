

[/templates/DEG/ProvisioningInterface/Common_Core]


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors]

ClassName=com.hp.siu.serverutils.ConnectorManager
ConnectorNames=100.RefreshCacheConnector
ConnectorNames=110.ProvisioningSOAPConnector
ConnectorNames=140.StoredProcConnectorDEG
ConnectorNames=150.APNSNMERPCClientConnector


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/100.RefreshCacheConnector]

ClassName=com.hp.siu.plugins.dna.collector.rules.SocketConnector
ListenPort=${DEG_PROVISIONING_INTERFACE_LISTEN_PORT}


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/110.ProvisioningSOAPConnector]

AcceptCount=${PROV_HTTP_ACCEPT_COUNT}
ClassName=com.hp.siu.plugins.tomcat.HttpConnector
Context=Provisioning
Managed=${MANAGED_SETUP}
MaxProcessors=${DEVICE_HTTP_CON_MAX_PROCESSORS}
MaxSpareProcessors=${PROV_HTTP_CON_MIN_PROCESSORS}
MinProcessors=${PROV_HTTP_CON_MIN_PROCESSORS}
Port=${PROVISINING_SOAP_SERVER_PORT}
UseContextIdentifierOnly=true


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/110.ProvisioningSOAPConnector/Provisioning]

ClassName=com.hp.usage.soap.SOAPContextProvider
ContextIdentifier=Provisioning
DefaultRuleChain=003.DefaultUnsupportedOperationRuleChain
FaultCodeField=DEG_SubProvSOAPFaultCodeString
FaultStringField=DEG_SubProvSOAPFaultMessageString
NMENamespace=Provisioning
OperationIdField=DEG_SubProvOperationIDString
ServiceMap=ManageSubscribers,200.ManageSubscriberOperationRuleChain
ServiceMap=ManageSubscribersSubscription,300.ManageSubsSubscriptionOperationRuleChain
ServiceMap=ManageSubscribersUsage,400.ManageSubsUsageOperationRuleChain
ServiceMap=ManageIMSCredentials,200.ManageIMSCredentialsOpertations
ServiceMap=MultiSIMSignUpNotification,100.MultiSIMSignUpNotificationRuleChain
ServiceMap=QuerySubscribers,440.QuerySubscribersOperationRuleChain
WSDLFile=${PROV_STORE_WSDL_FILE}


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/140.StoredProcConnectorDEG]

ClassName=com.hp.usage.connector.lookup.jdbc.storedproc.JDBCStoredProcConnector
ProcNameAttribute=DEG_SubProvStoreProcNameString


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/140.StoredProcConnectorDEG/EndPoints]

ClassName=com.hp.usage.connector.DynamicEndPointSelector
KeyAttributeName=ConnectionPoolID


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/140.StoredProcConnectorDEG/EndPoints/EndPoint]

AutoCommit=false
ClassName=com.hp.usage.connector.lookup.jdbc.storedproc.JDBCEndPoint
ConnectionPoolID=DEG_DSN_TT_Rem_Pool
NumConnections=${DEG_CON_INITIAL_POOL_SIZE}
ValidationQuery=SELECT 1 FROM Dual
WaitForConnection=${DEG_WAIT_FOR_CON_TIME}


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/150.APNSNMERPCClientConnector]

ClassName=com.hp.usage.nme.rpc.client.NMERPCClientAdapter
Connection=PrimaryServer
Description=NMERPCClientAdapter is a connector to a remote session server that provides the ability to invoke rule chains in the remote session server and pass an NME.
MessageTypes=APNSRequestMessage
Name=APNSNMERPCClientAdapter
Routers=Router1


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/150.APNSNMERPCClientConnector/APNSRequestMessage]

ClassName=com.hp.usage.nme.rpc.codec.NMERPCMessageType
Description=NMERPCMessageType defines the NME attributes to send to a remote session server and the rule chain in the remote session server to invoke.
RequestAttributes=CUST_APN_IN_MDNLong
RequestAttributes=CUST_APN_IN_IMSIString
RequestAttributes=CUST_APN_IN_TopicString
RequestAttributes=CUST_APN_IN_TriggerTypeString
RequestAttributes=CUST_APN_IN_UniqueIdString
RequestAttributes=CUST_APN_IN_TokenString
RequestAttributes=CUST_APN_IN_PushNotificationStatus
ResponseAttributes=CUST_APN_OUT_APNSSentStatusString
RuleChain=CUSTRC_Apple_APNS_SendNotification


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/150.APNSNMERPCClientConnector/PrimaryServer]

ClassName=com.hp.usage.nme.rpc.client.NMERPCClientConnection
Description=NMERPCClientConnection creates a connection to a remote session server.
MaxAllowedRequestTimeouts=1000
MaxPendingRequests=512
ReconnectDelay=1000
ResponseTimeout=10000


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/150.APNSNMERPCClientConnector/Router1]

ClassName=com.hp.usage.framework.connector.router.StaticRouter
Description=StaticRouter identifies destinations that a message can be sent to.
Destinations=${APNS_INTERFACE_IP}:${APNS_INTERFACE_PORT}


[/templates/DEG/ProvisioningInterface/Common_Core/Connectors/150.APNSNMERPCClientConnector/Transport]

ClassName=com.hp.usage.transport.tcp.TCPTransport


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains]

ClassName=RuleChainManager
MaxPoolSize=${PROV_RULECHAIN_MAX_POOL_SIZE}
MinPoolSize=${PROV_RULECHAIN_MIN_POOL_SIZE}
RuleChainNames=000.SessionStoreDefaultErrorRuleChain
RuleChainNames=001.SessionStoreKeyNotExistsRuleChain
RuleChainNames=002.DuplicateSessionErrorRuleChain
RuleChainNames=003.DefaultUnsupportedOperationRuleChain
RuleChainNames=004.ExceptionRespHandlerRuleChain
RuleChainNames=005.FaultRespHandlerRuleChain
RuleChainNames=006.SuccessRespHandlerRuleChain
RuleChainNames=102.LookupSubscriberByPrimaryIMSIRuleChain
RuleChainNames=103.LookupSubscriberMDNAndSecondaryMDNByPrimaryMDNRuleChain
RuleChainNames=104.ManageSubscriberCreateSessionRuleChain
RuleChainNames=105.ManageSubscriberUpdateSessionRuleChain
RuleChainNames=106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain
RuleChainNames=107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain
RuleChainNames=108.ManageSubscriberStoredProcDeleteByMDNRuleChain
RuleChainNames=109.ManageSubscriberAddOperationRuleChain
RuleChainNames=110.LookupUniqueIdAPNSFromDeviceDataTable
RuleChainNames=111.SendAPNSPushNotification
RuleChainNames=113.ManageSubscriberDeleteFromSubrProvDataTable
RuleChainNames=114.ManageSubscriberUpdateSubrProvDataTable
RuleChainNames=115.LookupSubscriberByNewIMSIRuleChain
RuleChainNames=117.CheckForEntitlementListChanged
RuleChainNames=118.CheckForVoWiFiStatusAndSendAPNSPushMessage
RuleChainNames=119.LookupSubscriberByNewMDNRuleChain
RuleChainNames=120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain
RuleChainNames=200.ManageSubscriberOperationRuleChain
RuleChainNames=201.ManageSubscriberAddOperationRuleChain
RuleChainNames=202.ManageSubscriberUpdateOperationRuleChain
RuleChainNames=203.ManageSubscriberDeleteOperationRuleChain
RuleChainNames=122.ManageSubscriberUpdateRequestAttributesRuleChain
RuleChainNames=123.ManageSubscriberUpdateVoWiFiParams
RuleChainNames=121.CallDeleteStoredProc
RuleChainNames=204.ManageSubscriberValidateInputParametersRuleChain
RuleChainNames=208.ManageSubscriberPreProcessCustomRuleChain
RuleChainNames=209.ManageSubscriberPostProcessCustomRuleChain
RuleChainNames=300.ManageSubsSubscriptionOperationRuleChain
RuleChainNames=301.ManageSubsSubscriptionAddOperationRuleChain
RuleChainNames=302.ManageSubsSubscriptionUpdateOperationRuleChain
RuleChainNames=303.ManageSubsSubscriptionDeleteOperationRuleChain
RuleChainNames=304.ManageSubsSubscriptionValidateInputParametersRuleChain
RuleChainNames=305.ManageSubsSubscriptionStoredProcAddByMDNRuleChain
RuleChainNames=306.ManageSubsSubscriptionPreProcessCustomRuleChain
RuleChainNames=307.ManageSubsSubscriptionPostProcessCustomRuleChain
RuleChainNames=400.ManageSubsUsageOperationRuleChain
RuleChainNames=401.ManageSubsUsageAddOperationRuleChain
RuleChainNames=402.ManageSubsUsageUpdateOperationRuleChain
RuleChainNames=403.ManageSubsUsageDeleteOperationRuleChain
RuleChainNames=404.ManageSubsUsageValidateInputParametersRuleChain
RuleChainNames=405.ManageSubsUsageStoredProcAddByMDNRuleChain
RuleChainNames=406.ManageSubsUsagePreProcessCustomRuleChain
RuleChainNames=407.ManageSubsUsagePostProcessCustomRuleChain
RuleChainNames=500.GenerateManageSubscriberStartAuditDataRuleChain
RuleChainNames=501.GenerateManageSubscriberEndErrorAuditDataRuleChain
RuleChainNames=502.GenerateManageSubscriberEndOKAuditDataRuleChain
RuleChainNames=503.GenerateManageSubsSubscriptionStartAuditDataRuleChain
RuleChainNames=504.GenerateManageSubsSubscriptionEndErrorAuditDataRuleChain
RuleChainNames=505.GenerateManageSubsSubscriptionEndOKAuditDataRuleChain
RuleChainNames=506.GenerateManageSubsUsageStartAuditDataRuleChain
RuleChainNames=507.GenerateManageSubsUsageEndErrorAuditDataRuleChain
RuleChainNames=508.GenerateManageSubsUsageEndOKAuditDataRuleChain
RuleChainNames=600.GenerateAuditAndNRBEventsRuleChain
RuleChainNames=601.DumpMonitoringTransactionsRuleChain
RuleChainNames=CreateSubscriberAddOperationRuleChain
RuleChainNames=CheckIfSubscriberExistsInProvTable
RuleChainNames=100.ManageSubscriberSubOperationRuleChain
RuleChainNames=130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain
RuleChainNames=124.LookupUniqueIdAPNSTokenFromTokensTable
RuleChainNames=509.UpdatingProvServandSubscribersTable
RuleChainNames=510.InsertNotificationToAPNSTable
RuleChainNames=100.FindCompanionCountRuleChain
RuleChainNames=100.FindRowCountRuleChain
RuleChainNames=100.InvokeDeleteIMSRuleChain
RuleChainNames=703.ManageIMSCreateSessionRuleChain
RuleChainNames=701.InvokeDeleteStoredProc
RuleChainNames=704.ManageIMSCredentialsUpdateSessionRuleChain
RuleChainNames=200.ManageIMSCredentialsOpertations
RuleChainNames=202.ManageIMSCredentialsUpdateOperationRuleChain
RuleChainNames=203.ManageIMSCredentialsDeleteOperationRuleChain
RuleChainNames=204.ManageIMSCredentialsPreProcessCustomRuleChain
RuleChainNames=205.ManageIMSCredentialsPostProcessCustomRuleChain
RuleChainNames=500.GenerateManageIMSCredentialstartAuditDataRuleChain
RuleChainNames=501.GenerateManageIMSCredentialsEndErrorAuditDataRuleChain
RuleChainNames=502.GenerateManageIMSCredentialsEndOKAuditDataRuleChain
RuleChainNames=100.MultiSIMSignUpNotificationRuleChain
RuleChainNames=205.MultiSIMSignUpNotificationValidateInputParametersRuleChain
RuleChainNames=206.MultiSIMSignUpNotificationPreProcessCustomRuleChain
RuleChainNames=207.MultiSIMSignUpNotificationPostProcessCustomRuleChain
RuleChainNames=501.GenerateMultiSIMSignUpNotificationEndErrorAuditDataRuleChain
RuleChainNames=502.GenerateMultiSIMSignUpNotificationEndOKAuditDataRuleChain
RuleChainNames=500.GenerateMultiSIMSignUpNotificationStartAuditDataRuleChain
RuleChainNames=440.QuerySubscribersOperationRuleChain
RuleChainNames=211.QuerySubscribersValidateInputParametersRuleChain
RuleChainNames=509.GenerateQuerySubscribersStartAuditDataRuleChain
RuleChainNames=510.GenerateQuerySubscribersEndOKAuditDataRuleChain
RuleChainNames=511.GenerateQuerySubscribersEndErrorAuditDataRuleChain


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/000.SessionStoreDefaultErrorRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetLookupErrorFlag
RuleNames=200.LogAlarming


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/000.SessionStoreDefaultErrorRuleChain/100.SetLookupErrorFlag]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0051"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/000.SessionStoreDefaultErrorRuleChain/200.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/001.SessionStoreKeyNotExistsRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.ClearDuplicateKeyFlag


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/001.SessionStoreKeyNotExistsRuleChain/100.ClearDuplicateKeyFlag]

AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 0
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/002.DuplicateSessionErrorRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetError


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/002.DuplicateSessionErrorRuleChain/100.SetError]

AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/003.DefaultUnsupportedOperationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetError
RuleNames=110.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/003.DefaultUnsupportedOperationRuleChain/100.SetError]

AdornOps=set DEG_SubProvRequestErrorMesageString "Unsupported operation received"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0052"
AdornOps=set DEG_OEMDevErrorMessageString "Unsupported operation received in provisioning"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/003.DefaultUnsupportedOperationRuleChain/110.Log]

Attributes=DEG_SubProvRequestErrorMesageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Unsupported operation received in provisioning. Check the SOAP XML request sent to DEG for provisioning.
PropertyName=LogRequestInOutLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetErrorCode
RuleNames=110.LogErrorCode
RuleNames=200.LookupErrorCodes
RuleNames=copyNRBValues
RuleNames=210.SetAddInfo
RuleNames=220.LogErrorResponse
RuleNames=300.CheckOperation


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/100.SetErrorCode]

AdornOps=set DEG_SubProvPRDString "2"
AdornOps=set DEG_SubProvErrorCodeString ""
AdornOps=copy DEG_SubProvReturnCodeInteger DEG_SubProvReturnCodeString
AdornOps=+ DEG_SubProvErrorCodeString DEG_SubProvPRDString DEG_SubProvErrorCodeString
AdornOps=+ DEG_SubProvErrorCodeString DEG_SubProvReturnCodeString DEG_SubProvErrorCodeString
AdornOps=+ DEG_SubProvErrorCodeString DEG_SubProvResponseCodeString DEG_SubProvErrorCodeString
AdornOps=copy DEG_SubProvErrorCodeString DEG_SubProvErrorCodeInteger
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0053"
AdornOps=set DEG_OEMDevMessageString "Exception Handler Error code"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/110.LogErrorCode]

Attributes=DEG_SubProvErrorCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Exception Handler Error code : 
NullAlso=true
PropertyName=LogRequestInOutLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/200.LookupErrorCodes]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_ERROR_CODESLOOKUP


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/200.LookupErrorCodes/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.DBErrorSetValues
RuleNames=110.LogDBError


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/200.LookupErrorCodes/ErrorRule/100.DBErrorSetValues]

AdornOps=set DEG_SubProvResponseCodeString "42"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0054"
AdornOps=set DEG_OEMDevErrorMessageString "DB error during DEG_ERROR_CODES table lookup"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/200.LookupErrorCodes/ErrorRule/110.LogDBError]

Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in DEG_ERROR_CODES lookup
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/210.SetAddInfo]

AdornOps=+ DEG_SubProvSOAPFaultMessageString DEG_SubProvTmpString DEG_SubProvSOAPFaultMessageString
AdornOps=+ DEG_SubProvSOAPFaultMessageString DEG_SubProNMEAddInfoString DEG_SubProvSOAPFaultMessageString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0055"
AdornOps=set DEG_OEMDevMessageString "sending reponse from DEG TO PROVSYSTEM"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/220.LogErrorResponse]

Attributes=DEG_SubProvOutResponseInteger
Attributes=DEG_SubProvSOAPFaultCodeString
Attributes=DEG_SubProvSOAPFaultMessageString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=DEG TO PROVSYSTEM -> :
NullAlso=true
PropertyName=LogRequestInOutLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageSubscribers"
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageSubscribersSubscription"
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageSubscribersUsage"
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageIMSCredentials"
Conditions=DEG_SubProvOperationIDNMEString,=,"MultiSIMSignUpNotification"
Conditions=DEG_SubProvOperationIDNMEString,=,"QuerySubscribers"
ManageIMSCredentialsOperation=400.InvokeGenerateManageIMSCredentialsEndErrorAuditData
ManageIMSCredentialsOperation=410.SetManageIMSCredentialsResponse
ManageSubscriberOperation=100.InvokeGenerateManageSubscribersEndErrorAuditData
ManageSubscriberOperation=110.SetManageSubscribersResponse
ManageSubsSubscriptionOperation=200.InvokeGenerateManageSubsSubscriptionEndErrorAuditData
ManageSubsSubscriptionOperation=210.SetManageSubsSubscriptionResponse
ManageSubsUsageOperation=300.InvokeGenerateManageSubsUsageEndErrorAuditData
ManageSubsUsageOperation=310.SetManageSubsUsageResponse
MultiSIMSignUpNotificationOperation=500.InvokeGenerateMultiSIMSignUpNotificationEndErrorAuditData
MultiSIMSignUpNotificationOperation=510.SetGenerateMultiSIMSignUpNotificationResponse
Operations=None
QuerySubscriberOperation=600.InvokeQuerySubscribersEndErrorAuditData
QuerySubscriberOperation=610.SetQuerySubscribersResponse
TrueRuleChain=ManageSubscriberOperation
TrueRuleChain=ManageSubsSubscriptionOperation
TrueRuleChain=ManageSubsUsageOperation
TrueRuleChain=ManageIMSCredentialsOperation
TrueRuleChain=MultiSIMSignUpNotificationOperation
TrueRuleChain=QuerySubscriberOperation


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/100.InvokeGenerateManageSubscribersEndErrorAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvMDNString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvIMSIString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvOperationString"
FalseRuleChain=100.InvokeGenerateEndErrorAuditDataRuleChain
Operations=or,or


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/100.InvokeGenerateManageSubscribersEndErrorAuditData/100.InvokeGenerateEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=501.GenerateManageSubscriberEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/110.SetManageSubscribersResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageSubscribersResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,ManageSubscribersResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,ManageSubscribersResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/200.InvokeGenerateManageSubsSubscriptionEndErrorAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvMDNString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvIMSIString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvOperationString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvSubscriptionTypesString"
FalseRuleChain=100.InvokeGenerateEndErrorAuditDataRuleChain
Operations=or,or,or


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/200.InvokeGenerateManageSubsSubscriptionEndErrorAuditData/100.InvokeGenerateEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=504.GenerateManageSubsSubscriptionEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/210.SetManageSubsSubscriptionResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageSubscribersSubscriptionResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,ManageSubscribersSubscriptionResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,ManageSubscribersSubscriptionResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/300.InvokeGenerateManageSubsUsageEndErrorAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvMDNString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvIMSIString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvOperationString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvUsageTypesString"
FalseRuleChain=100.InvokeGenerateEndErrorAuditDataRuleChain
Operations=or,or,or


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/300.InvokeGenerateManageSubsUsageEndErrorAuditData/100.InvokeGenerateEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=507.GenerateManageSubsUsageEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/310.SetManageSubsUsageResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageSubscribersUsageResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,ManageSubscribersUsageResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,ManageSubscribersUsageResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/400.InvokeGenerateManageIMSCredentialsEndErrorAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvIMSIString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvOperationString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvCustomerStatusString"
FalseRuleChain=100.InvokeGenerateEndErrorAuditDataRuleChain
Operations=or,or,or


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/400.InvokeGenerateManageIMSCredentialsEndErrorAuditData/100.InvokeGenerateEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=501.GenerateManageIMSCredentialsEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/410.SetManageIMSCredentialsResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageIMSCredentialsResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,ManageIMSCredentialsResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,ManageIMSCredentialsResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/500.InvokeGenerateMultiSIMSignUpNotificationEndErrorAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvIMSIString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvOperationString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvCustomerStatusString"
FalseRuleChain=100.InvokeGenerateEndErrorAuditDataRuleChain
Operations=or,or,or


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/500.InvokeGenerateMultiSIMSignUpNotificationEndErrorAuditData/100.InvokeGenerateEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=501.GenerateMultiSIMSignUpNotificationEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/510.SetGenerateMultiSIMSignUpNotificationResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,MultiSIMSignUpNotificationResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,MultiSIMSignUpNotificationResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,MultiSIMSignUpNotificationResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/600.InvokeQuerySubscribersEndErrorAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvMDNString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvIMSIString"
Conditions=DEG_SubProNMEAddInfoString,contains,"DEG_SubProvQueryTypeString"
FalseRuleChain=100.InvokeGenerateEndErrorAuditDataRuleChain
Operations=or,or


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/600.InvokeQuerySubscribersEndErrorAuditData/100.InvokeGenerateEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=511.GenerateQuerySubscribersEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/300.CheckOperation/610.SetQuerySubscribersResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,QuerySubscribersResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,QuerySubscribersResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,QuerySubscribersResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/004.ExceptionRespHandlerRuleChain/copyNRBValues]

AdornOps=copy DEG_ERROR_CODE DEG_SubProvOutResponseString
AdornOps=copy DEG_ERROR_DESC DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetErrorCode
RuleNames=110.LogErrorCode
RuleNames=200.LookupErrorCodes
RuleNames=copyNRBValues
RuleNames=210.LogErrorResponse
RuleNames=300.CheckOperation


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/100.SetErrorCode]

AdornOps=set DEG_SubProvErrorCodeString ""
AdornOps=set DEG_SubProvPRDString "2"
AdornOps=copy DEG_SubProvReturnCodeInteger DEG_SubProvReturnCodeString
AdornOps=+ DEG_SubProvErrorCodeString DEG_SubProvPRDString DEG_SubProvErrorCodeString
AdornOps=+ DEG_SubProvErrorCodeString DEG_SubProvReturnCodeString DEG_SubProvErrorCodeString
AdornOps=+ DEG_SubProvErrorCodeString DEG_SubProvResponseCodeString DEG_SubProvErrorCodeString
AdornOps=copy DEG_SubProvErrorCodeString DEG_SubProvErrorCodeInteger
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0056"
AdornOps=set DEG_OEMDevMessageString "Fault Handler Error code"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/110.LogErrorCode]

Attributes=DEG_SubProvErrorCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Fault Hanlder Error code : 
NullAlso=true
PropertyName=LogRequestInOutLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/200.LookupErrorCodes]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_ERROR_CODESLOOKUP


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/200.LookupErrorCodes/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.DBErrorSetValues
RuleNames=110.LogDBError


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/200.LookupErrorCodes/ErrorRule/100.DBErrorSetValues]

AdornOps=set DEG_SubProvResponseCodeString "43"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0057"
AdornOps=set DEG_OEMDevErrorMessageString "DB error in DEG_ERROR_CODES table lookup"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/200.LookupErrorCodes/ErrorRule/110.LogDBError]

Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in DEG_ERROR_CODES lookup
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/210.LogErrorResponse]

Attributes=DEG_SubProvOutResponseInteger
Attributes=DEG_SubProvSOAPFaultCodeString
Attributes=DEG_SubProvSOAPFaultMessageString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=DEG TO PROVSYSTEM -> :
NullAlso=true
PropertyName=LogRequestInOutLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageSubscribers"
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageSubscribersSubscription"
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageSubscribersUsage"
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageIMSCredentials"
Conditions=DEG_SubProvOperationIDNMEString,=,"MultiSIMSignUpNotification"
Conditions=DEG_SubProvOperationIDNMEString,=,"QuerySubscribers"
ManageIMSCredentialsOperation=400.InvokeGenerateManageIMSCredentialsEndErrorAuditData
ManageIMSCredentialsOperation=410.SetManageIMSCredentialsResponse
ManageSubscriberOperation=100.InvokeGenerateManageSubscribersEndErrorAuditData
ManageSubscriberOperation=110.SetManageSubscribersResponse
ManageSubsSubscriptionOperation=200.InvokeGenerateManageSubsSubscriptionEndErrorAuditData
ManageSubsSubscriptionOperation=210.SetManageSubsSubscriptionResponse
ManageSubsUsageOperation=300.InvokeGenerateManageSubsUsageEndErrorAuditData
ManageSubsUsageOperation=310.SetManageSubsUsageResponse
MultiSIMSignUpNotificationOperation=500.InvokeGenerateMultiSIMSignUpNotificationEndErrorAuditData
MultiSIMSignUpNotificationOperation=510.SetMultiSIMSignUpNotificationResponse
Operations=None
QuerySubscriberOperation=600.InvokeQuerySubscribersEndErrorAuditData
QuerySubscriberOperation=610.SetQuerySubscribersResponse
TrueRuleChain=ManageSubscriberOperation
TrueRuleChain=ManageSubsSubscriptionOperation
TrueRuleChain=ManageSubsUsageOperation
TrueRuleChain=ManageIMSCredentialsOperation
TrueRuleChain=MultiSIMSignUpNotificationOperation
TrueRuleChain=QuerySubscriberOperation


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/100.InvokeGenerateManageSubscribersEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=501.GenerateManageSubscriberEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/110.SetManageSubscribersResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageSubscribersResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,ManageSubscribersResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,ManageSubscribersResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/200.InvokeGenerateManageSubsSubscriptionEndErrorAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvErrorCodeInteger,=,2306
FalseRuleChain=100.InvokeGenerateManageSubsSubscriptionEndErrorAuditDataRuleChain


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/200.InvokeGenerateManageSubsSubscriptionEndErrorAuditData/100.InvokeGenerateManageSubsSubscriptionEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=504.GenerateManageSubsSubscriptionEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/210.SetManageSubsSubscriptionResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageSubscribersSubscriptionResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,ManageSubscribersSubscriptionResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,ManageSubscribersSubscriptionResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/300.InvokeGenerateManageSubsUsageEndErrorAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvErrorCodeInteger,=,2405
FalseRuleChain=100.InvokeGenerateManageSubsUsageEndErrorAuditDataRuleChain


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/300.InvokeGenerateManageSubsUsageEndErrorAuditData/100.InvokeGenerateManageSubsUsageEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=507.GenerateManageSubsUsageEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/310.SetManageSubsUsageResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageSubscribersUsageResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,ManageSubscribersUsageResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,ManageSubscribersUsageResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/400.InvokeGenerateManageIMSCredentialsEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=501.GenerateManageIMSCredentialsEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/410.SetManageIMSCredentialsResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageIMSCredentialsResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,ManageIMSCredentialsResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,ManageIMSCredentialsResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/500.InvokeGenerateMultiSIMSignUpNotificationEndErrorAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvResponseCodeString,!=,"01"
Conditions=DEG_SubProvReturnCodeInteger,!=,6
Operations=and
TrueRuleChain=000.InvokeEndErroAuditDataRuleChain


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/500.InvokeGenerateMultiSIMSignUpNotificationEndErrorAuditData/000.InvokeEndErroAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=501.GenerateMultiSIMSignUpNotificationEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/510.SetMultiSIMSignUpNotificationResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,MultiSIMSignUpNotificationResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,MultiSIMSignUpNotificationResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,MultiSIMSignUpNotificationResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/600.InvokeQuerySubscribersEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=511.GenerateQuerySubscribersEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/300.CheckOperation/610.SetQuerySubscribersResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,QuerySubscribersResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultCodeString,QuerySubscribersResponse.Response.ErrorCode.CData
NMEToStructuredNMEMap=DEG_SubProvSOAPFaultMessageString,QuerySubscribersResponse.Response.ErrorDescription.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/005.FaultRespHandlerRuleChain/copyNRBValues]

AdornOps=copy DEG_ERROR_CODE DEG_SubProvOutResponseString
AdornOps=copy DEG_ERROR_CODE DEG_AuditResultCodeString
AdornOps=copy DEG_ERROR_DESC DEG_AuditNRBMessageString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0058"
AdornOps=set DEG_OEMDevMessageString "Respond sent from DEG to PROVSYSTEM"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetSuccessCode
RuleNames=210.LogSuccessMsg
RuleNames=300.CheckOperation


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/100.SetSuccessCode]

AdornOps=set DEG_SubProvOutResponseInteger 1001
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0059"
AdornOps=set DEG_OEMDevMessageString "Exception Handler Error code"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/210.LogSuccessMsg]

Attributes=DEG_SubProvOutResponseInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=DEG TO PROVSYSTEM -> :
NullAlso=true
PropertyName=LogRequestInOutLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageSubscribers"
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageSubscribersSubscription"
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageSubscribersUsage"
Conditions=DEG_SubProvOperationIDNMEString,=,"ManageIMSCredentials"
Conditions=DEG_SubProvOperationIDNMEString,=,"MultiSIMSignUpNotification"
Conditions=DEG_SubProvOperationIDNMEString,=,"QuerySubscribers"
ManageIMSCredentialsOperation=400.InvokeGenerateManageIMSCredentialsEndErrorAuditData
ManageIMSCredentialsOperation=410.SetManageIMSCredentialsResponse
ManageSubscriberOperation=100.InvokeGenerateManageSubscribersEndErrorAuditData
ManageSubscriberOperation=110.SetManageSubscribersResponse
ManageSubsSubscriptionOperation=200.InvokeGenerateManageSubsSubscriptionEndErrorAuditData
ManageSubsSubscriptionOperation=210.SetManageSubsSubscriptionResponse
ManageSubsUsageOperation=300.InvokeGenerateManageSubsUsageEndErrorAuditData
ManageSubsUsageOperation=310.SetManageSubsUsageResponse
MultiSIMSignUpNotificationOperation=500.InvokeGenerateMultiSIMSignUpNotificationEndOKAuditData
MultiSIMSignUpNotificationOperation=510.SetMultiSIMSignUpNotificationResponse
Operations=None
QuerySubscriberOperation=600.InvokeQuerySubscribersEndOKAuditData
QuerySubscriberOperation=610.SetQuerySubscribersResponse
TrueRuleChain=ManageSubscriberOperation
TrueRuleChain=ManageSubsSubscriptionOperation
TrueRuleChain=ManageSubsUsageOperation
TrueRuleChain=ManageIMSCredentialsOperation
TrueRuleChain=MultiSIMSignUpNotificationOperation
TrueRuleChain=QuerySubscriberOperation


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/100.InvokeGenerateManageSubscribersEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=502.GenerateManageSubscriberEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/110.SetManageSubscribersResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageSubscribersResponse.Response.StatusCode.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/200.InvokeGenerateManageSubsSubscriptionEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=505.GenerateManageSubsSubscriptionEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/210.SetManageSubsSubscriptionResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageSubscribersSubscriptionResponse.Response.StatusCode.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/300.InvokeGenerateManageSubsUsageEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=508.GenerateManageSubsUsageEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/310.SetManageSubsUsageResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageSubscribersUsageResponse.Response.StatusCode.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/400.InvokeGenerateManageIMSCredentialsEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=502.GenerateManageIMSCredentialsEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/410.SetManageIMSCredentialsResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,ManageIMSCredentialsResponse.Response.StatusCode.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/500.InvokeGenerateMultiSIMSignUpNotificationEndOKAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=502.GenerateMultiSIMSignUpNotificationEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/510.SetMultiSIMSignUpNotificationResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,MultiSIMSignUpNotificationResponse.Response.StatusCode.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/600.InvokeQuerySubscribersEndOKAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=510.GenerateQuerySubscribersEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/006.SuccessRespHandlerRuleChain/300.CheckOperation/610.SetQuerySubscribersResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_SubProvOutResponseInteger,QuerySubscribersResponse.Response.StatusCode.CData
NMEToStructuredNMEMap=DEG_SubProvIMSIString,QuerySubscribersResponse.Response.IMSI.CData
NMEToStructuredNMEMap=DEG_SubProvMDNString,QuerySubscribersResponse.Response.MDN.CData
NMEToStructuredNMEMap=DEG_SubProvMINString,QuerySubscribersResponse.Response.MIN.CData
NMEToStructuredNMEMap=DEG_SubProvIMEIString,QuerySubscribersResponse.Response.IMEI.CData
NMEToStructuredNMEMap=DEG_SubProvCustomerStatusString,QuerySubscribersResponse.Response.CustomerStatus.CData
NMEToStructuredNMEMap=DEG_SubProvisioningTimeStampString,QuerySubscribersResponse.Response.ProvisioningTime.CData
NMEToStructuredNMEMap=DEG_SubProvTetheringStatusString,QuerySubscribersResponse.Response.ServicesStatusArray.TetheringElement.TetheringProvStatus.CData
NMEToStructuredNMEMap=DEG_SubProvVoLTEStatusString,QuerySubscribersResponse.Response.ServicesStatusArray.VoLTEElement.VoLTEProvStatus.CData
NMEToStructuredNMEMap=DEG_SubProvVoWiFiStatusString,QuerySubscribersResponse.Response.ServicesStatusArray.VoWiFiElement.VoWiFiProvStatus.CData
NMEToStructuredNMEMap=DEG_SubProvVowifiTcStatusString,QuerySubscribersResponse.Response.ServicesStatusArray.VoWiFiElement.VoWiFiTcStatus.CData
NMEToStructuredNMEMap=DEG_SubProvVowifiAddressStatusString,QuerySubscribersResponse.Response.ServicesStatusArray.VoWiFiElement.VoWiFiAddressStatus.CData
NMEToStructuredNMEMap=DEG_SubProvCompanionCountString,QuerySubscribersResponse.Response.CompanionCount.CData
SNMEType=Provisioning:Body


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/100.FindCompanionCountRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.ExecuteLookup


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/100.FindCompanionCountRuleChain/100.InitLookup]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set log_Table_Name "DEG_COMPANION_TOKENS"
AdornOps=set log_DB_Operation "SELECT"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/100.FindCompanionCountRuleChain/200.ExecuteLookup]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_COMPANION_TOKENS_IMSILOOKUP


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/100.FindRowCountRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.ExecuteLookup


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/100.FindRowCountRuleChain/100.InitLookup]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=set log_DB_Operation "SELECT"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/100.FindRowCountRuleChain/200.ExecuteLookup]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_IMS_DATA_IMSILOOKUP


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/100.InvokeDeleteIMSRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDeleteSession
RuleNames=200.ExecuteDeleteSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/100.InvokeDeleteIMSRuleChain/100.InitDeleteSession]

AdornOps=copy DEG_SubProvIMSIString DEG_IMSI
AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/100.InvokeDeleteIMSRuleChain/200.ExecuteDeleteSession]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
LogInvalidSession=false
NativeCondition=1.MatchByPrimaryIMSI
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/102.LookupSubscriberByPrimaryIMSIRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.ExecuteLookup
RuleNames=300.CheckLookupStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/102.LookupSubscriberByPrimaryIMSIRuleChain/100.InitLookup]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set log_DB_Operation "SELECT"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/102.LookupSubscriberByPrimaryIMSIRuleChain/200.ExecuteLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=5.MatchByPrimaryIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/102.LookupSubscriberByPrimaryIMSIRuleChain/300.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.DBErrorSetValues
DBError=110.LogDBError
DuplicateFound=200.SetDuplicateError
DuplicateFound=210.LogDuplicateError
Operations=None
TrueRuleChain=DBError
TrueRuleChain=DuplicateFound


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/102.LookupSubscriberByPrimaryIMSIRuleChain/300.CheckLookupStatus/100.DBErrorSetValues]

AdornOps=set DEG_SubProvResponseCodeString "04"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0060"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup in DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/102.LookupSubscriberByPrimaryIMSIRuleChain/300.CheckLookupStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in DEG_SUBSCRIBERS IMSI lookup
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/102.LookupSubscriberByPrimaryIMSIRuleChain/300.CheckLookupStatus/200.SetDuplicateError]

AdornOps=set DEG_SubProvResponseCodeString "06"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0061"
AdornOps=set DEG_OEMDevMessageString "Duplicate Subscriber IMSI exist"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/102.LookupSubscriberByPrimaryIMSIRuleChain/300.CheckLookupStatus/210.LogDuplicateError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Duplicate Subscriber IMSI exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/103.LookupSubscriberMDNAndSecondaryMDNByPrimaryMDNRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.LookupSubscriberMDNAndSecondaryMDN


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/103.LookupSubscriberMDNAndSecondaryMDNByPrimaryMDNRuleChain/100.LookupSubscriberMDNAndSecondaryMDN]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_SUBSCRIBERS_MDNLOOKUP


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/103.LookupSubscriberMDNAndSecondaryMDNByPrimaryMDNRuleChain/100.LookupSubscriberMDNAndSecondaryMDN/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.DBErrorSetValues
RuleNames=110.LogDBError


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/103.LookupSubscriberMDNAndSecondaryMDNByPrimaryMDNRuleChain/100.LookupSubscriberMDNAndSecondaryMDN/ErrorRule/100.DBErrorSetValues]

AdornOps=set DEG_SubProvResponseCodeString "10"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0062"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error during lookup"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/103.LookupSubscriberMDNAndSecondaryMDNByPrimaryMDNRuleChain/100.LookupSubscriberMDNAndSecondaryMDN/ErrorRule/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in DEG_SUBSCRIBERS MDN and Secondary MDN lookup
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/103.LookupSubscriberMDNAndSecondaryMDNByPrimaryMDNRuleChain/100.LookupSubscriberMDNAndSecondaryMDN/NoMatchRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.NoMatchSetValues
RuleNames=110.LogNoMatch


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/103.LookupSubscriberMDNAndSecondaryMDNByPrimaryMDNRuleChain/100.LookupSubscriberMDNAndSecondaryMDN/NoMatchRule/100.NoMatchSetValues]

AdornOps=set DEG_SubProvResponseCodeString "08"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0063"
AdornOps=set DEG_OEMDevMessageString "Subscriber doesn't exist"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/103.LookupSubscriberMDNAndSecondaryMDNByPrimaryMDNRuleChain/100.LookupSubscriberMDNAndSecondaryMDN/NoMatchRule/110.LogNoMatch]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Subscriber doesn't exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitCreateSession
RuleNames=200.SetProvisionTime
RuleNames=300.LogBeforeCreateSession
RuleNames=400.ExecuteCreateSession
RuleNames=500.CreateSessionStatus
RuleNames=600.LogAfterCreateSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/100.InitCreateSession]

AdornOps=set log_DB_Operation "CREATE"
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 0
AdornOps=setsystime DEG_PROVCHANGETIME
AdornOps=setsystime DEG_LASTUPDATE
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0064"
AdornOps=set DEG_OEMDevMessageString "Exception Handler Error code"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/200.SetProvisionTime]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvProvisioningTimeString,=,""
FalseRuleChain=200.SetIncomingProvTime
TrueRuleChain=100.SetProvTimeToSysTime


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/200.SetProvisionTime/100.SetProvTimeToSysTime]

AdornOps=setsystime DEG_PROVTIME
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/200.SetProvisionTime/200.SetIncomingProvTime]

ClassName=TimeAdornmentRule
ParseTimeString=DEG_SubProvProvisioningTimeString,DEG_PROVTIME,yyyy-MM-dd HH:mm:ss
TimeZone=UTC


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/300.LogBeforeCreateSession]

Attributes=DEG_IMSI
Attributes=DEG_MDN
Attributes=DEG_MIN
Attributes=DEG_CUSTIDINT
Attributes=DEG_CUSTCATIDINT
Attributes=DEG_EVENTTIMESTAMPINTEGER
Attributes=DEG_ESN
Attributes=DEG_MEID
Attributes=DEG_IMEI
Attributes=DEG_ICCID
Attributes=DEG_CustStatus
Attributes=DEG_PROVTIME
Attributes=DEG_PROVCHANGETIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_ENTITLEMENT_LIST
Attributes=DEG_COMPANION_DEVICE_COUNT
Attributes=DEG_ROAMING_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before Manage Subscriber Create Session:
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/400.ExecuteCreateSession]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
DuplicateErrorRuleChain=002.DuplicateSessionErrorRuleChain
LogInvalidSession=false
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/500.CreateSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=110.LogCreateError
DBErrorRuleChain=100.SetCreateError
DuplicateKey=200.SetDuplicateEntryError
DuplicateKey=210.LogDuplicateEntryError
Operations=None
TrueRuleChain=DBError
TrueRuleChain=DuplicateKey


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/500.CreateSessionStatus/100.SetCreateError]

AdornOps=set DEG_SubProvResponseCodeString "05"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0065"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to add record to DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/500.CreateSessionStatus/110.LogCreateError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to add record to DEG_SUBSCRIBERS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/500.CreateSessionStatus/200.SetDuplicateEntryError]

AdornOps=set DEG_SubProvResponseCodeString "02"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0066"
AdornOps=set DEG_OEMDevMessageString "duplicate subscriber MDN And IMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/500.CreateSessionStatus/210.LogDuplicateEntryError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_PROVTIME
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Unable to create entry duplicate subscriber MDN And IMSI:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/600.LogAfterCreateSession]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/600.LogAfterCreateSession/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0067"
AdornOps=set DEG_OEMDevMessageString "After Successful DEG_SUBSCRIBERS Create Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/104.ManageSubscriberCreateSessionRuleChain/600.LogAfterCreateSession/100.Log]

Attributes=DEG_IMSI
Attributes=DEG_MDN
Attributes=DEG_PROVTIME
Attributes=DEG_PROVCHANGETIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful DEG_SUBSCRIBERS Create Session:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitUpdateSession
RuleNames=200.SetProvisionTime
RuleNames=300.LogBeforeUpdateSession
RuleNames=400.ExecuteUpdateSession
RuleNames=500.CheckUpdateSessionStatus
RuleNames=600.LogAfterUpdateSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/100.InitUpdateSession]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=setsystime DEG_PROVCHANGETIME
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0081"
AdornOps=set DEG_OEMDevMessageString "Before Manage Subscriber Update Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/200.SetProvisionTime]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvProvisioningTimeString,=,""
FalseRuleChain=200.SetIncomingProvTime
TrueRuleChain=100.SetProvTimeToSysTime


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/200.SetProvisionTime/100.SetProvTimeToSysTime]

AdornOps=setsystime DEG_PROVTIME
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/200.SetProvisionTime/200.SetIncomingProvTime]

ClassName=TimeAdornmentRule
ParseTimeString=DEG_SubProvProvisioningTimeString,DEG_PROVTIME,yyyy-MM-dd HH:mm:ss
TimeZone=UTC


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/300.LogBeforeUpdateSession]

Attributes=DEG_IMSI
Attributes=DEG_MDN
Attributes=DEG_MIN
Attributes=DEG_CUSTIDINT
Attributes=DEG_CUSTCATIDINT
Attributes=DEG_EVENTTIMESTAMPINTEGER
Attributes=DEG_ESN
Attributes=DEG_MEID
Attributes=DEG_IMEI
Attributes=DEG_ICCID
Attributes=DEG_CustStatus
Attributes=DEG_PROVTIME
Attributes=DEG_PROVCHANGETIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_ENTITLEMENT_LIST
Attributes=DEG_COMPANION_DEVICE_COUNT
Attributes=DEG_ROAMING_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before Manage Subscriber Update Session:
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/400.ExecuteUpdateSession]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_MIN,DEG_MIN
MapAttributes=DEG_CUSTIDINT,DEG_CUSTIDINT
MapAttributes=DEG_CUSTCATIDINT,DEG_CUSTCATIDINT
MapAttributes=DEG_EVENTTIMESTAMPINTEGER,DEG_EVENTTIMESTAMPINTEGER
MapAttributes=DEG_ESN,DEG_ESN
MapAttributes=DEG_MEID,DEG_MEID
MapAttributes=DEG_IMEI,DEG_IMEI
MapAttributes=DEG_ICCID,DEG_ICCID
MapAttributes=DEG_CustStatus,DEG_CustStatus
MapAttributes=DEG_PROVTIME,DEG_PROVTIME
MapAttributes=DEG_PROVCHANGETIME,DEG_PROVCHANGETIME
MapAttributes=DEG_LASTUPDATE,DEG_LASTUPDATE
MapAttributes=DEG_ENTITLEMENT_LIST,DEG_ENTITLEMENT_LIST
MapAttributes=DEG_COMPANION_DEVICE_COUNT,DEG_COMPANION_DEVICE_COUNT
MapAttributes=DEG_ROAMING_IMSI,DEG_ROAMING_IMSI
NativeCondition=4.MatchByPrimaryMDNAndIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/500.CheckUpdateSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
DBError=100.SetDBError
DBError=110.LogDBError
Operations=None
SubscriberDoesNotExist=200.SetSubscriberDoesNotExistError
SubscriberDoesNotExist=210.LogSubscriberDoesNotExistError
TrueRuleChain=DBError
TrueRuleChain=SubscriberDoesNotExist


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/500.CheckUpdateSessionStatus/100.SetDBError]

AdornOps=set DEG_SubProvResponseCodeString "06"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0082"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to delete from DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/500.CheckUpdateSessionStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to update DEG_SUBSCRIBERS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/500.CheckUpdateSessionStatus/200.SetSubscriberDoesNotExistError]

AdornOps=set DEG_SubProvResponseCodeString "07"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0083"
AdornOps=set DEG_OEMDevMessageString "=Unable to update Subscriber MDN and IMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/500.CheckUpdateSessionStatus/210.LogSubscriberDoesNotExistError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_PROVTIME
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Unable to update Subscriber MDN and IMSI does not exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/600.LogAfterUpdateSession]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/600.LogAfterUpdateSession/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0084"
AdornOps=set DEG_OEMDevMessageString "After Successful DEG_SUBSCRIBERS Update Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/105.ManageSubscriberUpdateSessionRuleChain/600.LogAfterUpdateSession/100.Log]

Attributes=DEG_IMSI
Attributes=DEG_MDN
Attributes=DEG_PROVTIME
Attributes=DEG_PROVCHANGETIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_ENTITLEMENT_LIST
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful DEG_SUBSCRIBERS Update Session:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDeleteSession
RuleNames=200.LogBeforeDeleteSession
RuleNames=300.ExecuteDeleteSession
RuleNames=400.CheckDeleteSessionStatus
RuleNames=500.LogAfterDeleteSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/100.InitDeleteSession]

AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_TOKENS"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0085"
AdornOps=set DEG_OEMDevMessageString "Before Manage Subscriber Delete DEG_TOKENS Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/200.LogBeforeDeleteSession]

Attributes=DEG_IMSI
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before Manage Subscriber Delete DEG_TOKENS Session:
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/300.ExecuteDeleteSession]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=1.MatchByPrimaryMDNAndIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_TOKENS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
DBError=100.SetDBError
DBError=110.LogDBError
Operations=None
SubscriberDoesNotExist=200.SetLogInfo
SubscriberDoesNotExist=200.LogSubscriberDoesNotExist
TrueRuleChain=DBError
TrueRuleChain=SubscriberDoesNotExist


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus/100.SetDBError]

AdornOps=set DEG_SubProvResponseCodeString "07"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0086"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to delete from DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to delete from DEG_TOKENS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus/200.LogSubscriberDoesNotExist]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Subscriber MDN And IMSI does not exist in DEG_TOKENS table :
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus/200.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0087"
AdornOps=set DEG_OEMDevMessageString "Subscriber MDN And IMSI does not exist in DEG_TOKENS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/500.LogAfterDeleteSession]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
Operations=and
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/500.LogAfterDeleteSession/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0088"
AdornOps=set DEG_OEMDevMessageString "Exception Handler Error code"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/106.ManageSubscriberDeleteDEGTokenWithMDNAndIMSIRuleChain/500.LogAfterDeleteSession/100.Log]

Attributes=DEG_IMSI
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful DEG_TOKENS Delete Session:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDeleteSession
RuleNames=200.LogBeforeDeleteSession
RuleNames=300.ExecuteDeleteSession
RuleNames=400.CheckDeleteSessionStatus
RuleNames=500.LogAfterDeleteSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/100.InitDeleteSession]

AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0089"
AdornOps=set DEG_OEMDevMessageString "Before Manage Subscriber Delete DEG_SUBSCRIBERS Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/200.LogBeforeDeleteSession]

Attributes=DEG_IMSI
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before Manage Subscriber Delete DEG_SUBSCRIBERS Session:
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/300.ExecuteDeleteSession]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=4.MatchByPrimaryMDNAndIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
DBError=100.SetDBError
DBError=110.LogDBError
Operations=None
SubscriberDoesNotExist=200.SetSubscriberDoesNotExistError
SubscriberDoesNotExist=210.LogSubscriberDoesNotExistError
TrueRuleChain=DBError
TrueRuleChain=SubscriberDoesNotExist


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus/100.SetDBError]

AdornOps=set DEG_SubProvResponseCodeString "08"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0090"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to delete from DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to delete from DEG_SUBSCRIBERS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus/200.SetSubscriberDoesNotExistError]

AdornOps=set DEG_SubProvResponseCodeString "07"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0091"
AdornOps=set DEG_OEMDevMessageString "Subscriber MDN And IMSI does not exist in DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/400.CheckDeleteSessionStatus/210.LogSubscriberDoesNotExistError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Subscriber MDN And IMSI does not exist in DEG_SUBSCRIBERS table:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/500.LogAfterDeleteSession]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
Operations=and
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/500.LogAfterDeleteSession/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0092"
AdornOps=set DEG_OEMDevMessageString "After Successful DEG_SUBSCRIBERS Delete Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/107.ManageSubscriberDeleteDEGSubscribersWithMDNAndIMSIRuleChain/500.LogAfterDeleteSession/100.Log]

Attributes=DEG_IMSI
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful DEG_SUBSCRIBERS Delete Session:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDelete
RuleNames=200.LogBeforeDelete
RuleNames=300.ExecuteDelete
RuleNames=400.LogAfterDelete


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain/100.InitDelete]

AdornOps=set log_DB_Operation "DELETEBYMDN"
AdornOps=set log_Table_Name "STOREDPROC"
AdornOps=set DEG_SubProvStoreProcNameString "DeleteByMDN"
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0093"
AdornOps=set DEG_OEMDevMessageString "Before Manage Subscriber StoredProc DeleteByMDN"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain/200.LogBeforeDelete]

Attributes=DEG_MDN
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before Manage Subscriber StoredProc DeleteByMDN:
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain/300.ExecuteDelete]

ClassName=com.hp.usage.lookup.SynchronousLookupRule
ConnectorName=140.StoredProcConnectorDEG
ErrorCodeAttribute=DEG_SubProvRequestErrorCodeString
ErrorMessageAttribute=DEG_SubProvRequestErrorMesageString


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain/300.ExecuteDelete/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetDBError
RuleNames=110.LogDBError


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain/300.ExecuteDelete/ErrorRule/100.SetDBError]

AdornOps=set DEG_SubProvResponseCodeString "09"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0094"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to delete from DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain/300.ExecuteDelete/ErrorRule/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvMDNListString
Attributes=DEG_SubProvRequestErrorCodeString
Attributes=DEG_SubProvRequestErrorMesageString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to delete from DEG_SUBSCRIBERS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain/400.LogAfterDelete]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain/400.LogAfterDelete/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0095"
AdornOps=set DEG_OEMDevMessageString "After Successful Manage Subscriber StoredProc DeleteByMDN"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/108.ManageSubscriberStoredProcDeleteByMDNRuleChain/400.LogAfterDelete/100.Log]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful Manage Subscriber StoredProc DeleteByMDN:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitializeVariables
RuleNames=200.LogBeforeCreateSession
RuleNames=300.ExecuteCreateSession
RuleNames=400.CreateSessionStatus
RuleNames=500.LogAfterCreateSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/100.InitializeVariables]

AdornOps=set log_DB_Operation "CREATE"
AdornOps=set log_Table_Name "DEG_PROV_SERV_DATA"
AdornOps=copy DEG_SubProvDeviceIdString DEG_DEVICE_ID
AdornOps=set DEG_ENTITLEMENT_NAME ${VOWIFI_ENTITLEMENT_NAME}
AdornOps=setsystime DEG_PROV_LASTUPDATE
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 0
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0096"
AdornOps=set DEG_OEMDevMessageString "Exception Handler Error code"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/200.LogBeforeCreateSession]

Attributes=DEG_IMSI
Attributes=DEG_DEVICE_ID
Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_PROV_TC_STATUS
Attributes=DEG_PROV_ADDRESS_STATUS
Attributes=DEG_PROV_PROVISIONING_STATUS
Attributes=DEG_PROV_GATEWAY_ADDRESS
Attributes=DEG_PROV_ADDR_UPDATE_POST_DATA
Attributes=DEG_PROV_ADDR_UPDATE_URL
Attributes=DEG_PROV_LASTUPDATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before Creating Session in DEG_PROV_SERV_DATA table: 
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/300.ExecuteCreateSession]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
DuplicateErrorRuleChain=002.DuplicateSessionErrorRuleChain
SessionStore=DEG_PROV_SERV_DATA_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/400.CreateSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.SetLogCreateError
DBError=110.LogCreateError
DuplicateKey=200.SetLogDuplicateEntryError
DuplicateKey=210.LogDuplicateEntryError
Operations=None
TrueRuleChain=DBError
TrueRuleChain=DuplicateKey


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/400.CreateSessionStatus/100.SetLogCreateError]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0097"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to add record to DEG_PROV_SERV_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/400.CreateSessionStatus/110.LogCreateError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to add record to DEG_PROV_SERV_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/400.CreateSessionStatus/200.SetLogDuplicateEntryError]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0098"
AdornOps=set DEG_OEMDevMessageString "Unable to create entry duplicate IMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/400.CreateSessionStatus/210.LogDuplicateEntryError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_PROVTIME
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Unable to create entry duplicate subscriber IMSI:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/500.LogAfterCreateSession]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/500.LogAfterCreateSession/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0099"
AdornOps=set DEG_OEMDevMessageString "After Successful session creation in DEG_PROV_SERV_DATA"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/109.ManageSubscriberAddOperationRuleChain/500.LogAfterCreateSession/100.Log]

Attributes=DEG_IMSI
Attributes=DEG_DEVICE_ID
Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_PROV_TC_STATUS
Attributes=DEG_PROV_ADDRESS_STATUS
Attributes=DEG_PROV_PROVISIONING_STATUS
Attributes=DEG_PROV_GATEWAY_ADDRESS
Attributes=DEG_PROV_ADDR_UPDATE_POST_DATA
Attributes=DEG_PROV_ADDR_UPDATE_URL
Attributes=DEG_PROV_LASTUPDATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful Create session in DEG_PROV_SERV_DATA: 
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/110.LookupUniqueIdAPNSFromDeviceDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.ExecuteLookup
RuleNames=300.CheckLookupStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/110.LookupUniqueIdAPNSFromDeviceDataTable/100.InitLookup]

AdornOps=set log_Table_Name "DEG_DEVICE_DATA"
AdornOps=set log_DB_Operation "SELECT"
AdornOps=set DEG_SubProvAPNSExistsFlag 0
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set DEG_ENTITLEMENT_NAME ${VOWIFI_ENTITLEMENT_NAME}
AdornOps=copy DEG_SubProvUniqueIdString DEG_UNIQUE_ID
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/110.LookupUniqueIdAPNSFromDeviceDataTable/200.ExecuteLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_APNS_TOKEN,DEG_SubProvAPNSTokenString
MapAttributes=DEG_PUSH_NOTIFICATION_STATUS,DEG_PUSH_NOTIFICATION_STATUS
NativeCondition=1.MatchByUniqueIDEntitlementName
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_DEVICE_DATA_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/110.LookupUniqueIdAPNSFromDeviceDataTable/300.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.SetLogErrorInfo
DBError=110.LogDBError
NoMatch=200.SetLogNoMatchInfo
NoMatch=210.LogNoMatch
Operations=None
SetFlag=310.SetAPNSUniqueIDFlag
TrueRuleChain=DBError
TrueRuleChain=NoMatch
TrueRuleChain=SetFlag


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/110.LookupUniqueIdAPNSFromDeviceDataTable/300.CheckLookupStatus/100.SetLogErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0100"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update DEG_PROV_SERV_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/110.LookupUniqueIdAPNSFromDeviceDataTable/300.CheckLookupStatus/110.LogDBError]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in lookup for UniqueID and APNS Token from DEG_DEVICE_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/110.LookupUniqueIdAPNSFromDeviceDataTable/300.CheckLookupStatus/200.SetLogNoMatchInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0101"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update DEG_PROV_SERV_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/110.LookupUniqueIdAPNSFromDeviceDataTable/300.CheckLookupStatus/210.LogNoMatch]

Attributes=DEG_SubProvUniqueIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=APNS Token does not exists::
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/110.LookupUniqueIdAPNSFromDeviceDataTable/300.CheckLookupStatus/310.SetAPNSUniqueIDFlag]

AdornOps=set DEG_SubProvAPNSExistsFlag 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification]

ClassName=RuleChain
RuleNames=000.CopyToCustomAttributes
RuleNames=100.LogInvokeAPNS
RuleNames=200.InvokeAPNSInterface
RuleNames=300.CopyResponseAttributes
RuleNames=400.LogResponse


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/000.CopyToCustomAttributes]

AdornOps=copy DEG_CarrIMSIString CUST_APN_IN_IMSIString
AdornOps=copy DEG_CarrMDNLong CUST_APN_IN_MDNLong
AdornOps=copy APNS_TokenString CUST_APN_IN_TokenString
AdornOps=copy DEG_APNSUniqueIdString CUST_APN_IN_UniqueIdString
AdornOps=copy DEG_APNSTopicString CUST_APN_IN_TopicString
AdornOps=copy DEG_TriggerTypeString CUST_APN_IN_TriggerTypeString
AdornOps=setifnull DEG_PUSH_NOTIFICATION_STATUS 0
AdornOps=copy DEG_PUSH_NOTIFICATION_STATUS CUST_APN_IN_PushNotificationStatus
AdornOps=setifnull DEG_APNSRecvString "Checking APNS connection"
AdornOps=copy DEG_APNSRecvString CUST_APN_OUT_APNSSentStatusString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0102"
AdornOps=set DEG_OEMDevMessageString "Sending request to APNS Interface"
ClassName=AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/100.LogInvokeAPNS]

Attributes=CUST_APN_IN_IMSIString
Attributes=CUST_APN_IN_MDNLong
Attributes=CUST_APN_IN_TopicString
Attributes=CUST_APN_IN_TokenString
Attributes=CUST_APN_IN_TriggerTypeString
Attributes=CUST_APN_IN_UniqueIdString
Attributes=CUST_APN_IN_PushNotificationStatus
Attributes=CUST_APN_OUT_APNSSentStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=DEBUG2
Message=Sending request to APNS Interface::


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface]

ClassName=com.hp.usage.nme.rpc.client.NMERPCClientRule
CommunicationErrorRuleChain=CommunicationErrorRuleChain
Description= NMERPCClientRule invokes a RuleChain in a remote session server and passes an NME to the remote session server.
MessageType=APNSRequestMessage
NMERPCClientAdapter=APNSNMERPCClientAdapter
NoConnectionErrorRuleChain=NoConnectionErrorRuleChain
Router=Router1


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/CommunicationErrorRuleChain]

ClassName=RuleChain
RuleNames=100.InsertNotificationToAPNSTable
RuleNames=000.SetLogErrorInfo
RuleNames=000.LogError
RuleNames=010.CheckErrorFlag


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/CommunicationErrorRuleChain/000.LogError]

Attributes=CUST_APN_IN_MDNLong
Attributes=CUST_APN_IN_IMSIString
Attributes=CUST_APN_IN_TopicString
Attributes=CUST_APN_IN_TokenString
Attributes=CUST_APN_IN_TriggerTypeString
Attributes=CUST_APN_IN_UniqueIdString
Attributes=CUST_APN_IN_PushNotificationStatus
Attributes=CUST_APN_OUT_APNSSentStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=Communication Error with APNS Interface


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/CommunicationErrorRuleChain/000.SetLogErrorInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0103"
AdornOps=set DEG_OEMDevMessageString "Communication Error with APNS Interface"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/CommunicationErrorRuleChain/010.CheckErrorFlag]

ClassName=ConditionalRule
Conditions=DEG_SubProvAPNSErrorInteger,!=,1
TrueRuleChain=100.InvokelocalRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/CommunicationErrorRuleChain/010.CheckErrorFlag/100.InvokelocalRule]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=509.UpdatingProvServandSubscribersTable
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/CommunicationErrorRuleChain/100.InsertNotificationToAPNSTable]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=510.InsertNotificationToAPNSTable
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/NoConnectionErrorRuleChain]

ClassName=RuleChain
RuleNames=100.InsertNotificationToAPNSTable
RuleNames=000.SetLogInfo
RuleNames=000.LogError
RuleNames=010.CheckErrorFlag


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/NoConnectionErrorRuleChain/000.LogError]

Attributes=CUST_APN_IN_MDNLong
Attributes=CUST_APN_IN_IMSIString
Attributes=CUST_APN_IN_TopicString
Attributes=CUST_APN_IN_TokenString
Attributes=CUST_APN_IN_TriggerTypeString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=INFO
Message=No Free Connection Error with APNS Interface


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/NoConnectionErrorRuleChain/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0104"
AdornOps=set DEG_OEMDevMessageString "No Free Connection Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/NoConnectionErrorRuleChain/010.CheckErrorFlag]

ClassName=ConditionalRule
Conditions=DEG_SubProvAPNSErrorInteger,!=,1
TrueRuleChain=100.LocalRuleChainInvoker


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/NoConnectionErrorRuleChain/010.CheckErrorFlag/100.LocalRuleChainInvoker]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=509.UpdatingProvServandSubscribersTable
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/200.InvokeAPNSInterface/NoConnectionErrorRuleChain/100.InsertNotificationToAPNSTable]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=510.InsertNotificationToAPNSTable
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/300.CopyResponseAttributes]

AdornOps=copy CUST_APN_OUT_APNSSentStatusString DEG_APNSRecvString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0105"
AdornOps=set DEG_OEMDevMessageString "After calling custom template, response from APNS"
ClassName=AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/111.SendAPNSPushNotification/400.LogResponse]

Attributes=CUST_APN_IN_MDNLong
Attributes=CUST_APN_IN_IMSIString
Attributes=CUST_APN_IN_TopicString
Attributes=CUST_APN_IN_TokenString
Attributes=CUST_APN_IN_TriggerTypeString
Attributes=CUST_APN_IN_UniqueIdString
Attributes=CUST_APN_IN_PushNotificationStatus
Attributes=CUST_APN_OUT_APNSSentStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=DEBUG2
Message=After calling custom template, response from APNS::


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDeleteSession
RuleNames=200.LogBeforeDeleteSession
RuleNames=300.ExecuteDeleteSession
RuleNames=400.CheckDeleteSessionStatus
RuleNames=500.LogAfterDeleteSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/100.InitDeleteSession]

AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_PROV_SERV_DATA"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0106"
AdornOps=set DEG_OEMDevMessageString "Before deleting Subscribers data from DEG_PROV_SERV_DATA"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/200.LogBeforeDeleteSession]

Attributes=DEG_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Before deleting Subscribers data from DEG_PROV_SERV_DATA: 
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/300.ExecuteDeleteSession]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=1.MatchByIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_PROV_SERV_DATA_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/400.CheckDeleteSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
DBError=100.SetLogError
DBError=110.LogDBError
Operations=None
SubscriberDoesNotExist=200.SetLogInfo
SubscriberDoesNotExist=210.LogSubscriberDoesNotExistError
TrueRuleChain=DBError
TrueRuleChain=SubscriberDoesNotExist


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/400.CheckDeleteSessionStatus/100.SetLogError]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0107"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to delete from DEG_PROV_SERV_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/400.CheckDeleteSessionStatus/110.LogDBError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to delete from DEG_PROV_SERV_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/400.CheckDeleteSessionStatus/200.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0108"
AdornOps=set DEG_OEMDevMessageString "Subscriber IMSI does not exist in DEG_PROV_SERV_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/400.CheckDeleteSessionStatus/210.LogSubscriberDoesNotExistError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Subscriber IMSI does not exist in DEG_PROV_SERV_DATA table:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/500.LogAfterDeleteSession]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
Operations=and
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/500.LogAfterDeleteSession/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0109"
AdornOps=set DEG_OEMDevMessageString "After Successful deletion from DEG_PROV_SERV_DATA"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/113.ManageSubscriberDeleteFromSubrProvDataTable/500.LogAfterDeleteSession/100.Log]

Attributes=DEG_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful deletion from DEG_PROV_SERV_DATA : 
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=001.ManageSubscriberUpdateSessionRuleChain


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.SetLogInfo
RuleNames=000.InitUpdateLog
RuleNames=100.InitUpdateSession
RuleNames=200.LogBeforeUpdateSession
RuleNames=300.ExecuteUpdateSession
RuleNames=400.CheckUpdateSessionStatus
RuleNames=500.LogAfterUpdateSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/000.InitUpdateLog]

Attributes=DEG_IMSI
Attributes=DEG_SubProvOperationString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=In DEG_PROV_SERV_DATA Update module
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0110"
AdornOps=set DEG_OEMDevMessageString "In DEG_PROV_SERV_DATA Update module"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/100.InitUpdateSession]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_PROV_SERV_DATA"
AdornOps=set DEG_ENTITLEMENT_NAME ${VOWIFI_ENTITLEMENT_NAME}
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=setsystime DEG_PROV_LASTUPDATE
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0111"
AdornOps=set DEG_OEMDevMessageString "Before updating subscribers provision"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/200.LogBeforeUpdateSession]

Attributes=DEG_IMSI
Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_PROV_TC_STATUS
Attributes=DEG_PROV_ADDRESS_STATUS
Attributes=DEG_PROV_PROVISIONING_STATUS
Attributes=DEG_PROV_ADDR_UPDATE_POST_DATA
Attributes=DEG_PROV_ADDR_UPDATE_URL
Attributes=DEG_PROV_LASTUPDATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before updating subscribers provision in  DEG_PROV_SERV_DATA table : 
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/300.ExecuteUpdateSession]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_IMSI,DEG_IMSI
MapAttributes=DEG_ENTITLEMENT_NAME,DEG_ENTITLEMENT_NAME
MapAttributes=DEG_PROV_TC_STATUS,DEG_PROV_TC_STATUS
MapAttributes=DEG_PROV_ADDRESS_STATUS,DEG_PROV_ADDRESS_STATUS
MapAttributes=DEG_PROV_PROVISIONING_STATUS,DEG_PROV_PROVISIONING_STATUS
MapAttributes=DEG_PROV_GATEWAY_ADDRESS,DEG_PROV_GATEWAY_ADDRESS
MapAttributes=DEG_PROV_ADDR_UPDATE_POST_DATA,DEG_PROV_ADDR_UPDATE_POST_DATA
MapAttributes=DEG_PROV_ADDR_UPDATE_URL,DEG_PROV_ADDR_UPDATE_URL
MapAttributes=DEG_PROV_LASTUPDATE,DEG_PROV_LASTUPDATE
NativeCondition=1.MatchByIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_PROV_SERV_DATA_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/400.CheckUpdateSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
DBError=100.SetLogErrorInfo
DBError=110.LogDBError
Operations=None
SubscriberDoesNotExist=200.SetLogInfo
SubscriberDoesNotExist=210.LogSubscriberDoesNotExistError
TrueRuleChain=DBError
TrueRuleChain=SubscriberDoesNotExist


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/400.CheckUpdateSessionStatus/100.SetLogErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0112"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update DEG_PROV_SERV_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/400.CheckUpdateSessionStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to update DEG_PROV_SERV_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/400.CheckUpdateSessionStatus/200.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0113"
AdornOps=set DEG_OEMDevMessageString "Unable to update Subscriber IMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/400.CheckUpdateSessionStatus/210.LogSubscriberDoesNotExistError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_PROVTIME
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Unable to update Subscriber IMSI does not exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/500.LogAfterUpdateSession]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=100.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/500.LogAfterUpdateSession/100.Log]

Attributes=DEG_IMSI
Attributes=DEG_PROV_TC_STATUS
Attributes=DEG_PROV_ADDRESS_STATUS
Attributes=DEG_PROV_PROVISIONING_STATUS
Attributes=DEG_PROV_LASTUPDATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful DEG_PROV_SERV_DATA  Update Session:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/114.ManageSubscriberUpdateSubrProvDataTable/001.ManageSubscriberUpdateSessionRuleChain/500.LogAfterUpdateSession/100.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0114"
AdornOps=set DEG_OEMDevMessageString "After Successful DEG_PROV_SERV_DATA Update Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/115.LookupSubscriberByNewIMSIRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.ExecuteLookup
RuleNames=300.CheckLookupStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/115.LookupSubscriberByNewIMSIRuleChain/100.InitLookup]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set log_DB_Operation "SELECT"
AdornOps=copy DEG_SubProvNewIMSIString DEG_IMSI
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/115.LookupSubscriberByNewIMSIRuleChain/200.ExecuteLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=5.MatchByPrimaryIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/115.LookupSubscriberByNewIMSIRuleChain/300.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.DBErrorSetValues
DBError=110.LogDBError
Operations=None
SubscriberFound=200.SetSubscriberFoundError
SubscriberFound=210.LogSubscriberFoundError
TrueRuleChain=DBError
TrueRuleChain=SubscriberFound


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/115.LookupSubscriberByNewIMSIRuleChain/300.CheckLookupStatus/100.DBErrorSetValues]

AdornOps=set DEG_SubProvResponseCodeString "04"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0115"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup in DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/115.LookupSubscriberByNewIMSIRuleChain/300.CheckLookupStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in IMSI look up from DEG_SUBSCRIBERS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/115.LookupSubscriberByNewIMSIRuleChain/300.CheckLookupStatus/200.SetSubscriberFoundError]

AdornOps=set DEG_SubProvResponseCodeString "10"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0116"
AdornOps=set DEG_OEMDevMessageString "Subscriber with NewIMSI already exist"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/115.LookupSubscriberByNewIMSIRuleChain/300.CheckLookupStatus/210.LogSubscriberFoundError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Subscriber with NewIMSI already exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.ApendCommaToTblList
RuleNames=100.ExtractEntitlementStatusString


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/000.ApendCommaToTblList]

AdornOps=+ , DEG_SubProvEntitlementListUpdateString DEG_SubProvEntitlementListTblStringtmp1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
Delimiter=,
SourceAttribute=DEG_EntitlementSubOpValueString
TokenAttribute=DEG_SubProvEntitlementNameAndStatusString


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule]

ClassName=RuleChain
RuleNames=100.InitVar
RuleNames=200.CheckForEntitlementName


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/100.InitVar]

AdornOps=substr 0 "=" DEG_SubProvEntitlementNameAndStatusString DEG_SubProvEntitlementNameString
AdornOps=substr "=" length DEG_SubProvEntitlementNameAndStatusString DEG_SubProvEntitlementStatusString
AdornOps=+ , DEG_SubProvEntitlementNameString DEG_SubProvEntitlementNameStringtemp
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementListTblStringtmp1,contains,DEG_SubProvEntitlementNameStringtemp
TrueRuleChain=050.ExtractEntitlementStatus
TrueRuleChain=100.CheckForEntitlementsChange


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/050.ExtractEntitlementStatus]

AdornOps=+ DEG_SubProvEntitlementNameStringtemp = DEG_SubProvEntitlementNameTempString
AdornOps=indexof DEG_SubProvEntitlementNameTempString DEG_SubProvEntitlementListTblStringtmp1 DEG_SubProvEntitlementIndexInteger
AdornOps=length DEG_SubProvEntitlementNameStringtemp DEG_SubProvEntitlementNameLengthInteger
AdornOps=+ DEG_SubProvEntitlementIndexInteger DEG_SubProvEntitlementNameLengthInteger DEG_SubProvEntitlementIndexInteger
AdornOps=+ DEG_SubProvEntitlementIndexInteger 1 DEG_SubProvEntitlementIndexInteger
AdornOps=+ DEG_SubProvEntitlementIndexInteger 4 DEG_SubProvEntitlementEndIndexInteger
AdornOps=substr DEG_SubProvEntitlementIndexInteger DEG_SubProvEntitlementEndIndexInteger DEG_SubProvEntitlementListTblStringtmp1 DEG_SubProvTblEntitlementStatusString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvTblEntitlementStatusString,!=,DEG_SubProvEntitlementStatusString
Operations=and
TrueRuleChain=SetLogInfo
TrueRuleChain=LogRule
TrueRuleChain=SetAPNSParameters
TrueRuleChain=SendEntitlementChangeNotification


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/LogRule]

Attributes=DEG_SubProvTblEntitlementStatusString
Attributes=DEG_SubProvEntitlementStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=After extracting the Entitlement status and comparing:::


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SendEntitlementChangeNotification]

ClassName=ConditionalRule
Conditions=DEG_SubProvAPNSTokenString,!=,""
Conditions=DEG_SubProvAPNSExistsFlag,=,1
Operations=and,and
TrueRuleChain=SendAPNSPushEntitlementChanged


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SendEntitlementChangeNotification/SendAPNSPushEntitlementChanged]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=111.SendAPNSPushNotification
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SetAPNSParameters]

ClassName=ConditionalRule
Conditions=DEG_SubProvEntitlementNameString,=,${VOWIFI_ENTITLEMENT_NAME}
Conditions=DEG_SubProvEntitlementNameString,=,${ICLOUDVOWIFI_ENTITLEMENT_NAME}
FalseRuleChain=100.LookupAPNSTokenFromTokensTable
FalseRuleChain=SetEntitlementParams
Operations=or
TrueRuleChain=000.LookupUniqueIDFromTokensTable
TrueRuleChain=100.LookupAPNSTokenFromDeviceDataTable
TrueRuleChain=SetVoWiFiParams


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SetAPNSParameters/000.LookupUniqueIDFromTokensTable]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=124.LookupUniqueIdAPNSTokenFromTokensTable
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SetAPNSParameters/100.LookupAPNSTokenFromDeviceDataTable]

ClassName=ConditionalRule
Conditions=DEG_SubProvAPNSExistsFlag,=,1
TrueRuleChain=LookupAPNSTokenDeviceData


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SetAPNSParameters/100.LookupAPNSTokenFromDeviceDataTable/LookupAPNSTokenDeviceData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=110.LookupUniqueIdAPNSFromDeviceDataTable
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SetAPNSParameters/100.LookupAPNSTokenFromTokensTable]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=124.LookupUniqueIdAPNSTokenFromTokensTable
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SetAPNSParameters/SetEntitlementParams]

AdornOps=copy DEG_SubProvIMSIString DEG_CarrIMSIString
AdornOps=copy DEG_SubProvMDNString DEG_CarrMDNLong
AdornOps=setifnull DEG_SubProvAPNSTokenString ""
AdornOps=copy DEG_SubProvAPNSTokenString APNS_TokenString
AdornOps=set DEG_APNSTopicString "Entitlements"
AdornOps=setifnull DEG_SubProvUniqueIdString ""
AdornOps=copy DEG_SubProvUniqueIdString DEG_APNSUniqueIdString
AdornOps=set DEG_TriggerTypeString "entitlements-changed"
ClassName=AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SetAPNSParameters/SetVoWiFiParams]

AdornOps=copy DEG_SubProvIMSIString DEG_CarrIMSIString
AdornOps=copy DEG_SubProvMDNString DEG_CarrMDNLong
AdornOps=setifnull DEG_SubProvAPNSTokenString ""
AdornOps=copy DEG_SubProvAPNSTokenString APNS_TokenString
AdornOps=set DEG_APNSTopicString "VoWiFi"
AdornOps=setifnull DEG_SubProvUniqueIdString ""
AdornOps=copy DEG_SubProvUniqueIdString DEG_APNSUniqueIdString
AdornOps=set DEG_TriggerTypeString "provisioning-changed"
ClassName=AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/117.CheckForEntitlementListChanged/100.ExtractEntitlementStatusString/IterationRule/200.CheckForEntitlementName/100.CheckForEntitlementsChange/SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0117"
AdornOps=set DEG_OEMDevMessageString "After extracting the Entitlement status and comparing"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CheckForVoWiFiTCStatusChange
RuleNames=200.CheckForVoWiFiProvStatusChange
RuleNames=300.CheckForVoWiFiAddressStatusChange
RuleNames=400.SendAPNSNotification


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/100.CheckForVoWiFiTCStatusChange]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvVowifiTcStatusString,!=,""
Conditions=DEG_SubProvVowifiTcStatusInteger,!=,DEG_SubProvVowifiTcStatusTblInteger
Operations=and
TrueRuleChain=SetVoWiFiStatusChange


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/100.CheckForVoWiFiTCStatusChange/SetVoWiFiStatusChange]

AdornOps=set DEG_SubProvVowifiStatusFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/200.CheckForVoWiFiProvStatusChange]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvVowifiProvStatusString,!=,""
Conditions=DEG_SubProvVowifiProvStatusInteger,!=,DEG_SubProvVowifiProvStatusTblInteger
Operations=and
TrueRuleChain=SetVoWiFiStatusChange


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/200.CheckForVoWiFiProvStatusChange/SetVoWiFiStatusChange]

AdornOps=set DEG_SubProvVowifiStatusFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/300.CheckForVoWiFiAddressStatusChange]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvVowifiAddressStatusString,!=,""
Conditions=DEG_SubProvVowifiAddressStatusInteger,!=,DEG_SubProvVowifiAddressStatusTblInteger
Operations=and
TrueRuleChain=SetVoWiFiStatusChange


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/300.CheckForVoWiFiAddressStatusChange/SetVoWiFiStatusChange]

AdornOps=set DEG_SubProvVowifiStatusFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/400.SendAPNSNotification]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvVowifiStatusFlagInteger,=,1
TrueRuleChain=SendVoWiFiRegLocUpdateNotification
TrueRuleChain=CheckForValidAPNSToken


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/400.SendAPNSNotification/CheckForValidAPNSToken]

ClassName=ConditionalRule
Conditions=DEG_SubProvAPNSExistsFlag,=,1
Conditions=DEG_SubProvAPNSTokenString,!=,""
Operations=and
TrueRuleChain=000.SetAPNSPushParams
TrueRuleChain=100.SendAPNSPushVoWiFiElementsChanged


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/400.SendAPNSNotification/CheckForValidAPNSToken/000.SetAPNSPushParams]

AdornOps=copy DEG_SubProvIMSIString DEG_CarrIMSIString
AdornOps=copy DEG_SubProvMDNString DEG_CarrMDNLong
AdornOps=set DEG_APNSTopicString "VoWiFi"
AdornOps=copy DEG_SubProvAPNSTokenString APNS_TokenString
AdornOps=copy DEG_SubProvUniqueIdString DEG_APNSUniqueIdString 
AdornOps=set DEG_TriggerTypeString "reg-loc-update"
ClassName=AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/400.SendAPNSNotification/CheckForValidAPNSToken/100.SendAPNSPushVoWiFiElementsChanged]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=111.SendAPNSPushNotification
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/400.SendAPNSNotification/SendVoWiFiRegLocUpdateNotification]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.InitVariables
RuleNames=001.LookupUniqueIdFromTokens
RuleNames=002.LookupAPNSTokenDeviceData


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/400.SendAPNSNotification/SendVoWiFiRegLocUpdateNotification/000.InitVariables]

AdornOps=set DEG_ENTITLEMENT_NAME ${VOWIFI_ENTITLEMENT_NAME}
AdornOps=copy DEG_SubProvIMSIString DEG_IMSI
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/400.SendAPNSNotification/SendVoWiFiRegLocUpdateNotification/001.LookupUniqueIdFromTokens]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=124.LookupUniqueIdAPNSTokenFromTokensTable
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/400.SendAPNSNotification/SendVoWiFiRegLocUpdateNotification/002.LookupAPNSTokenDeviceData]

ClassName=ConditionalRule
Conditions=DEG_SubProvAPNSExistsFlag,=,1
TrueRuleChain=LookupAPNSTokenDeviceData


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/118.CheckForVoWiFiStatusAndSendAPNSPushMessage/400.SendAPNSNotification/SendVoWiFiRegLocUpdateNotification/002.LookupAPNSTokenDeviceData/LookupAPNSTokenDeviceData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=110.LookupUniqueIdAPNSFromDeviceDataTable
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/119.LookupSubscriberByNewMDNRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.ExecuteLookup
RuleNames=300.CheckLookupStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/119.LookupSubscriberByNewMDNRuleChain/100.InitLookup]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set log_DB_Operation "SELECT"
AdornOps=copy DEG_SubProvNewMDNString DEG_MDN
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/119.LookupSubscriberByNewMDNRuleChain/200.ExecuteLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=6.MatchByPrimaryNewMDN
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/119.LookupSubscriberByNewMDNRuleChain/300.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.DBErrorSetValues
DBError=110.LogDBError
Operations=None
SubscriberFound=200.SetSubscriberFoundError
SubscriberFound=210.LogSubscriberFoundError
TrueRuleChain=DBError
TrueRuleChain=SubscriberFound


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/119.LookupSubscriberByNewMDNRuleChain/300.CheckLookupStatus/100.DBErrorSetValues]

AdornOps=set DEG_SubProvResponseCodeString "04"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0118"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup in DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/119.LookupSubscriberByNewMDNRuleChain/300.CheckLookupStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=log_Table_Name
Attributes=log_DB_Operation
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in IMSI and MDN look up from DEG_SUBSCRIBERS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/119.LookupSubscriberByNewMDNRuleChain/300.CheckLookupStatus/200.SetSubscriberFoundError]

AdornOps=set DEG_SubProvResponseCodeString "13"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0119"
AdornOps=set DEG_OEMDevMessageString "Subscriber with New MDN already exist"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/119.LookupSubscriberByNewMDNRuleChain/300.CheckLookupStatus/210.LogSubscriberFoundError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Subscriber with NewMDN already exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.ExecuteLookup
RuleNames=300.CheckLookupStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain/100.InitLookup]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set log_DB_Operation "SELECT"
AdornOps=copy DEG_SubProvIMSIString DEG_IMSI
AdornOps=copy DEG_SubProvMDNString DEG_MDN
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain/200.ExecuteLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_MIN,DEG_SubProvMINTblString
MapAttributes=DEG_CUSTIDINT,DEG_SubProvCustomerIdentityTblString
MapAttributes=DEG_CUSTCATIDINT,DEG_SubProvCustomerCategoryTblString
MapAttributes=DEG_ESN,DEG_SubProvESNTblString
MapAttributes=DEG_MEID,DEG_SubProvMEIDTblString
MapAttributes=DEG_IMEI,DEG_SubProvIMEITblString
MapAttributes=DEG_ICCID,DEG_SubProvICCIDTblString
MapAttributes=DEG_CustStatus,DEG_SubProvCustomerStatusTblString
MapAttributes=DEG_ENTITLEMENT_LIST,DEG_SubProvEntitlementListTblString
MapAttributes=DEG_COMPANION_DEVICE_COUNT,DEG_SubProvCompanionCountTblString
MapAttributes=DEG_ROAMING_IMSI,DEG_SubProvRoamingIMSITblString
MapAttributes=DEG_EVENTTIMESTAMPINTEGER,DEG_SubProvEventTimeStampIntegerTblString
MapAttributes=DEG_PROVTIME,DEG_SubProvisioningTimeTblString
MapAttributes=DEG_PROVCHANGETIME,DEG_SubProvisioningChangeTimeTblString
MapAttributes=DEG_LASTUPDATE,DEG_SubProvLastUpdateTbl1
NativeCondition=4.MatchByPrimaryMDNAndIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.DBErrorSetValues
DBError=110.LogDBError
Operations=None
SetSubscriberExistsFlag=220.SetSubscriberExistsFlag
SetSubscriberNotExist=200.SetSubscriberNotExist
SetSubscriberNotExist=210.LogSubscriberNotExist
TrueRuleChain=DBError
TrueRuleChain=SetSubscriberNotExist
TrueRuleChain=SetSubscriberExistsFlag


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/100.DBErrorSetValues]

AdornOps=set DEG_SubProvResponseCodeString "04"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0120"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup in DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=log_Table_Name
Attributes=log_DB_Operation
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in IMSI look up from DEG_SUBSCRIBERS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/200.SetSubscriberNotExist]

AdornOps=set DEG_SubProvResponseCodeString "07"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0121"
AdornOps=set DEG_OEMDevMessageString "Subscriber MDN and IMSI does not exist"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/210.LogSubscriberNotExist]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Subscriber MDN and IMSI does not exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/120.LookupSubscriberByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/220.SetSubscriberExistsFlag]

AdornOps=set DEG_SubProvExistsFlag 1
AdornOps=copy DEG_SubProvEntitlementListTblString DEG_SubProvEntitlementListUpdateString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDelete
RuleNames=200.LogBeforeDelete
RuleNames=300.ExecuteDelete
RuleNames=400.LogAfterDelete


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc/100.InitDelete]

AdornOps=set log_DB_Operation "DeleteOperation"
AdornOps=set log_Table_Name "STOREDPROC"
AdornOps=set DEG_SubProvStoreProcNameString "DeleteOperation"
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0124"
AdornOps=set DEG_OEMDevMessageString "Before Manage Subscriber DeleteOperation"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc/200.LogBeforeDelete]

Attributes=DEG_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before Manage Subscriber StoredProc DeleteOperation:
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc/300.ExecuteDelete]

ClassName=com.hp.usage.lookup.SynchronousLookupRule
ConnectorName=140.StoredProcConnectorDEG
ErrorCodeAttribute=DEG_SubProvRequestErrorCodeString
ErrorMessageAttribute=DEG_SubProvRequestErrorMesageString


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc/300.ExecuteDelete/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetDBError
RuleNames=110.LogDBError


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc/300.ExecuteDelete/ErrorRule/100.SetDBError]

AdornOps=set DEG_SubProvResponseCodeString "46"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0125"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to delete record from tables"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc/300.ExecuteDelete/ErrorRule/110.LogDBError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvRequestErrorCodeString
Attributes=DEG_SubProvRequestErrorMesageString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to delete record from DEG_PROV_SERV_DATA, DEG_COMPANION_TOKENS, DEG_IMS_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc/400.LogAfterDelete]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=100.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc/400.LogAfterDelete/100.Log]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful ManageSubscriber StoredProc DeleteOperation:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/121.CallDeleteStoredProc/400.LogAfterDelete/100.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0126"
AdornOps=set DEG_OEMDevMessageString "After Successful StoredProc DeleteOperation"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/124.LookupUniqueIdAPNSTokenFromTokensTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.ExecuteLookup
RuleNames=300.CheckStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/124.LookupUniqueIdAPNSTokenFromTokensTable/100.InitLookup]

AdornOps=set log_Table_Name "DEG_TOKENS"
AdornOps=set log_DB_Operation "SELECT"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set DEG_SubProvAPNSExistsFlag 0
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/124.LookupUniqueIdAPNSTokenFromTokensTable/200.ExecuteLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_UNIQUE_ID,DEG_SubProvUniqueIdString
MapAttributes=DEG_PUSH_TOKEN,DEG_SubProvAPNSTokenString
NativeCondition=3.MatchByPrimaryIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_TOKENS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/124.LookupUniqueIdAPNSTokenFromTokensTable/300.CheckStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.SetLogErrorInfo
DBError=110.LogDBError
NoMatch=200.SetLogInfo
NoMatch=210.LogNoMatch
Operations=None
SetFlag=310.SetAPNSUniqueIDFlag
TrueRuleChain=DBError
TrueRuleChain=NoMatch
TrueRuleChain=SetFlag


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/124.LookupUniqueIdAPNSTokenFromTokensTable/300.CheckStatus/100.SetLogErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0122"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup in DEG_TOKENS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/124.LookupUniqueIdAPNSTokenFromTokensTable/300.CheckStatus/110.LogDBError]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: in lookup for UniqueID and APNS Token from DEG_TOKENS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/124.LookupUniqueIdAPNSTokenFromTokensTable/300.CheckStatus/200.SetLogInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0123"
AdornOps=set DEG_OEMDevErrorMessageString "APNS Token does not exist"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/124.LookupUniqueIdAPNSTokenFromTokensTable/300.CheckStatus/210.LogNoMatch]

Attributes=DEG_SubProvUniqueIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=APNS Token does not exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/124.LookupUniqueIdAPNSTokenFromTokensTable/300.CheckStatus/310.SetAPNSUniqueIDFlag]

AdornOps=set DEG_SubProvAPNSExistsFlag 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.UpdateSubscribertablefromDB
RuleNames=110.UpdateProvServTablefromDB
RuleNames=120.SetErrorCode
RuleNames=130.LogDBError


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/100.UpdateSubscribertablefromDB]

ClassName=ConditionalRule
Conditions=DEG_SubProvExistsFlag,=,1
TrueRuleChain=001.UpdateSubscribertable


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/100.UpdateSubscribertablefromDB/001.UpdateSubscribertable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitUpdateSession
RuleNames=300.LogBeforeUpdateSession
RuleNames=400.ExecuteUpdateSession
RuleNames=500.CheckUpdateSessionStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/100.UpdateSubscribertablefromDB/001.UpdateSubscribertable/100.InitUpdateSession]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=setifnull DEG_SubProvCustomerIdentityTblString ""
AdornOps=setifnull DEG_SubProvIMEITblString ""
AdornOps=setifnull DEG_SubProvESNTblString ""
AdornOps=setifnull DEG_SubProvMEIDTblString ""
AdornOps=setifnull DEG_SubProvICCIDTblString ""
AdornOps=setifnull DEG_SubProvCustomerStatusTblString ""
AdornOps=setifnull DEG_SubProvMINTblString ""
AdornOps=setifnull DEG_SubProvFeatureListTblString ""
AdornOps=setifnull DEG_SubProvEntitlementListTblString ""
AdornOps=setifnull DEG_SubProvCompanionCountTblString ""
AdornOps=setifnull DEG_SubProvEventTimeStampIntegerTblString ""
AdornOps=setifnull DEG_SubProvisioningTimeTblString ""
AdornOps=setifnull DEG_SubProvisioningChangeTimeTblString ""
AdornOps=copy DEG_SubProvCustomerIdentityTblString DEG_CUSTIDINT
AdornOps=copy DEG_SubProvCustomerCategoryTblString DEG_CUSTCATIDINT
AdornOps=copy DEG_SubProvIMEITblString DEG_IMEI
AdornOps=copy DEG_SubProvESNTblString DEG_ESN
AdornOps=copy DEG_SubProvMEIDTblString DEG_MEID
AdornOps=copy DEG_SubProvICCIDTblString DEG_ICCID
AdornOps=copy DEG_SubProvCustomerStatusTblString DEG_CustStatus
AdornOps=copy DEG_SubProvMINTblString DEG_MIN
AdornOps=copy DEG_SubProvEntitlementListTblString DEG_ENTITLEMENT_LIST
AdornOps=copy DEG_SubProvCompanionCountTblString DEG_COMPANION_DEVICE_COUNT
AdornOps=copy DEG_SubProvEventTimeStampIntegerTblString DEG_EVENTTIMESTAMPINTEGER
AdornOps=copy DEG_SubProvisioningTimeTblString DEG_PROVTIME
AdornOps=copy DEG_SubProvisioningChangeTimeTblString DEG_PROVCHANGETIME
AdornOps=copy DEG_SubProvLastUpdateTbl1 DEG_LASTUPDATE
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0128"
AdornOps=set DEG_OEMDevMessageString "Before DEG_SUBSCRIBERS update session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/100.UpdateSubscribertablefromDB/001.UpdateSubscribertable/300.LogBeforeUpdateSession]

Attributes=DEG_IMSI
Attributes=DEG_MDN
Attributes=DEG_MIN
Attributes=DEG_CUSTIDINT
Attributes=DEG_CUSTCATIDINT
Attributes=DEG_EVENTTIMESTAMPINTEGER
Attributes=DEG_ESN
Attributes=DEG_MEID
Attributes=DEG_IMEI
Attributes=DEG_ICCID
Attributes=DEG_CustStatus
Attributes=DEG_PROVTIME
Attributes=DEG_PROVCHANGETIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_ENTITLEMENT_LIST
Attributes=DEG_COMPANION_DEVICE_COUNT
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Before DEG_SUBSCRIBERS update session while rolling back the changes :


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/100.UpdateSubscribertablefromDB/001.UpdateSubscribertable/400.ExecuteUpdateSession]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_MIN,DEG_MIN
MapAttributes=DEG_CUSTIDINT,DEG_CUSTIDINT
MapAttributes=DEG_CUSTCATIDINT,DEG_CUSTCATIDINT
MapAttributes=DEG_EVENTTIMESTAMPINTEGER,DEG_EVENTTIMESTAMPINTEGER
MapAttributes=DEG_ESN,DEG_ESN
MapAttributes=DEG_MEID,DEG_MEID
MapAttributes=DEG_IMEI,DEG_IMEI
MapAttributes=DEG_ICCID,DEG_ICCID
MapAttributes=DEG_CustStatus,DEG_CustStatus
MapAttributes=DEG_PROVTIME,DEG_PROVTIME
MapAttributes=DEG_PROVCHANGETIME,DEG_PROVCHANGETIME
MapAttributes=DEG_LASTUPDATE,DEG_LASTUPDATE
MapAttributes=DEG_ENTITLEMENT_LIST,DEG_ENTITLEMENT_LIST
MapAttributes=DEG_COMPANION_DEVICE_COUNT,DEG_COMPANION_DEVICE_COUNT
NativeCondition=4.MatchByPrimaryMDNAndIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/100.UpdateSubscribertablefromDB/001.UpdateSubscribertable/500.CheckUpdateSessionStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
TrueRuleChain=100.SetDBError
TrueRuleChain=110.LogDBError


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/100.UpdateSubscribertablefromDB/001.UpdateSubscribertable/500.CheckUpdateSessionStatus/100.SetDBError]

AdornOps=set DEG_SubProvResponseCodeString "06"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0129"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/100.UpdateSubscribertablefromDB/001.UpdateSubscribertable/500.CheckUpdateSessionStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to update DEG_SUBSCRIBERS table while rolling back changes :
NullAlso=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_IMSIMatchFoundInteger,=,1
TrueRuleChain=010.UpdateProvServTablefromDB


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.SetLogInfo
RuleNames=000.InitUpdateLog
RuleNames=100.InitUpdateSession
RuleNames=200.LogBeforeUpdateSession
RuleNames=300.ExecuteUpdateSession
RuleNames=400.CheckUpdateSessionStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/000.InitUpdateLog]

Attributes=DEG_IMSI
Attributes=DEG_SubProvOperationString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=In DEG_PROV_SERV_DATA Update module
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0130"
AdornOps=set DEG_OEMDevMessageString "In DEG_PROV_SERV_DATA Update module"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/100.InitUpdateSession]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_PROV_SERV_DATA"
AdornOps=set DEG_ENTITLEMENT_NAME ${VOWIFI_ENTITLEMENT_NAME}
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=setifnull DEG_SubProvGatewayAddressTblString ""
AdornOps=setifnull DEG_SubProvAddrUpdatePostDataTblString ""
AdornOps=setifnull DEG_SubProvAddrUpdateUrlTblString ""
AdornOps=setifnull DEG_SubProvVowifiTcStatusTblInteger 0
AdornOps=setifnull DEG_SubProvVowifiAddressStatusTblInteger 0
AdornOps=setifnull DEG_SubProvVowifiProvStatusTblInteger 0
AdornOps=copy DEG_SubProvVowifiTcStatusTblInteger DEG_PROV_TC_STATUS
AdornOps=copy DEG_SubProvVowifiAddressStatusTblInteger DEG_PROV_ADDRESS_STATUS
AdornOps=copy DEG_SubProvVowifiProvStatusTblInteger DEG_PROV_PROVISIONING_STATUS
AdornOps=copy DEG_SubProvGatewayAddressTblString DEG_PROV_GATEWAY_ADDRESS
AdornOps=copy DEG_SubProvAddrUpdatePostDataTblString DEG_PROV_ADDR_UPDATE_POST_DATA
AdornOps=copy DEG_SubProvAddrUpdateUrlTblString DEG_PROV_ADDR_UPDATE_URL
AdornOps=copy DEG_SubProvLastUpdateTbl DEG_PROV_LASTUPDATE
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0131"
AdornOps=set DEG_OEMDevMessageString "Before updating subscribers provision"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/200.LogBeforeUpdateSession]

Attributes=DEG_IMSI
Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_PROV_TC_STATUS
Attributes=DEG_PROV_ADDRESS_STATUS
Attributes=DEG_PROV_PROVISIONING_STATUS
Attributes=DEG_PROV_ADDR_UPDATE_POST_DATA
Attributes=DEG_PROV_ADDR_UPDATE_URL
Attributes=DEG_PROV_LASTUPDATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before updating subscribers provision in  DEG_PROV_SERV_DATA table : 
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/300.ExecuteUpdateSession]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_IMSI,DEG_IMSI
MapAttributes=DEG_ENTITLEMENT_NAME,DEG_ENTITLEMENT_NAME
MapAttributes=DEG_PROV_TC_STATUS,DEG_PROV_TC_STATUS
MapAttributes=DEG_PROV_ADDRESS_STATUS,DEG_PROV_ADDRESS_STATUS
MapAttributes=DEG_PROV_PROVISIONING_STATUS,DEG_PROV_PROVISIONING_STATUS
MapAttributes=DEG_PROV_GATEWAY_ADDRESS,DEG_PROV_GATEWAY_ADDRESS
MapAttributes=DEG_PROV_ADDR_UPDATE_POST_DATA,DEG_PROV_ADDR_UPDATE_POST_DATA
MapAttributes=DEG_PROV_ADDR_UPDATE_URL,DEG_PROV_ADDR_UPDATE_URL
MapAttributes=DEG_PROV_LASTUPDATE,DEG_PROV_LASTUPDATE
NativeCondition=1.MatchByIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_PROV_SERV_DATA_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/400.CheckUpdateSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
DBError=100.SetLogErrorInfo
DBError=110.LogDBError
Operations=None
SubscriberDoesNotExist=200.SetLogInfo
SubscriberDoesNotExist=210.LogSubscriberDoesNotExistError
TrueRuleChain=DBError
TrueRuleChain=SubscriberDoesNotExist


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/400.CheckUpdateSessionStatus/100.SetLogErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0132"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update DEG_PROV_SERV_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/400.CheckUpdateSessionStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to update DEG_PROV_SERV_DATA table when rolling back changes :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/400.CheckUpdateSessionStatus/200.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0133"
AdornOps=set DEG_OEMDevMessageString "Unable to update Subscriber IMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/110.UpdateProvServTablefromDB/010.UpdateProvServTablefromDB/400.CheckUpdateSessionStatus/210.LogSubscriberDoesNotExistError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_PROVTIME
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Unable to update Subscriber IMSI does not exist while rolling back the changes :
NullAlso=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/120.SetErrorCode]

AdornOps=set DEG_SubProvAPNSErrorInteger 1
AdornOps=set DEG_SubProvResponseCodeString "16"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0134"
AdornOps=set DEG_OEMDevErrorMessageString "APNS Notifiaction is not sent"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/509.UpdatingProvServandSubscribersTable/130.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=APNS Notifiaction is not sent:


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/510.InsertNotificationToAPNSTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitCreateSession
RuleNames=200.ExecuteCreateSession
RuleNames=300.CheckCreateSessionStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/510.InsertNotificationToAPNSTable/100.InitCreateSession]

AdornOps=set log_DB_Operation "CREATE"
AdornOps=set log_Table_Name "DEG_APNS_MESSAGE_TO_BE_SENT"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 0
AdornOps=copy DEG_CarrMDNLong DEG_MDN
AdornOps=copy DEG_CarrIMSIString DEG_IMSI
AdornOps=copy DEG_APNSUniqueIdString DEG_UNIQUE_ID
AdornOps=copy APNS_TokenString DEG_APNS_TOKEN
AdornOps=copy DEG_APNSTopicString DEG_APNS_TOPIC
AdornOps=copy DEG_TriggerTypeString DEG_APNS_TRIGGER_TYPE
AdornOps=set DEG_APNSINTERFACE_INSTANCE ${PROV_INTERFACE_PROCESS_NAME}
AdornOps=set DEG_APNS_DEL_RETRIES 0
AdornOps=setsystime DEG_APNS_MSG_CREATED_DATE
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/510.InsertNotificationToAPNSTable/200.ExecuteCreateSession]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
DuplicateErrorRuleChain=002.DuplicateSessionErrorRuleChain
LogInvalidSession=false
SessionStore=DEG_APNS_MESSAGE_TO_BE_SENT_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/510.InsertNotificationToAPNSTable/300.CheckCreateSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.SetCreateError
DBError=110.LogCreateError
DuplicateKey=200.SetDuplicateEntryError
Operations=None
TrueRuleChain=DBError
TrueRuleChain=DuplicateKey


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/510.InsertNotificationToAPNSTable/300.CheckCreateSessionStatus/100.SetCreateError]

AdornOps=set DEG_SubProvResponseCodeString "44"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0135"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to add record to DEG_APNS_MESSAGE_TO_BE_SENT table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/510.InsertNotificationToAPNSTable/300.CheckCreateSessionStatus/110.LogCreateError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to add record to DEG_APNS_MESSAGE_TO_BE_SENT table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/510.InsertNotificationToAPNSTable/300.CheckCreateSessionStatus/200.SetDuplicateEntryError]

AdornOps=set DEG_SubProvResponseCodeString "02"
AdornOps=set DEG_SubProvReturnCodeInteger 2
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/600.GenerateAuditAndNRBEventsRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.DumpAuditRecord
RuleNames=200.DumpMonitoringTransactions


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/600.GenerateAuditAndNRBEventsRuleChain/100.DumpAuditRecord]

ClassName=com.hp.siu.sessionserver.rules.NMEStoreRule
NMEStore=AuditNmeStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/600.GenerateAuditAndNRBEventsRuleChain/200.DumpMonitoringTransactions]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RequestAttributes=DEG_NrbMonitoringSessionIdList
RequestAttributes=DEG_AuditProcessingNodeString
RequestAttributes=DEG_AuditTimestampLong
RequestAttributes=DEG_AuditInterfaceString
RequestAttributes=DEG_AuditInOutString
RequestAttributes=DEG_AuditResultCodeString
RequestAttributes=DEG_AuditMdnString
RequestAttributes=DEG_AuditIMSIString
RequestAttributes=DEG_AuditTransactionTypeString
RequestAttributes=DEG_AuditSourceDestinationString
RequestAttributes=DEG_AuditNRBMessageString
RequestAttributes=DEG_AuditMessageString
RuleChain=601.DumpMonitoringTransactionsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.DumpMonitoringTransactions


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions]

ClassName=com.hp.siu.collector.rules.ConditionalRule
TrueRuleChain=100.DumpMonitoringTransactions


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_NrbMonitoringSessionIdList
RuleChain=100.InsertMonitoringTransactionToDb
TmpAttributeName=DEG_NrbMonitoringSessionIdString


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_MONITORINGID_GENERATOR


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.GenerateTransactionId
RuleNames=110.PopulateMonitoringTransactionAttributes
RuleNames=120.InitInsert2Db
RuleNames=200.Insert2Db
RuleNames=300.CheckCreateStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/100.GenerateTransactionId]

AdornOps=setsystime DEG_Tmp1Long
AdornOps=copy DEG_Tmp1Long DEG_Tmp1String
AdornOps=+ DEG_Tmp1String DEG_MSESSIONTRANSID DEG_MSESSIONTRANSID
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/110.PopulateMonitoringTransactionAttributes]

AdornOps=copy DEG_AuditProcessingNodeString DEG_MSESSIONPROCID
AdornOps=copy DEG_AuditTimestampLong DEG_MSESSIONTIMESTAMP
AdornOps=copy DEG_AuditInterfaceString DEG_MSESSIONINTERFACE
AdornOps=copy DEG_AuditInOutString DEG_MSESSIONINOUT
AdornOps=copy DEG_AuditResultCodeString DEG_MSESSIONRESULTCODE
AdornOps=copy DEG_AuditMdnString DEG_MSESSIONMDN
AdornOps=copy DEG_AuditIMSIString DEG_MSESSIONIMSI
AdornOps=copy DEG_AuditTransactionTypeString DEG_MSESSIONTRANSACTIONTYPE
AdornOps=copy DEG_AuditSourceDestinationString DEG_MSESSIONSOURCEDESTINATION
AdornOps=copy DEG_AuditNRBMessageString DEG_MSESSIONMESSAGE
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/120.InitInsert2Db]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 0
AdornOps=copy DEG_NrbMonitoringSessionIdString DEG_MSESSIONID
AdornOps=set log_DB_Operation "CREATE"
AdornOps=set log_Table_Name "DEG_MONITORING_TRANSACTIONS"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/200.Insert2Db]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
DuplicateErrorRuleChain=002.DuplicateSessionErrorRuleChain
LogInvalidSession=false
SessionStore=DEG_MONITORING_TRANSACTIONS_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/300.CheckCreateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,!=,0
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,!=,0
Operations=or
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=100.ErrorLog


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/300.CheckCreateStatus/100.ErrorLog]

Attributes=DEG_MSESSIONID
Attributes=DEG_MSESSIONTRANSID
Attributes=DEG_MSESSIONPROCID
Attributes=DEG_MSESSIONTIMESTAMP
Attributes=DEG_MSESSIONINTERFACE
Attributes=DEG_MSESSIONINOUT
Attributes=DEG_MSESSIONRESULTCODE
Attributes=DEG_MSESSIONMDN
Attributes=DEG_MSESSIONIMSI
Attributes=DEG_MSESSIONTRANSACTIONTYPE
Attributes=DEG_MSESSIONSOURCEDESTINATION
Attributes=DEG_MSESSIONMESSAGE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to create entry in DEG_MONITORING_TRANSACTIONS session store
NullAlso=true
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/300.CheckCreateStatus/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0127"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to create entry in DEG_MONITORING_TRANSACTIONS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/601.DumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/Condition]

ClassName=com.hp.usage.script.rules.ExpressionCondition
Expression=DEG_NrbMonitoringSessionIdList != null


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDelete
RuleNames=200.LogBeforeDelete
RuleNames=300.ExecuteDelete
RuleNames=400.LogAfterDelete


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc/100.InitDelete]

AdornOps=set log_DB_Operation "DELETEBYIMSI"
AdornOps=set log_Table_Name "STOREDPROC"
AdornOps=set DEG_SubProvStoreProcNameString "DeleteByIMSI"
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0072"
AdornOps=set DEG_OEMDevMessageString "Before Manage Subscriber StoredProc DeleteByIMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc/200.LogBeforeDelete]

Attributes=DEG_IMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before Manage Subscriber StoredProc DeleteByIMSI:
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc/300.ExecuteDelete]

ClassName=com.hp.usage.lookup.SynchronousLookupRule
ConnectorName=140.StoredProcConnectorDEG
ErrorCodeAttribute=DEG_SubProvRequestErrorCodeString
ErrorMessageAttribute=DEG_SubProvRequestErrorMesageString


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc/300.ExecuteDelete/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetDBError
RuleNames=110.LogDBError


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc/300.ExecuteDelete/ErrorRule/100.SetDBError]

AdornOps=set DEG_SubProvResponseCodeString "09"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0073"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to delete from DEG_IMS_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc/300.ExecuteDelete/ErrorRule/110.LogDBError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvRequestErrorCodeString
Attributes=DEG_SubProvRequestErrorMesageString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to delete record from DEG_IMS_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc/400.LogAfterDelete]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc/400.LogAfterDelete/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0074"
AdornOps=set DEG_OEMDevMessageString "After Successful Manage Subscriber StoredProc DeleteByIMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/701.InvokeDeleteStoredProc/400.LogAfterDelete/100.Log]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful Manage Subscriber StoredProc DeleteByIMSI:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitCreateSession
RuleNames=200.SetProvisionTime
RuleNames=300.LogBeforeCreateSession
RuleNames=400.ExecuteCreateSession
RuleNames=500.CreateSessionStatus
RuleNames=600.LogAfterCreateSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/100.InitCreateSession]

AdornOps=set log_DB_Operation "INSERT"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 0
AdornOps=copy DEG_SubProvIMSIString DEG_IMSI
AdornOps=setsystime DEG_LASTUPDATE
AdornOps= + DEG_SubProvDeviceCountInteger 1 DEG_SubProvDeviceCountInteger
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0068"
AdornOps=set DEG_OEMDevMessageString "Exception Handler Error code"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/200.SetProvisionTime]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvProvisioningTimeString,!=,""
FalseRuleChain=100.SetIncomingProvTime
TrueRuleChain=200.SetProvTimeToSysTime


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/200.SetProvisionTime/100.SetIncomingProvTime]

AdornOps=setsystime DEG_PROVTIME
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/200.SetProvisionTime/200.SetProvTimeToSysTime]

ClassName=TimeAdornmentRule
ParseTimeString=DEG_SubProvProvisioningTimeString,DEG_PROVTIME,yyyy-MM-dd HH:mm:ss
TimeZone=UTC


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/300.LogBeforeCreateSession]

Attributes=DEG_IMSI
Attributes=DEG_DEVICE_ID
Attributes=DEG_UNIQUE_ID
Attributes=DEG_IMS_PRIVATE_ID
Attributes=DEG_IMS_PUBLIC_ID
Attributes=DEG_SIP_USERNAME
Attributes=DEG_SIP_PASSWORD
Attributes=DEG_PROVTIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_SubProvDeviceCountInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before Manage IMSCredentials Create Session:


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/400.ExecuteCreateSession]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
DuplicateErrorRuleChain=002.DuplicateSessionErrorRuleChain
LogInvalidSession=false
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/500.CreateSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.SetCreateError
DBError=110.LogCreateError
DuplicateKey=200.SetDuplicateEntryError
Operations=None
TrueRuleChain=DBError
TrueRuleChain=DuplicateKey


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/500.CreateSessionStatus/100.SetCreateError]

AdornOps=set DEG_SubProvResponseCodeString "44"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0069"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to add record to DEG_IMS_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/500.CreateSessionStatus/110.LogCreateError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to add record to DEG_IMS_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/500.CreateSessionStatus/200.SetDuplicateEntryError]

AdornOps=set DEG_SubProvResponseCodeString "02"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0070"
AdornOps=set DEG_OEMDevMessageString "Unable to Insert entry duplicate subscriber IMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/500.CreateSessionStatus/201.LogDuplicateEntryError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_PROVTIME
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Unable to Insert entry duplicate subscriber IMSI:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/600.LogAfterCreateSession]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/600.LogAfterCreateSession/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0071"
AdornOps=set DEG_OEMDevMessageString "After Successful DEG_IMS_DATA Create Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/703.ManageIMSCreateSessionRuleChain/600.LogAfterCreateSession/100.Log]

Attributes=DEG_IMSI
Attributes=DEG_PROVTIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful DEG_IMS_DATA Create Session:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=004.ManageIMSCredentialsUpdateSessionRuleChain


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.InitUpdateLog
RuleNames=100.InitUpdateSession
RuleNames=200.SetProvisionTime
RuleNames=300.LogBeforeUpdateSession
RuleNames=301.CheckUniqueId
RuleNames=400.ExecuteUpdateSession
RuleNames=500.CheckUpdateSessionStatus
RuleNames=600.LogAfterUpdateSession


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/000.InitUpdateLog]

Attributes=DEG_IMSI
Attributes=DEG_SubProvOperationString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=In Update module
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0075"
AdornOps=set DEG_OEMDevMessageString "In Update module"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/100.InitUpdateSession]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0076"
AdornOps=set DEG_OEMDevMessageString "Before ManageIMSCredentials Update Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/200.SetProvisionTime]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvProvisioningTimeString,!=,""
FalseRuleChain=200.SetSystemTimeToProvTime
TrueRuleChain=100.SetIncomingProvTime


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/200.SetProvisionTime/100.SetIncomingProvTime]

ClassName=TimeAdornmentRule
ParseTimeString=DEG_SubProvProvisioningTimeString,DEG_PROVTIME,yyyy-MM-dd HH:mm:ss
TimeZone=UTC


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/200.SetProvisionTime/200.SetSystemTimeToProvTime]

AdornOps=setsystime DEG_PROVTIME
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/300.LogBeforeUpdateSession]

Attributes=DEG_IMSI
Attributes=DEG_DEVICE_ID
Attributes=DEG_UNIQUE_ID
Attributes=DEG_IMS_PRIVATE_ID
Attributes=DEG_IMS_PUBLIC_ID
Attributes=DEG_SIP_USERNAME
Attributes=DEG_SIP_PASSWORD
Attributes=DEG_PROVTIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Before ManageIMSCredentials Update Session:
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/301.CheckUniqueId]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=110.ExecuteLookup
RuleNames=120.CheckUniqueIdStatus


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/301.CheckUniqueId/100.InitLookup]

AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=set DEG_SubProvDBUniqueIdString ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/301.CheckUniqueId/110.ExecuteLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_UNIQUE_ID,DEG_SubProvDBUniqueIdString
NativeCondition=2.MatchByIMSIAndDeviceId
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/301.CheckUniqueId/120.CheckUniqueIdStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvDBUniqueIdString,!=,""
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.LogWarning


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/301.CheckUniqueId/120.CheckUniqueIdStatus/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0077"
AdornOps=set DEG_OEMDevMessageString "The Unique id updated"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/301.CheckUniqueId/120.CheckUniqueIdStatus/100.LogWarning]

Attributes=DEG_UNIQUE_ID
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=The Unique id which is getting updated is being used :
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/400.ExecuteUpdateSession]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_IMSI,DEG_IMSI
MapAttributes=DEG_DEVICE_ID,DEG_DEVICE_ID
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
MapAttributes=DEG_IMS_PRIVATE_ID,DEG_IMS_PRIVATE_ID
MapAttributes=DEG_IMS_PUBLIC_ID,DEG_IMS_PUBLIC_ID
MapAttributes=DEG_SIP_USERNAME,DEG_SIP_USERNAME
MapAttributes=DEG_SIP_PASSWORD,DEG_SIP_PASSWORD
MapAttributes=DEG_PROVTIME,DEG_PROVTIME
MapAttributes=DEG_LASTUPDATE,DEG_LASTUPDATE
NativeCondition=2.MatchByIMSIAndDeviceId
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/500.CheckUpdateSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
DBError=100.SetDBError
DBError=110.LogDBError
Operations=None
SubscriberDoesNotExist=200.SetSubscriberDoesNotExistError
SubscriberDoesNotExist=210.LogSubscriberDoesNotExistError
TrueRuleChain=DBError
TrueRuleChain=SubscriberDoesNotExist


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/500.CheckUpdateSessionStatus/100.SetDBError]

AdornOps=set DEG_SubProvResponseCodeString "45"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0078"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update in DEG_IMS_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/500.CheckUpdateSessionStatus/110.LogDBError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to update record from DEG_IMS_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/500.CheckUpdateSessionStatus/200.SetSubscriberDoesNotExistError]

AdornOps=set DEG_SubProvResponseCodeString "07"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0079"
AdornOps=set DEG_OEMDevMessageString "Exception Handler Error code"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/500.CheckUpdateSessionStatus/210.LogSubscriberDoesNotExistError]

Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_PROVTIME
Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Unable to update, Subscriber IMSI does not exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/600.LogAfterUpdateSession]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvReturnCodeInteger,=,0
TrueRuleChain=000.SetLogInfo
TrueRuleChain=100.Log


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/600.LogAfterUpdateSession/000.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.PI.0080"
AdornOps=set DEG_OEMDevMessageString "After Successful DEG_IMS_DATA Update Session"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/Common_Core/RuleChains/704.ManageIMSCredentialsUpdateSessionRuleChain/004.ManageIMSCredentialsUpdateSessionRuleChain/600.LogAfterUpdateSession/100.Log]

Attributes=DEG_IMSI
Attributes=DEG_PROVTIME
Attributes=DEG_LASTUPDATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=After Successful DEG_IMS_DATA Update Session:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true
