

[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core]


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains]

RuleChainNames=215.DEG31ProcessOEMGetSIMStatusRuleChain
RuleChainNames=220A.DEG30ExtractGetSIMStatusRequestRuleChain
RuleChainNames=214B.DEG30CallCustomGetSIMStatusRequestRuleChain
RuleChainNames=708.DEG30GenerateGetSIMStatusStartAuditDataRuleChain
RuleChainNames=210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain
RuleChainNames=220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain
RuleChainNames=230.DEG31GenerateGetSIMStatusSystemErrorEndAuditDataRuleChain


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CheckRequestState


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain/100.CheckRequestState]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SSL_REQUEST_STATE,=,"200C"
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Operations=and
TrueRuleChain=100.PopulateCommonAuditAttributes
TrueRuleChain=300.PopulateAuditMessageAttribute_Append_Attributes
TrueRuleChain=400.PopulateAuditNRBMessageAttribute
TrueRuleChain=500.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain/100.CheckRequestState/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditResultCodeString "1"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString "Multi-SIM"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditTransactionTypeString "getSIMStatus"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain/100.CheckRequestState/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getSIMStatus response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain/100.CheckRequestState/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain/100.CheckRequestState/400.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSecondaryDevicePairedStatusString,!=,""
TrueRuleChain=100.Substringlength


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain/100.CheckRequestState/400.PopulateAuditNRBMessageAttribute/100.Substringlength]

AdornOps=setifnull DEG_OEMDevSecondaryDevicePairedStatusString ""
AdornOps=substr 0 length-1 DEG_OEMDevSecondaryDevicePairedStatusString DEG_OEMDevSecondaryDevicePairedStatusString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevSecondaryDevicePairedStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain/100.CheckRequestState/500.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain]

ClassName=RuleChain
RuleNames=101.CopyDegToCustomAttribute
RuleNames=201.CallGetSIMStatusCustom
RuleNames=301.CopyCustomToDegAttribute
RuleNames=303.CheckSecondaryDeviceType
RuleNames=302.CheckTemplateInvocationStatus
RuleNames=400.CheckRequestProcessInteger


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/101.CopyDegToCustomAttribute]

AdornOps=setifnull CUST_SSC_OUT_SecondaryALTSMDPFQDNString ""
AdornOps=setifnull DEG_Manage_Account_URLPost_Data ""
AdornOps=copy DEG_OEMDevPrimaryICCIDString CUST_SSC_IN_primary_iccid_string
AdornOps=copy DEG_MDN CUST_SSC_IN_MDNString
AdornOps=copy DEG_IMSI CUST_SSC_IN_IMSIString
AdornOps=copy DEG_OEMDevTemplateInvocationStatusInteger CUST_SSC_OUT_TemplateInvokationStatus
AdornOps=copy DEG_Manage_Account_URL CUST_SSC_OUT_MANAGE_ACCOUNT_URL
AdornOps=copy DEG_Manage_Account_URLPost_Data CUST_SSC_OUT_MANAGE_ACCOUNT_URL_POSTDATA
AdornOps=copy DEG_OEMDevRespStatusString CUST_SSC_OUT_JSON_Response_Code_String
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/201.CallGetSIMStatusCustom]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_Apple_SS_getSIMStatusCustom
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/301.CopyCustomToDegAttribute]

AdornOps=setifnull CUST_SSC_OUT_SecondaryEIDString ""
AdornOps=setifnull CUST_SSC_OUT_SecondaryICCIDString ""
AdornOps=setifnull CUST_SSC_OUT_SecondaryActivationStatusString ""
AdornOps=setifnull CUST_SSC_OUT_SecondaryIMEIString ""
AdornOps=setifnull CUST_SSC_OUT_SecondaryMEIDString ""
AdornOps=setifnull CUST_SSC_OUT_SecondaryALTSMDPFQDNString ""
AdornOps=setifnull CUST_SSC_OUT_MANAGE_ACCOUNT_URL ""
AdornOps=setifnull CUST_SSC_OUT_MANAGE_ACCOUNT_URL_POSTDATA ""
AdornOps=copy CUST_SSC_OUT_TemplateInvokationStatus DEG_OEMDevTemplateInvocationStatusInteger
AdornOps=setifnull CUST_SSC_OUT_SecondaryEIDList null
AdornOps=copy CUST_SSC_OUT_SecondaryEIDList  DEG_OEMDevSecondaryEIDList
AdornOps=setifnull CUST_SSC_OUT_SecondaryIMEIList null
AdornOps=copy CUST_SSC_OUT_SecondaryIMEIList DEG_OEMDevSecondaryIMEIList
AdornOps=setifnull CUST_SSC_OUT_SecondaryMEIDList null
AdornOps=copy CUST_SSC_OUT_SecondaryMEIDList DEG_OEMDevSecondaryMEIDList
AdornOps=setifnull CUST_SSC_OUT_SecondaryALTSMDPFQDNList null
AdornOps=copy CUST_SSC_OUT_SecondaryALTSMDPFQDNList DEG_OEMDevSecondaryAltSmdpFqdnList
AdornOps=setifnull CUST_SSC_OUT_SecondaryICCIDList null
AdornOps=copy CUST_SSC_OUT_SecondaryICCIDList DEG_OEMDevSecondaryICCIDList
AdornOps=setifnull CUST_SSC_OUT_SecondaryActivationStatusList null
AdornOps=copy CUST_SSC_OUT_SecondaryActivationStatusList DEG_OEMDevSecondaryActivationStatusList
AdornOps=copy CUST_SSC_OUT_SecondaryEIDString DEG_OEMDEVSecondaryEIDString
AdornOps=copy CUST_SSC_OUT_SecondaryIMEIString DEG_OEMDevSecondaryIMEIString
AdornOps=copy CUST_SSC_OUT_SecondaryMEIDString DEG_OEMDevSecondaryMEIDString
AdornOps=copy CUST_SSC_OUT_SecondaryALTSMDPFQDNString DEG_OEMDevSecondaryAltSmdoFqdnString
AdornOps=copy CUST_SSC_OUT_SecondaryICCIDString DEG_OEMDEVSecondaryICCIDString
AdornOps=copy CUST_SSC_OUT_SecondaryActivationStatusString DEG_OEMDEVSecondaryActivationStatusString
AdornOps=copy CUST_SSC_OUT_MANAGE_ACCOUNT_URL DEG_Manage_Account_URL
AdornOps=copy CUST_SSC_OUT_MANAGE_ACCOUNT_URL_POSTDATA DEG_Manage_Account_URLPost_Data
AdornOps=copy CUST_SSC_OUT_JSON_Response_Code_String DEG_OEMDevRespStatusString
AdornOps=setifnull CUST_SSC_OUT_SecondaryDeviceTypeString ""
AdornOps=copy CUST_SSC_OUT_SecondaryDeviceTypeString DEG_OEMDevSecondaryDeviceTypeString
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/302.CheckTemplateInvocationStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTemplateInvocationStatusInteger,=,1
TrueRuleChain=100.CheckResponseStatus


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/302.CheckTemplateInvocationStatus/100.CheckResponseStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRespStatusString,within,[6000-6009]
FalseRuleChain=200.SetError
FalseRuleChain=210.LogError
FalseRuleChain=210.GenerateOEMResponse
FalseRuleChain=300.GenerateGETSIMStatusErrorEndAuditData
TrueRuleChain=100.SetErrorResponse
TrueRuleChain=200.LogErrorResponse
TrueRuleChain=210.GenerateOEMResponse
TrueRuleChain=300.GenerateGETSIMStatusErrorEndAuditData


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/302.CheckTemplateInvocationStatus/100.CheckResponseStatus/100.SetErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GSS.0002"
AdornOps=set DEG_OEMDevErrorMessageString "Template Invocation Status Attributes is false (1) !"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/302.CheckTemplateInvocationStatus/100.CheckResponseStatus/200.LogErrorResponse]

Attributes=DEG_OEMDevEIDArrayIndexInteger
Attributes=DEG_OEMDevICCIDArrayIndexInteger
Attributes=DEG_OEMDevActivationStatusArrayIndexInteger
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Template Invocation Status Attributes is false (1) !
NullAlso=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/302.CheckTemplateInvocationStatus/100.CheckResponseStatus/200.SetError]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_OEMDevRespStatusString 6005
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GSS.0001"
AdornOps=set DEG_OEMDevErrorMessageString "Json Response status code from custom is other than [6000-6009]"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/302.CheckTemplateInvocationStatus/100.CheckResponseStatus/210.GenerateOEMResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/302.CheckTemplateInvocationStatus/100.CheckResponseStatus/210.LogError]

Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_OEMDevTemplateInvocationStatusInteger
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Json Response status code from custom is other than [6000-6009] ! : 
NullAlso=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/302.CheckTemplateInvocationStatus/100.CheckResponseStatus/300.GenerateGETSIMStatusErrorEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/303.CheckSecondaryDeviceType]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevSecondaryDeviceTypeString,=,"imei"
Conditions=DEG_OEMDevSecondaryDeviceTypeString,=,"meid"
Operations=DoAll
SetIMEIValue=100.SetIMEIValue
SetMEIDValue=200.SetMEIDValue
TrueRuleChain=SetIMEIValue
TrueRuleChain=SetMEIDValue


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/303.CheckSecondaryDeviceType/100.SetIMEIValue]

AdornOps=copy DEG_OEMDevSecondaryIMEIList DEG_OEMDevSecondaryEIDList
AdornOps=copy DEG_OEMDevSecondaryIMEIString DEG_OEMDEVSecondaryEIDString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/303.CheckSecondaryDeviceType/200.SetMEIDValue]

AdornOps=copy DEG_OEMDevSecondaryMEIDList DEG_OEMDevSecondaryEIDList
AdornOps=copy DEG_OEMDevSecondaryMEIDString DEG_OEMDEVSecondaryEIDString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
TrueRuleChain=400.SecondarydevicespairedActivationStatus
TrueRuleChain=401.IterateSecondarydevicespairedEIDList
TrueRuleChain=405.IterateSecondarydevicesAltsmdpfqdnList
TrueRuleChain=402.IterateSecondarydevicespairedICCIDList
TrueRuleChain=500.CheckSecondaryAttributesLength


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/400.SecondarydevicespairedActivationStatus]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevSecondaryActivationStatusList
RuleChain=100.IncrementArrayIndex
TmpAttributeName=DEG_OEMDevActivationTempString


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/400.SecondarydevicespairedActivationStatus/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevActivationStatusArrayIndexInteger 1 DEG_OEMDevActivationStatusArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/401.IterateSecondarydevicespairedEIDList]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevSecondaryEIDList
RuleChain=100.IncrementArrayIndex
TmpAttributeName=DEG_OEMDevActivationTempString


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/401.IterateSecondarydevicespairedEIDList/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevEIDArrayIndexInteger 1 DEG_OEMDevEIDArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/402.IterateSecondarydevicespairedICCIDList]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevSecondaryICCIDList
RuleChain=100.IncrementArrayIndex
TmpAttributeName=DEG_OEMDevActivationTempString


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/402.IterateSecondarydevicespairedICCIDList/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevICCIDArrayIndexInteger 1 DEG_OEMDevICCIDArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/405.IterateSecondarydevicesAltsmdpfqdnList]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevSecondaryAltSmdpFqdnList
RuleChain=100.IncrementArrayIndex
TmpAttributeName=DEG_OEMDevActivationTempString


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/405.IterateSecondarydevicesAltsmdpfqdnList/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevSMDPFQDNArrayIndexInteger 1 DEG_OEMDevSMDPFQDNArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevEIDArrayIndexInteger,!=,-1
Conditions=DEG_OEMDevICCIDArrayIndexInteger,!=,-1
Conditions=DEG_OEMDevActivationStatusArrayIndexInteger,!=,-1
FalseRuleChain=200.CheckSecondaryList
Operations=and,and
TrueRuleChain=100.CompareSecondaryDeviceValues


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/100.CompareSecondaryDeviceValues]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevEIDArrayIndexInteger,=,DEG_OEMDevICCIDArrayIndexInteger
Conditions=DEG_OEMDevICCIDArrayIndexInteger,=,DEG_OEMDevActivationStatusArrayIndexInteger
Conditions=DEG_OEMDevActivationStatusArrayIndexInteger,=,DEG_OEMDevEIDArrayIndexInteger
FalseRuleChain=100.SetErrorResponse
FalseRuleChain=110.LogErrorResponse
FalseRuleChain=130.GenerateOEMResponse
FalseRuleChain=120.GenerateErrorEndAudit
Operations=and,and
TrueRuleChain=200.GenerateSecondaryResponse


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/100.CompareSecondaryDeviceValues/100.SetErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_OEMDevRespStatusString 6005
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GSS.0004"
AdornOps=set DEG_OEMDevErrorMessageString "Secondary Devices Attributes list not in Sync !"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/100.CompareSecondaryDeviceValues/110.LogErrorResponse]

Attributes=DEG_OEMDevEIDArrayIndexInteger
Attributes=DEG_OEMDevICCIDArrayIndexInteger
Attributes=DEG_OEMDevActivationStatusArrayIndexInteger
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Secondary Devices Attributes list not in Sync !
NullAlso=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/100.CompareSecondaryDeviceValues/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/100.CompareSecondaryDeviceValues/130.GenerateOEMResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/100.CompareSecondaryDeviceValues/200.GenerateSecondaryResponse]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevSecondaryActivationStatusList
ListAttributeName=DEG_OEMDevSecondaryICCIDList
ListAttributeName=DEG_OEMDevSecondaryEIDList
ListAttributeName=DEG_OEMDevSecondaryAltSmdpFqdnList
RuleChain=100.IncrementArrayIndex
RuleChain=200.InvokeGetSIMStatusResponse
RuleChain=300.SetSecondaryDeviceTypeResponse
RuleChain=300.ListResponse
TmpAttributeName=DEG_OEMDevActivationTempString
TmpAttributeName=DEG_OEMDevICCIDTempString
TmpAttributeName=DEG_OEMDevEIDTempString
TmpAttributeName=DEG_OEMDevSMDPFQDNTempString


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/100.CompareSecondaryDeviceValues/200.GenerateSecondaryResponse/100.IncrementArrayIndex]

AdornOps=setifnull DEG_OEMDevSMDPFQDNTempString ""
AdornOps=+ DEG_OEMDevArrayIndexInteger 1 DEG_OEMDevArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/200.CheckSecondaryList]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDEVSecondaryEIDString,=,""
Conditions=DEG_OEMDEVSecondaryICCIDString,=,""
Conditions=DEG_OEMDEVSecondaryActivationStatusString,=,""
Conditions=DEG_OEMDevSecondaryAltSmdoFqdnString,=,""
FalseRuleChain=200.SetErrorResponse
FalseRuleChain=210.LogErrorResponse
FalseRuleChain=230.GenerateOEMResponse
FalseRuleChain=220.GenerateErrorEndAudit
Operations=and,and,or


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/200.CheckSecondaryList/200.SetErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_OEMDevRespStatusString 6005
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GSS.0003"
AdornOps=set DEG_OEMDevErrorMessageString "Secondary Devices Attributes list not in Sync !"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/200.CheckSecondaryList/210.LogErrorResponse]

Attributes=DEG_OEMDevEIDArrayIndexInteger
Attributes=DEG_OEMDevICCIDArrayIndexInteger
Attributes=DEG_OEMDevActivationStatusArrayIndexInteger
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Secondary Devices Attributes list not in Sync !
NullAlso=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/200.CheckSecondaryList/220.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/214B.DEG30CallCustomGetSIMStatusRequestRuleChain/400.CheckRequestProcessInteger/500.CheckSecondaryAttributesLength/200.CheckSecondaryList/230.GenerateOEMResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/215.DEG31ProcessOEMGetSIMStatusRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitRequestForSIMStatus
RuleNames=110.ReadandExtractRequestValue


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/215.DEG31ProcessOEMGetSIMStatusRuleChain/100.InitRequestForSIMStatus]

AdornOps=set DEG_OEMDevRequestProcessedInteger 0
AdornOps=set DEG_CDevDBErrorFlagInteger 0
AdornOps=set DEG_CDevDBNoMatchFlagInteger 0
AdornOps=set DEG_CDevSysParameter "getSIMStatus"
AdornOps=set DEG_OEMDevGetSIMStatusString ${DEVICE_GETSIMSTATUS}
AdornOps=lower DEG_OEMDevGetSIMStatusString DEG_OEMDevGetSIMStatusString
AdornOps=set DEG_OEMDevRespStatusString 6000
AdornOps=setifnull DEG_OEMDevImsiString ""
AdornOps=setifnull DEG_OEMDevPrimaryICCIDString ""
AdornOps=setifnull DEG_MDN 0
AdornOps=set DEG_Manage_Account_URL ${MULTISIM_MANAGED_ACCOUNT_WEBSHEET_URL}
AdornOps=set DEG_SSL_ADDRESS_UPDATE_URL ${DEVICE_SERVICE_MNGT_URL}
AdornOps=set DEG_OEMDevTemplateInvocationStatusInteger 0
AdornOps=set DEG_OEMDevICCIDArrayIndexInteger -1
AdornOps=set DEG_OEMDevEIDArrayIndexInteger -1
AdornOps=set DEG_OEMDevActivationStatusArrayIndexInteger -1
AdornOps=set DEG_OEMDevArrayIndexInteger -1
AdornOps=set DEG_OEMDevSMDPFQDNArrayIndexInteger -1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/215.DEG31ProcessOEMGetSIMStatusRuleChain/110.ReadandExtractRequestValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevGetSIMStatusString,=,enabled
FalseRuleChain=50.StartAuidt
FalseRuleChain=100.SetErrorResponse
FalseRuleChain=150.GenerateGetSIMTokenEndAudit
FalseRuleChain=200.GenerateGETSIMStatusDisabledResponse
FalseRuleChain=300.LogErrorRule
TrueRuleChain=100.ExtractGETSIMStatusRequest


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/215.DEG31ProcessOEMGetSIMStatusRuleChain/110.ReadandExtractRequestValue/100.ExtractGETSIMStatusRequest]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=220A.DEG30ExtractGetSIMStatusRequestRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/215.DEG31ProcessOEMGetSIMStatusRuleChain/110.ReadandExtractRequestValue/100.SetErrorResponse]

AdornOps=set DEG_OEMDevRespStatusString 6002
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GSS.0000"
AdornOps=set DEG_OEMDevErrorMessageString "Action getSIMStatus is DISABLED"
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getSIMStatus Disable response: "
AdornOps=set DEG_AuditNRBMessageString "Sending getSIMStatus disable response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/215.DEG31ProcessOEMGetSIMStatusRuleChain/110.ReadandExtractRequestValue/150.GenerateGetSIMTokenEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/215.DEG31ProcessOEMGetSIMStatusRuleChain/110.ReadandExtractRequestValue/200.GenerateGETSIMStatusDisabledResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/215.DEG31ProcessOEMGetSIMStatusRuleChain/110.ReadandExtractRequestValue/300.LogErrorRule]

Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_OEMDevGetSIMStatusString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Action GetSIMStatus_V2Core is DISABLED !!!!
NullAlso=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/215.DEG31ProcessOEMGetSIMStatusRuleChain/110.ReadandExtractRequestValue/50.StartAuidt]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=708.DEG30GenerateGetSIMStatusStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=set DEG_AuditResultCodeString "12"
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString "Multi-SIM"
AdornOps=set DEG_AuditTransactionTypeString "getSIMStatus"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "Sending getSIMStatus error response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "Sending getSIMStatus error response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220.DEG31GenerateGetSIMStatusErrorEndAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.GenerateGetSIMStatusStartAuditData
RuleNames=110.ExtractPrimaryICCID
RuleNames=120.ValidatePrimaryICCID
RuleNames=130.CallCustomTemplate
RuleNames=150.GenerateMasterResponse
RuleNames=210.DEG31GenerateEndAuditDataRuleChain


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/100.GenerateGetSIMStatusStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=708.DEG30GenerateGetSIMStatusStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/110.ExtractPrimaryICCID]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
StructuredNMEToNMEMap=primary_iccid.CData,DEG_OEMDevPrimaryICCIDString


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/120.ValidatePrimaryICCID]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevPrimaryICCIDString,=,""
FalseRuleChain=100.SetSuccessLog
FalseRuleChain=150.SetPostDataURL
TrueRuleChain=100.SetErrorResponse
TrueRuleChain=200.SetFailureLog
TrueRuleChain=230.SetHTTPErrorResponse
TrueRuleChain=220.GenerateErrorEndAudit
TrueRuleChain=230.SetHTTPErrorResponse


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/120.ValidatePrimaryICCID/100.SetErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GSS.0005"
AdornOps=set DEG_OEMDevErrorMessageString "primary_iccid is empty"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/120.ValidatePrimaryICCID/100.SetSuccessLog]

Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=DEG to Device -> GET SIMSTATUS: PrimaryICCID is Valid


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/120.ValidatePrimaryICCID/150.SetPostDataURL]

AdornOps=set DEG_Manage_Account_URLPost_Data imsi=
AdornOps=+ DEG_Manage_Account_URLPost_Data DEG_OEMDevImsiString DEG_Manage_Account_URLPost_Data
AdornOps=+ DEG_Manage_Account_URLPost_Data &primary_iccid= DEG_Manage_Account_URLPost_Data
AdornOps=+ DEG_Manage_Account_URLPost_Data DEG_OEMDevPrimaryICCIDString DEG_Manage_Account_URLPost_Data
AdornOps=+ DEG_Manage_Account_URLPost_Data &mdn= DEG_Manage_Account_URLPost_Data
AdornOps=+ DEG_Manage_Account_URLPost_Data DEG_MDN DEG_Manage_Account_URLPost_Data
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/120.ValidatePrimaryICCID/200.SetFailureLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevPrimaryIccidString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Invalid getSIMStatus action - primary_iccid is empty: 
NullAlso=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/120.ValidatePrimaryICCID/220.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=230.DEG31GenerateGetSIMStatusSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/120.ValidatePrimaryICCID/230.SetHTTPErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GSS.0006"
AdornOps=set DEG_OEMDevMessageString "primary_iccid is empty"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/130.CallCustomTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=214B.DEG30CallCustomGetSIMStatusRequestRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/150.GenerateMasterResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
TrueRuleChain=120.PopulateEndRule
TrueRuleChain=125.MasterResponse


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/150.GenerateMasterResponse/120.PopulateEndRule]

AdornOps=set DEG_OEMDevRespStatusString 6000
AdornOps=setifnull DEG_OEMDevSecondaryDevicePairedStatusString ""
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getSIMStatus response: "
AdornOps=set DEG_AuditNRBMessageString "Sending getSIMStatus response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ", secondary-devices-paired: "
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/150.GenerateMasterResponse/125.MasterResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
NMEToStructuredNMEMap=DEG_Manage_Account_URL,jsonResponse.manage_account_url.CData
NMEToStructuredNMEMap=DEG_Manage_Account_URLPost_Data,jsonResponse.manage_account_url_post_data.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/220A.DEG30ExtractGetSIMStatusRequestRuleChain/210.DEG31GenerateEndAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=210.DEG31GenerateGetSIMStatusEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/230.DEG31GenerateGetSIMStatusSystemErrorEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/230.DEG31GenerateGetSIMStatusSystemErrorEndAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditResultCodeString "400"
AdornOps=set DEG_AuditEntitlementNameString "Multi-SIM"
AdornOps=set DEG_AuditTransactionTypeString "getSIMStatus"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/230.DEG31GenerateGetSIMStatusSystemErrorEndAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "Sending getSIMStatus error response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/230.DEG31GenerateGetSIMStatusSystemErrorEndAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/230.DEG31GenerateGetSIMStatusSystemErrorEndAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "Sending getSIMStatus error response"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/230.DEG31GenerateGetSIMStatusSystemErrorEndAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/708.DEG30GenerateGetSIMStatusStartAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditNRBMessageAttribute
RuleNames=500.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/708.DEG30GenerateGetSIMStatusStartAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_CDevProcessStartTimeLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString "0"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString "Multi-SIM"
AdornOps=set DEG_AuditTransactionTypeString "getSIMStatus"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/708.DEG30GenerateGetSIMStatusStartAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEVICE TO DEG -> Received getSIMStatus request: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/708.DEG30GenerateGetSIMStatusStartAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/708.DEG30GenerateGetSIMStatusStartAuditDataRuleChain/400.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "getSIMStatus request received"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetSIMStatus_V2Core/RuleChains/708.DEG30GenerateGetSIMStatusStartAuditDataRuleChain/500.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true
