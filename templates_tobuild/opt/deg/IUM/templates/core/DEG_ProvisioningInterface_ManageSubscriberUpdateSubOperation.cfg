

[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation]


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/ReferenceDataService]

QueryNames=DEG_SUBSCRIBERS_DEG_ENTITLEMENT_LISTLOOKUP


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/ReferenceDataService/DEG_SUBSCRIBERS_DEG_ENTITLEMENT_LISTLOOKUP]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
CommonPolicyID=Policy1
FieldExtracted=DEG_ENTITLEMENT_LIST,DEG_SubProvEntitlementListTblString,0
QueryString=SELECT %FIELDS FROM DEG_SUBSCRIBERS WHERE DEG_MDN=%DEG_SubProvMDNString AND DEG_IMSI=%DEG_SubProvIMSIString AND DEG_CustStatus='AE'
ResultAttribute=DEG_SubProvMatchFoundInteger
ResultIndexAttribute=DEG_SubProvIndexInteger


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/ReferenceDataService/DEG_SUBSCRIBERS_DEG_ENTITLEMENT_LISTLOOKUP/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=001.SetErrorInfo
RuleNames=100.LogAlarming


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/ReferenceDataService/DEG_SUBSCRIBERS_DEG_ENTITLEMENT_LISTLOOKUP/ErrorRule/001.SetErrorInfo]

AdornOps=set DEG_OEMDevErrorMessageString "Database Error:"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0604"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/ReferenceDataService/DEG_SUBSCRIBERS_DEG_ENTITLEMENT_LISTLOOKUP/ErrorRule/100.LogAlarming]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error:
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/ReferenceDataService/DEG_SUBSCRIBERS_DEG_ENTITLEMENT_LISTLOOKUP/FinalRule]

AdornOps=copy DEG_SubProvMatchFoundInteger DEG_SubProvMatchFoundInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/ReferenceDataService/DEG_SUBSCRIBERS_DEG_ENTITLEMENT_LISTLOOKUP/InitialRule]

AdornOps=set DEG_SubProvMatchFoundInteger 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/ReferenceDataService/DEG_SUBSCRIBERS_DEG_ENTITLEMENT_LISTLOOKUP/ResultRowRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Set_MatchFound


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/ReferenceDataService/DEG_SUBSCRIBERS_DEG_ENTITLEMENT_LISTLOOKUP/ResultRowRule/100.Set_MatchFound]

AdornOps=set DEG_SubProvMatchFoundInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains]

RuleChainNames=100.ManageSubscriberSubOperationRuleChain


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=101.Initialize
RuleNames=102.ExtractEntitlementListFromTable
RuleNames=103.CreateEntitlementList


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/101.Initialize]

AdornOps=set DEG_SubProvEntitlementNameAndStatusStringFromTable ""
AdornOps=set DEG_SubProvEntitlementNameStringFromTable ""
AdornOps=set DEG_SubProvEntitlementNameAndStatusStringFromSOAP ""
AdornOps=set DEG_SubProvEntitlementNameStringFromSOAP ""
AdornOps=set DEG_SubProvEntitlementNameAndStatusStringTmp1 ""
AdornOps=set DEG_SubProvEntitlementNameAndStatusString ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/102.ExtractEntitlementListFromTable]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_EntitlementSubOpString,=,"U"
Conditions=DEG_EntitlementSubOpString,=,"D"
DeleteOperation=200.DeleteEntitlementSubOperation
TrueRuleChain=UpdateOperation
TrueRuleChain=DeleteOperation
UpdateOperation=100.UpdateEntitlementSubOperation


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementListTblString,=,""
Conditions=DEG_EntitlementSubOpValueString,=,""
FalseRuleChain=001.SetTempString
FalseRuleChain=002.CreateEntitlementListFromSOAP
FalseRuleChain=003.FinalEntitlementList
Operations=or
TrueRuleChain=001.CopyEntitlementListFromSOAP


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/001.CopyEntitlementListFromSOAP]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementListTblString,=,""
FalseRuleChain=CopyEntitlementListFromTable
TrueRuleChain=CopyEntitlementListFromSOAP


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/001.CopyEntitlementListFromSOAP/CopyEntitlementListFromSOAP]

AdornOps=copy DEG_EntitlementSubOpValueString DEG_SubProvEntitlementListTblString
AdornOps=copy DEG_SubProvEntitlementListTblString DEG_ENTITLEMENT_LIST
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/001.CopyEntitlementListFromSOAP/CopyEntitlementListFromTable]

AdornOps=copy DEG_SubProvEntitlementListTblString DEG_SubProvEntitlementListTblString
AdornOps=copy DEG_SubProvEntitlementListTblString DEG_ENTITLEMENT_LIST
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/001.SetTempString]

AdornOps=set DEG_SubProvEntitlementNameAndStatusString ,
AdornOps=copy DEG_SubProvEntitlementListTblString DEG_SubProvEntitlementNameAndStatusStringTableTempSemi
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
Delimiter=,
SourceAttribute=DEG_SubProvEntitlementListTblString
TokenAttribute=DEG_SubProvEntitlementNameAndStatusStringFromTable


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule]

ClassName=RuleChain
RuleNames=101.InitVar
RuleNames=102.SplitEntitlementListFromSOAP


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/101.InitVar]

AdornOps=substr 0 "=" DEG_SubProvEntitlementNameAndStatusStringFromTable DEG_SubProvEntitlementNameStringFromTable
AdornOps=substr 0 "=" DEG_SubProvEntitlementListTblString DEG_SubProvSingleEntitlementNameStringFromTable
AdornOps=+ , DEG_SubProvEntitlementNameStringFromTable DEG_SubProvEntitlementNameStringFromTable
AdornOps=+ , DEG_SubProvSingleEntitlementNameStringFromTable DEG_SubProvSingleEntitlementNameStringFromTable
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/102.SplitEntitlementListFromSOAP]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
Delimiter=,
SourceAttribute=DEG_EntitlementSubOpValueString
TokenAttribute=DEG_SubProvEntitlementNameAndStatusStringFromSOAP


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/102.SplitEntitlementListFromSOAP/IterationRule]

ClassName=RuleChain
RuleNames=201.InitVar
RuleNames=202.MatchCheck


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/102.SplitEntitlementListFromSOAP/IterationRule/201.InitVar]

AdornOps=substr 0 "=" DEG_SubProvEntitlementNameAndStatusStringFromSOAP DEG_SubProvEntitlementNameStringFromSOAP
AdornOps=+ , DEG_SubProvEntitlementNameStringFromSOAP DEG_SubProvEntitlementNameStringFromSOAP
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/102.SplitEntitlementListFromSOAP/IterationRule/202.MatchCheck]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementNameStringFromSOAP,=,DEG_SubProvEntitlementNameStringFromTable
Conditions=DEG_SubProvEntitlementNameStringFromSOAP,=,DEG_SubProvSingleEntitlementNameStringFromTable
FalseRuleChain=003.UnMatchedEntitlementFromSOAP
FalseRuleChain=002.UnMatchedEntitlementFromTable
Operations=or
TrueRuleChain=001.MatchedEntitlementFromSOAP


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/102.SplitEntitlementListFromSOAP/IterationRule/202.MatchCheck/001.MatchedEntitlementFromSOAP]

AdornOps=copy DEG_SubProvEntitlementNameAndStatusStringFromSOAP DEG_SubProvEntitlementNameAndStatusStringTmp1
AdornOps=+ DEG_SubProvEntitlementNameAndStatusStringTmp1 , DEG_SubProvEntitlementNameAndStatusStringTmp1
AdornOps=+ DEG_SubProvEntitlementNameAndStatusString DEG_SubProvEntitlementNameAndStatusStringTmp1 DEG_SubProvEntitlementNameAndStatusString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/102.SplitEntitlementListFromSOAP/IterationRule/202.MatchCheck/002.UnMatchedEntitlementFromTable]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementNameAndStatusString,!contains,DEG_SubProvEntitlementNameStringFromTable
Conditions=DEG_EntitlementSubOpValueString,!contains,DEG_SubProvEntitlementNameStringFromTable
Operations=and
TrueRuleChain=000.CopyFromTable


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/102.SplitEntitlementListFromSOAP/IterationRule/202.MatchCheck/002.UnMatchedEntitlementFromTable/000.CopyFromTable]

AdornOps=copy DEG_SubProvEntitlementNameAndStatusStringFromTable DEG_SubProvEntitlementNameAndStatusStringTmp1
AdornOps=+ DEG_SubProvEntitlementNameAndStatusStringTmp1 , DEG_SubProvEntitlementNameAndStatusStringTmp1
AdornOps=+ DEG_SubProvEntitlementNameAndStatusString DEG_SubProvEntitlementNameAndStatusStringTmp1 DEG_SubProvEntitlementNameAndStatusString 
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/102.SplitEntitlementListFromSOAP/IterationRule/202.MatchCheck/003.UnMatchedEntitlementFromSOAP]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementNameAndStatusString,!contains,DEG_SubProvEntitlementNameStringFromSOAP
Conditions=DEG_SubProvEntitlementListTblString,!contains,DEG_SubProvEntitlementNameStringFromSOAP
Operations=and
TrueRuleChain=000.CopyFromTable


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/002.CreateEntitlementListFromSOAP/IterationRule/102.SplitEntitlementListFromSOAP/IterationRule/202.MatchCheck/003.UnMatchedEntitlementFromSOAP/000.CopyFromTable]

AdornOps=copy DEG_SubProvEntitlementNameAndStatusStringFromSOAP DEG_SubProvEntitlementNameAndStatusStringTmp1
AdornOps=+ DEG_SubProvEntitlementNameAndStatusStringTmp1 , DEG_SubProvEntitlementNameAndStatusStringTmp1
AdornOps=+ DEG_SubProvEntitlementNameAndStatusString DEG_SubProvEntitlementNameAndStatusStringTmp1 DEG_SubProvEntitlementNameAndStatusString 
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/100.UpdateEntitlementSubOperation/003.FinalEntitlementList]

AdornOps=substr 1 length-1 DEG_SubProvEntitlementNameAndStatusString DEG_SubProvEntitlementNameAndStatusString
AdornOps=copy DEG_SubProvEntitlementNameAndStatusString DEG_SubProvEntitlementListTblString
AdornOps=copy DEG_SubProvEntitlementListTblString DEG_ENTITLEMENT_LIST
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=200.AppendCommaToTableEntitlementList
RuleNames=201.ValidateEntitlementFromSOAP
RuleNames=202.CreateFinaEntitlementList
RuleNames=203.LogValidationError


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/200.AppendCommaToTableEntitlementList]

AdornOps=+ , DEG_SubProvEntitlementListTblString DEG_SubProvEntitlementListTblString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
Delimiter=,
SourceAttribute=DEG_EntitlementSubOpValueString
TokenAttribute=DEG_SubProvEntitlementNameAndStatusStringFromSOAP


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule]

ClassName=RuleChain
RuleNames=101.SplitEntitlementListFromSOAP
RuleNames=102.ModifyEntitlement
RuleNames=103.ValidateEntitlement
RuleNames=104.IterateTableEntitlementList


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/101.SplitEntitlementListFromSOAP]

ClassName=ConditionalRule
Conditions=DEG_SubProvEntitlementNameAndStatusStringFromSOAP,contains,"="
FalseRuleChain=CopyEntitlementName
TrueRuleChain=ExtractEntitlementName


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/101.SplitEntitlementListFromSOAP/CopyEntitlementName]

AdornOps=copy DEG_SubProvEntitlementNameAndStatusStringFromSOAP DEG_SubProvEntitlementNameAndStatusStringFromSOAPSemi
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/101.SplitEntitlementListFromSOAP/ExtractEntitlementName]

AdornOps=substr 0 "=" DEG_SubProvEntitlementNameAndStatusStringFromSOAP DEG_SubProvEntitlementNameAndStatusStringFromSOAPSemi
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/102.ModifyEntitlement]

AdornOps=+ , DEG_SubProvEntitlementNameAndStatusStringFromSOAPSemi DEG_SubProvEntitlementNameAndStatusStringFromSOAPSemi
AdornOps=+ , DEG_SubProvEntitlementNameAndStatusStringFromSOAP DEG_SubProvEntitlementNameAndStatusStringFromSOAP
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/103.ValidateEntitlement]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementListTblString,!contains,DEG_SubProvEntitlementNameAndStatusStringFromSOAPSemi
Conditions=DEG_SubProvEntitlementListTblString,!contains,DEG_SubProvEntitlementNameAndStatusStringFromSOAP
Operations=or
TrueRuleChain=SetValidationError


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/103.ValidateEntitlement/SetValidationError]

AdornOps=set DEG_SubProvEntitlementDeleteValidationErrorString "Validation Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/104.IterateTableEntitlementList]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
Delimiter=,
SourceAttribute=DEG_SubProvEntitlementListTblString
TokenAttribute=DEG_SubProvEntitlementNameAndStatusStringFromTable


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/104.IterateTableEntitlementList/IterationRule]

ClassName=RuleChain
RuleNames=100.InitVar
RuleNames=110.CheckEntitlementNameAndStatus


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/104.IterateTableEntitlementList/IterationRule/100.InitVar]

AdornOps=substr 0 "=" DEG_SubProvEntitlementNameAndStatusStringFromTable DEG_SubProvEntitlementNameStringFromTable
AdornOps=+ , DEG_SubProvEntitlementNameStringFromTable DEG_SubProvEntitlementNameStringFromTable
AdornOps=+ , DEG_SubProvEntitlementNameAndStatusStringFromTable DEG_SubProvEntitlementNameAndStatusStringFromTable
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/104.IterateTableEntitlementList/IterationRule/110.CheckEntitlementNameAndStatus]

ClassName=ConditionalRule
Conditions=DEG_SubProvEntitlementNameAndStatusStringFromSOAP,contains,"="
FalseRuleChain=CompareEntitlementName
TrueRuleChain=CompareEntitlementNameAndStatus


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/104.IterateTableEntitlementList/IterationRule/110.CheckEntitlementNameAndStatus/CompareEntitlementName]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementNameAndStatusStringFromSOAPSemi,=,DEG_SubProvEntitlementNameStringFromTable
TrueRuleChain=DeleteEntitlementFromList


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/104.IterateTableEntitlementList/IterationRule/110.CheckEntitlementNameAndStatus/CompareEntitlementName/DeleteEntitlementFromList]

AdornOps=replace DEG_SubProvEntitlementNameAndStatusStringFromTable DEG_SubProvEntitlementNameAndStatusStringTmp1 DEG_SubProvEntitlementListTblString DEG_SubProvEntitlementListTblString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/104.IterateTableEntitlementList/IterationRule/110.CheckEntitlementNameAndStatus/CompareEntitlementNameAndStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementNameAndStatusStringFromSOAP,=,DEG_SubProvEntitlementNameAndStatusStringFromTable
TrueRuleChain=DeleteEntitlementFromList


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/201.ValidateEntitlementFromSOAP/IterationRule/104.IterateTableEntitlementList/IterationRule/110.CheckEntitlementNameAndStatus/CompareEntitlementNameAndStatus/DeleteEntitlementFromList]

AdornOps=replace DEG_SubProvEntitlementNameAndStatusStringFromTable DEG_SubProvEntitlementNameAndStatusStringTmp1 DEG_SubProvEntitlementListTblString DEG_SubProvEntitlementListTblString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/202.CreateFinaEntitlementList]

AdornOps=substr 1 length DEG_SubProvEntitlementListTblString DEG_ENTITLEMENT_LIST
AdornOps=copy DEG_ENTITLEMENT_LIST DEG_SubProvEntitlementListTblString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/203.LogValidationError]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SubProvEntitlementDeleteValidationErrorString,=,"Validation Error"
TrueRuleChain=110.SetErrorInfo
TrueRuleChain=001.LogValidationError


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/203.LogValidationError/001.LogValidationError]

Attributes=DEG_ENTITLEMENT_LIST
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=The Entitlement received from SOAP could not be found in Subscribers table Entitlement List,and processing will continue.


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/100.ManageSubscriberSubOperationRuleChain/103.CreateEntitlementList/200.DeleteEntitlementSubOperation/203.LogValidationError/110.SetErrorInfo]

AdornOps=set DEG_OEMDevErrorMessageString "Entitlement received from SOAP not found Subscribers table Entitlement List"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0601"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.ExecuteLookup
RuleNames=300.CheckLookupStatus


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain/100.InitLookup]

AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=set log_Table_Name "DEG_SUBSCRIBERS"
AdornOps=set log_DB_Operation "SELECT"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain/200.ExecuteLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_MIN,DEG_SubProvMINTblString
MapAttributes=DEG_CUSTIDINT,DEG_SubProvCustomerIdentityTblString
MapAttributes=DEG_CUSTCATIDINT,DEG_SubProvCustomerCategoryTblString
MapAttributes=DEG_ESN,DEG_SubProvESNTblString
MapAttributes=DEG_MEID,DEG_SubProvMEIDTblString
MapAttributes=DEG_IMEI,DEG_SubProvIMEITblString
MapAttributes=DEG_ICCID,DEG_SubProvICCIDTblString
MapAttributes=DEG_CustStatus,DEG_SubProvCustomerStatusTblString
MapAttributes=DEG_ENTITLEMENT_LIST,DEG_SubProvEntitlementListTblString
NativeCondition=4.MatchByPrimaryMDNAndIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SUBSCRIBERS_SessionStore


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SubProvSessionStoreErrorFlagInteger,=,1
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_SubProvSessionStoreKeyExistsFlagInteger,=,1
DBError=100.DBErrorSetValues
DBError=110.LogDBError
Operations=None
SetSubscriberExistsFlag=220.SetSubscriberExistsFlag
SetSubscriberNotExist=200.SetSubscriberNotExist
SetSubscriberNotExist=210.LogSubscriberNotExist
TrueRuleChain=DBError
TrueRuleChain=SetSubscriberNotExist
TrueRuleChain=SetSubscriberExistsFlag


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/100.DBErrorSetValues]

AdornOps=set DEG_SubProvResponseCodeString "04"
AdornOps=set DEG_SubProvReturnCodeInteger 5
AdornOps=set DEG_OEMDevErrorMessageString "System error while DEG_SUBSCRIBERS ENTITLEMENT_LIST lookup"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0602"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/110.LogDBError]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=log_Table_Name
Attributes=log_DB_Operation
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=System error while DEG_SUBSCRIBERS ENTITLEMENT_LIST lookup:
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/200.SetSubscriberNotExist]

AdornOps=set DEG_SubProvResponseCodeString "07"
AdornOps=set DEG_SubProvReturnCodeInteger 2
AdornOps=set DEG_OEMDevErrorMessageString "ENTITLEMENT_LIST does not exist:"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.PI.0603"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/210.LogSubscriberNotExist]

Attributes=DEG_SubProvMDNString
Attributes=DEG_SubProvIMSIString
Attributes=DEG_SubProvResponseCodeString
Attributes=DEG_SubProvReturnCodeInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=ENTITLEMENT_LIST does not exist:
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/ProvisioningInterface/CheckEntitlementSubOperation/RuleChains/130.LookupEntitlementListByPrimaryIMSIAndMDNRuleChain/300.CheckLookupStatus/220.SetSubscriberExistsFlag]

AdornOps=set DEG_SubProvExistsFlag 1
ClassName=com.hp.siu.collector.rules.AdornmentRule
