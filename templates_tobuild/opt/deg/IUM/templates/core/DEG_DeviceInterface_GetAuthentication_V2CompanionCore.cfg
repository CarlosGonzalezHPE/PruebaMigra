

[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore]


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains]

RuleChainNames=225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain
RuleChainNames=225B.DEG21GenerateOEMResponseRuleChain
RuleChainNames=225C.DEG21CompanionStoreTokenRuleChain
RuleChainNames=225D.DEG21UpdateCompanionTokenRuleChain
RuleChainNames=225E.DEG21UpdateSslSessionStateRuleChain
RuleChainNames=225F.DEG21UpdateIMSDataRuleChain
RuleChainNames=225E.DEG21UpdateAndDeleteDBRuleChain
RuleChainNames=800.DEG21GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditDataRuleChain
RuleChainNames=801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain
RuleChainNames=802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.ProcessAction
RuleNames=200.GenerateGetAuthenticationEndAuditData


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction]

CheckIfSubscriberProvisioned=600.CheckIfSubscriberProvisioned
CheckIfSubscriberProvisioned=601.CheckKeyExistsFlag
ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
ExtractImsiFromSubscriberIdAttribute=500.ExtractImsiFromSubscriberIdAttribute
GenerateGetAuthenticationStartAuditData=100.MonitorSessionRuleChain
GenerateGetAuthenticationStartAuditData=110.GenerateGetAuthenticationStartAuditData
GenerateOEMResponse=700.GenerateOEMResponse
GetDataFromDeviceDataTable=800.GetDataFromDeviceDataTable
InitVariables=100.InitVariables
Operations=DoAll
SetCustFeaturesListValue=610.SetCustFeaturesListValue
TrueRuleChain=InitVariables
TrueRuleChain=ValidateSubscriberIdAttribute
TrueRuleChain=ValidateServiceToken
TrueRuleChain=ValidateUniqueId
TrueRuleChain=ExtractImsiFromSubscriberIdAttribute
TrueRuleChain=GenerateGetAuthenticationStartAuditData
TrueRuleChain=GetDataFromDeviceDataTable
TrueRuleChain=CheckIfSubscriberProvisioned
TrueRuleChain=SetCustFeaturesListValue
TrueRuleChain=GenerateOEMResponse
ValidateServiceToken=300.ValidateServiceToken
ValidateSubscriberIdAttribute=200.ValidateSubscriberIdAttribute
ValidateUniqueId=400.ValidateUniqueId


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/100.InitVariables]

AdornOps=set DEG_OEMDevDeviceTypeString "Companion"
AdornOps=set DEG_OEMDevtempGatewayAddressString ${GATEWAY_ADDRESS_COMPANION}
AdornOps=lower DEG_OEMDevtempGatewayAddressString DEG_OEMDevGatewayAddressString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/100.MonitorSessionRuleChain]

ClassName=LocalRuleChainInvoker
RuleChain=400A.ProcessSubscriberExistsResponseRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/110.GenerateGetAuthenticationStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=500.GenerateGetAuthenticationStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/200.ValidateSubscriberIdAttribute]

ClassName=com.hp.siu.collector.rules.PerlRegExStringRule
FalseRuleChain=200.SetHttpErrorResponse
FalseRuleChain=210.ErrorLog
FalseRuleChain=230.GenerateGetAuthenticationStartAuditData
FalseRuleChain=220.GenerateErrorEndAudit
Operation=match
RegExPattern=${SUBSCRIBERID_PATTERN}
SourceAttribute=DEG_OEMDevSubscriberIdString


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/200.ValidateSubscriberIdAttribute/200.SetHttpErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1401"
AdornOps=set DEG_OEMDevErrorMessageString "Subscriber-id attribute not NAI format"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/200.ValidateSubscriberIdAttribute/210.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevAuthTypeString
Attributes=DEG_OEMDevSubscriberIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Invalid getAuthenticate action - subscriber-id attribute must be in NAI format: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/200.ValidateSubscriberIdAttribute/220.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=777.GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/200.ValidateSubscriberIdAttribute/230.GenerateGetAuthenticationStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=500.GenerateGetAuthenticationStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/300.ValidateServiceToken]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevServiceTokenString,=,""
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=130.GenerateGetAuthenticationStartAuditData
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/300.ValidateServiceToken/100.SetHTTPErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1402"
AdornOps=set DEG_OEMDevErrorMessageString "Service Token is empty"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/300.ValidateServiceToken/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevTokenString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Invalid getAuthenticate action - Service token is empty: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/300.ValidateServiceToken/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=777.GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/300.ValidateServiceToken/130.GenerateGetAuthenticationStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=500.GenerateGetAuthenticationStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/400.ValidateUniqueId]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevUniqueIdString,=,""
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=130.GenerateGetAuthenticationStartAuditData
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/400.ValidateUniqueId/100.SetHTTPErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1403"
AdornOps=set DEG_OEMDevErrorMessageString "UniqueID is empty"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/400.ValidateUniqueId/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevTokenString
Attributes=DEG_OEMDevUniqueIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Invalid getAuthenticate action - UniqueID is empty: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/400.ValidateUniqueId/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=777.GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/400.ValidateUniqueId/130.GenerateGetAuthenticationStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=500.GenerateGetAuthenticationStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/500.ExtractImsiFromSubscriberIdAttribute]

AdornOps=substr "0" "@" DEG_OEMDevSubscriberIdString DEG_OEMDevImsiString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/600.CheckIfSubscriberProvisioned]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=400.GetSubscriberProfileRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=CUST_GSP_OUT_JSON_Response_Code_String,!=,"0"
Conditions=CUST_GSP_OUT_Reset_GetAuth_Flag_Integer,=,1
Conditions=CUST_GSP_OUT_Reset_IMS_Flag_Integer,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
DBConnectionError=100.SetErrorInfo
DBConnectionError=110.ErrorLog
DeleteRowFromTable=200.DeleteCompanionTokenTable
DeleteRowFromTable=200.DeleteDeviceDataTable
Operations=None
ResetIMSTable=300.CheckAndResetIMSDataWithImsi
SetCarrierResponse=130.SetHTTPErrorResponse
SetCarrierResponse=140.SetErrorResponse
SetCarrierResponse=150.CallGetAuthenticationDisallowedActionEndAuditDataRuleChain
SubscriberExist=200.SetErrorInfo
SubscriberExist=300.ProcessSubscriberExistsResponse
SubscriberExist=310.CheckMsessionKeyFlag
TrueRuleChain=DBConnectionError
TrueRuleChain=SetCarrierResponse
TrueRuleChain=DeleteRowFromTable
TrueRuleChain=ResetIMSTable
TrueRuleChain=UnknownSubscriber
TrueRuleChain=SubscriberExist
UnknownSubscriber=100.UnknownSubscriber_GenerateResponse
UnknownSubscriber=101.SetTransactionType
UnknownSubscriber=110.GenerateGetAuthenticationUnknownSubscriberEndAuditData


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1404"
AdornOps=set DEG_OEMDevErrorMessageString "Failed to get subscriber profile information"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/100.UnknownSubscriber_GenerateResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/101.SetTransactionType]

AdornOps=set DEG_AuditTransactionTypeString "getAuthentication"
AdornOps=set DEG_AuditSourceDestinationString "Device"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevAuthTypeString
Attributes=DEG_OEMDevSubscriberIdString
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Error: Failed to get subscriber profile information from 400.GetSubscriberProfileRuleChain :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/110.GenerateGetAuthenticationUnknownSubscriberEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=506.GenerateGetAuthenticationUnknownSubscriberEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/130.SetHTTPErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=setifnull CUST_GSP_OUT_SSL_STATE_String ""
AdornOps=copy CUST_GSP_OUT_SSL_STATE_String DEG_SSL_STATE
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=copy CUST_GSP_OUT_JSON_Response_Code_String DEG_OEMDevRespStatusString
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1436"
AdornOps=set DEG_OEMDevErrorMessageString "Get Auth error response is set in custom code."
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/140.SetErrorResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/150.CallGetAuthenticationDisallowedActionEndAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteCompanionTokenTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDeleteSession
RuleNames=300.ExecuteDeleteSession
RuleNames=400.CheckDeleteSessionStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteCompanionTokenTable/100.InitDeleteSession]

AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_COMPANION_TOKENS"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteCompanionTokenTable/300.ExecuteDeleteSession]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=1.MatchByImsi
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_COMPANION_TOKENS_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteCompanionTokenTable/400.CheckDeleteSessionStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
DBError=105.LogDBErrorInfo
DBError=110.LogDBError
Operations=None
SubscriberDoesNotExist=100.SetErrorInfo
SubscriberDoesNotExist=200.LogSubscriberDoesNotExist
TrueRuleChain=DBError
TrueRuleChain=SubscriberDoesNotExist


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteCompanionTokenTable/400.CheckDeleteSessionStatus/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1407"
AdornOps=set DEG_OEMDevErrorMessageString "Subscriber IMSI does not exist in DEG_COMPANION_TOKENS table :"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteCompanionTokenTable/400.CheckDeleteSessionStatus/105.LogDBErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1406"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to delete from DEG_COMPANION_TOKENS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteCompanionTokenTable/400.CheckDeleteSessionStatus/110.LogDBError]

Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to delete from DEG_COMPANION_TOKENS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteCompanionTokenTable/400.CheckDeleteSessionStatus/200.LogSubscriberDoesNotExist]

Attributes=log_Table_Name
Attributes=log_DB_Operation
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Subscriber IMSI does not exist in DEG_COMPANION_TOKENS table :
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteDeviceDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDeviceDataUpdate
RuleNames=200.DeleteDeviceDataTable
RuleNames=300.CheckDeleteStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteDeviceDataTable/100.InitDeviceDataUpdate]

AdornOps=set log_DB_Operation DELETE
AdornOps=set log_Table_Name DEG_DEVICE_DATA
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteDeviceDataTable/200.DeleteDeviceDataTable]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=1.MatchByIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_DEVICE_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteDeviceDataTable/300.CheckDeleteStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
FalseRuleChain=200.CheckKeyExists
TrueRuleChain=100.SystemError_SetResponse
TrueRuleChain=110.SystemError_Log


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteDeviceDataTable/300.CheckDeleteStatus/100.SystemError_SetResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1408"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteDeviceDataTable/300.CheckDeleteStatus/110.SystemError_Log]

Attributes=DEG_OEMDevImsiString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
Message=Unable to perform delete operation on DEG_DEVICE_DATA table: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteDeviceDataTable/300.CheckDeleteStatus/200.CheckKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteDeviceDataTable/300.CheckDeleteStatus/200.CheckKeyExists/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1409"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.DeleteDeviceDataTable/300.CheckDeleteStatus/200.CheckKeyExists/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Database Error: No data in DEG_DEVICE_DATA session store
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/200.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1405"
AdornOps=set DEG_OEMDevErrorMessageString "Row found from DEG_SUBSCRIBERS table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DeviceIdListLength,=,PrivateIdListLength
Conditions=DeviceIdListLength,=,PublicIdListLength
Conditions=DeviceIdListLength,=,SipUsernameListLength
Conditions=DeviceIdListLength,=,SipPasswordListLength
FalseRuleChain=300.ListLengthMismatchError
Operations=and,and,and
TrueRuleChain=100.DeleteIMSDataWithImsi
TrueRuleChain=200.CheckListAndInsert


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/100.DeleteIMSDataWithImsi]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=110.InitializeVariables
RuleNames=120.DeleteIMSData
RuleNames=130.CheckErrorFlag


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/100.DeleteIMSDataWithImsi/110.InitializeVariables]

AdornOps=set log_DB_Operation "DELETE"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=set DEG_SubProvSessionStoreErrorFlagInteger 0
AdornOps=set DEG_SubProvSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevImsiString DEG_IMSI
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/100.DeleteIMSDataWithImsi/120.DeleteIMSData]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=1.MatchByIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/100.DeleteIMSDataWithImsi/130.CheckErrorFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevDBErrorFlagInteger,!=,0
TrueRuleChain=110.SetErrorInfo
TrueRuleChain=120.SetErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/100.DeleteIMSDataWithImsi/130.CheckErrorFlag/110.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1410"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/100.DeleteIMSDataWithImsi/130.CheckErrorFlag/120.SetErrorLog]

Attributes=DEG_IMSI
Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_PROVISIONING_STATUS
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to perform Update or access DEG_IMS_DATA table
NullAlso=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DeviceIdListLength,>,0
TrueRuleChain=200.ExtractOutListVariablesAndInsert


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert/200.ExtractOutListVariablesAndInsert]

ClassName=ListAttributeIterator
ListAttributeName=CUST_GSP_OUT_IMS_DEVICE_ID_List
ListAttributeName=CUST_GSP_OUT_IMS_PRIVATE_ID_List
ListAttributeName=CUST_GSP_OUT_IMS_PUBLIC_ID_List
ListAttributeName=CUST_GSP_OUT_IMS_SIP_USERNAME_List
ListAttributeName=CUST_GSP_OUT_IMS_SIP_PASSWORD_List
RuleChain=90.SetErrorInfo
RuleChain=100.CheckLog
RuleChain=100.InsertIntoImsData
TmpAttributeName=DEG_DEVICE_ID
TmpAttributeName=DEG_IMS_PRIVATE_ID
TmpAttributeName=DEG_IMS_PUBLIC_ID
TmpAttributeName=DEG_SIP_USERNAME
TmpAttributeName=DEG_SIP_PASSWORD


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert/200.ExtractOutListVariablesAndInsert/100.CheckLog]

Attributes=DEG_DEVICE_ID
Attributes=DEG_IMS_PRIVATE_ID
Attributes=DEG_SIP_USERNAME
Attributes=DEG_IMS_PUBLIC_ID
Attributes=DEG_SIP_PASSWORD
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=DEBUG
Message=<<<<<CheckLog::>>>>>


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert/200.ExtractOutListVariablesAndInsert/100.InsertIntoImsData]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitializeVariables
RuleNames=110.CreateIMSData
RuleNames=120.CheckErrorFlag


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert/200.ExtractOutListVariablesAndInsert/100.InsertIntoImsData/100.InitializeVariables]

AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=setifnull DEG_OEMDevSipUserNameString ""
AdornOps=setifnull DEG_OEMDevSipPasswordString ""
AdornOps=setifnull DEG_OEMDevPublicIDString ""
AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=set DEG_UNIQUE_ID ""
AdornOps=setsystime DEG_PROVTIME
AdornOps=setsystime DEG_LASTUPDATE
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert/200.ExtractOutListVariablesAndInsert/100.InsertIntoImsData/110.CreateIMSData]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
DuplicateErrorRuleChain=002.SessionStoreDuplicateKeyRuleChain
LogInvalidSession=false
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert/200.ExtractOutListVariablesAndInsert/100.InsertIntoImsData/120.CheckErrorFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert/200.ExtractOutListVariablesAndInsert/100.InsertIntoImsData/120.CheckErrorFlag/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1412"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert/200.ExtractOutListVariablesAndInsert/100.InsertIntoImsData/120.CheckErrorFlag/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_DEVICE_ID
Attributes=DEG_SIP_PASSWORD
Attributes=DEG_SIP_USERNAME
Attributes=DEG_IMS_PUBLIC_ID
Attributes=DEG_CDevProcessingErrorIdString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to create entry in DEG_IMS_DATA session store
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/200.CheckListAndInsert/200.ExtractOutListVariablesAndInsert/90.SetErrorInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GA.1411"
AdornOps=set DEG_OEMDevMessageString "CheckLog::"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/300.ListLengthMismatchError]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetHTTPErrorResponse
RuleNames=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/300.ListLengthMismatchError/100.SetHTTPErrorResponse]

AdornOps=set DEG_OEMDevRespStatusString 6005
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1413"
AdornOps=set DEG_OEMDevErrorMessageString "Error while updating DEG_IMS_DATA table"
AdornOps=set DEG_OEMDevSetProvisioningRequestProcessedInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.CheckAndResetIMSDataWithImsi/300.ListLengthMismatchError/110.ErrorLog]

Attributes=DeviceIdListLength
Attributes=PublicIdListLength
Attributes=SipUsernameListLength
Attributes=SipPasswordListLength
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=LIST Length Mismatch while updating DEG_IMS_DATA table :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/300.ProcessSubscriberExistsResponse]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_OEMDevAuthTypeString
Attributes=DEG_OEMDevSubscriberIdString
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Row found from DEG_SUBSCRIBERS table
NullAlso=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/310.CheckMsessionKeyFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SessionKeyInteger,=,1
TrueRuleChain=100.CopyMDNToMSessionKey
TrueRuleChain=200.QueryMonitoredSessionsMDN


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/310.CheckMsessionKeyFlag/100.CopyMDNToMSessionKey]

ClassName=ConditionalRule
Conditions=DEG_OEMDevRespPhoneNumberString,=,""
FalseRuleChain=200.CopyRespPhoneNumberToMDN
TrueRuleChain=100.CopyDirect


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/310.CheckMsessionKeyFlag/100.CopyMDNToMSessionKey/100.CopyDirect]

AdornOps=set DEG_NrbMonitoringSessionIdList null
AdornOps=copy DEG_MDN DEG_MSESSIONKEY
AdornOps=copy DEG_MDN DEG_OEMDevRespPhoneNumberString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/310.CheckMsessionKeyFlag/100.CopyMDNToMSessionKey/200.CopyRespPhoneNumberToMDN]

AdornOps=copy DEG_MDN DEG_OEMDevRespPhoneNumberString
AdornOps=copy DEG_MDN DEG_MSESSIONKEY
AdornOps=set DEG_NrbMonitoringSessionIdList null
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/601.CheckKeyExistsFlag/310.CheckMsessionKeyFlag/200.QueryMonitoredSessionsMDN]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/610.SetCustFeaturesListValue]

AdornOps=set DEG_SSL_STATE "AUTHENTICATED_BY_DEG_TOKEN"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/700.GenerateOEMResponse]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=225B.DEG21GenerateOEMResponseRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/800.GetDataFromDeviceDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitVariables
RuleNames=110.LookupDeviceDataTable


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/800.GetDataFromDeviceDataTable/100.InitVariables]

AdornOps=set log_DB_Operation SELECT
AdornOps=set log_Table_Name DEG_DEVICE_DATA
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevUniqueIDString DEG_UNIQUE_ID
AdornOps=set DEG_ENTITLEMENT_NAME ${ICLOUDVOWIFI_ENTITLEMENT_NAME}
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/100.ProcessAction/800.GetDataFromDeviceDataTable/110.LookupDeviceDataTable]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=223O.DEG30GetDeviceDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/200.GenerateGetAuthenticationEndAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,!=,1
Conditions=DEG_SSL_STATE,!=,UNKNOWN_SUBSCRIBER
Description=Unknown Subscriber case already Handled
Operations=and
TrueRuleChain=200.CheckAuthenticationState


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/200.GenerateGetAuthenticationEndAuditData/100.AuthenticationAkaRejected]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/200.GenerateGetAuthenticationEndAuditData/200.CheckAuthenticationState]

AkaRejected=100.GenerateGetAuthenticationAkaRejectedEndAuditData
AuthenticatedDEGToken=200.GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditData
ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SSL_STATE,=,"AKA_CHALLENGE_REJECTED_BY_DEG_TOKEN"
Conditions=DEG_SSL_STATE,=,"AUTHENTICATED_BY_DEG_TOKEN"
Conditions=DEG_SSL_STATE,=,"DISALLOWED_ACTION"
Operations=None
StatusDisallowed=300.GenerateGetAuthenticationDisallowedActionEndAuditData
TrueRuleChain=AkaRejected
TrueRuleChain=AuthenticatedDEGToken
TrueRuleChain=StatusDisallowed


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/200.GenerateGetAuthenticationEndAuditData/200.CheckAuthenticationState/100.GenerateGetAuthenticationAkaRejectedEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/200.GenerateGetAuthenticationEndAuditData/200.CheckAuthenticationState/200.GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=800.DEG21GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225.DEG21ProcessOEMGetAuthenticationCompanionRuleChain/200.GenerateGetAuthenticationEndAuditData/200.CheckAuthenticationState/300.GenerateGetAuthenticationDisallowedActionEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.GenerateOEMResponse


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse]

AkaRejected=300.AkaRejected_InitResponse
AkaRejected=310.AkaRejected_GenerateResponse
Authenticated=200.Authenticated_InitResponse
Authenticated=210.Authenticated_SetUniqueId
Authenticated=215.Authenticated_UserAgent
Authenticated=220.Authenticated_CompanionStoreToken
Authenticated=230.CheckRequestProcessedInteger
ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SSL_STATE,=,"UNKNOWN_SUBSCRIBER"
Conditions=DEG_SSL_STATE,starts,"AUTHENTICATED"
Conditions=DEG_SSL_STATE,starts,"AKA_CHALLENGE_REJECTED"
Conditions=DEG_SSL_STATE,=,"DISALLOWED_ACTION"
Conditions=DEG_SSL_STATE,=,DEG_SSL_STATE
Operations=None
StatusDisallowed=600.DisallowedAction_InitResponse
StatusDisallowed=610.DisallowedAction_GenerateResponse
TrueRuleChain=UnknownSubscriber
TrueRuleChain=Authenticated
TrueRuleChain=AkaRejected
TrueRuleChain=StatusDisallowed
TrueRuleChain=Unknown
Unknown=400.Unknown_SetHttpErrorResponseTo500C
UnknownSubscriber=100.UnknownSubscriber_InitResponse
UnknownSubscriber=110.UnknownSubscriber_GenerateResponse


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/100.UnknownSubscriber_InitResponse]

AdornOps=set DEG_OEMDevRespStatusString 6004
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/110.UnknownSubscriber_GenerateResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/200.Authenticated_InitResponse]

AdornOps=set DEG_OEMDevRespStatusString 6000
AdornOps=set DEG_OEMDevtempEntitlementServerAddressString ${ENTITLEMENT_SERVERADDRESS}
AdornOps=lower DEG_OEMDevtempEntitlementServerAddressString DEG_OEMDevEntitlementServerAddressString 
AdornOps=set DEG_OEMDevConnectivityAuthTypeString ${CONNECTIVITY_AUTH_TYPE}
AdornOps=copy DEG_OEMDevServiceTokenString DEG_OEMDevResponseServiceTokenString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/210.Authenticated_SetUniqueId]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=225E.DEG21UpdateAndDeleteDBRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/210.Authenticated_StoreToken]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RequestAttributes=DEG_CDevMobileNumberString
RequestAttributes=DEG_IMSI
RequestAttributes=DEG_CDevTokenString
RequestAttributes=DEG_AUTHENTICATION_TYPE
RequestAttributes=DEG_AUTHENTICATION_SUBTYPE
RequestAttributes=DEG_APP_TOKEN_FLAG
RequestAttributes=DEG_FULLAUTHTIMESTAMP
ResponseAttributes=DEG_OEMDevErrorMessageString
ResponseAttributes=DEG_EVENTTIMESTAMP
RuleChain=005.StoreTokenRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/215.Authenticated_UserAgent]

ClassName=RuleChain
RuleNames=100.CopyCoreNMEToCustNME
RuleNames=200.CallUserAgentCustomTemplate
RuleNames=205.CheckoutuserAgentValues


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/215.Authenticated_UserAgent/100.CopyCoreNMEToCustNME]

AdornOps=setifnull CUST_GAC_OUT_UserAgentString ""
AdornOps=copy DEG_OEMDevUserAgentString DEG_USER_AGENT
AdornOps=copy DEG_OEMDevUserAgentString CUST_GAC_IN_UserAgentString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/215.Authenticated_UserAgent/200.CallUserAgentCustomTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_Apple_GA_UserAgentUpdate
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/215.Authenticated_UserAgent/205.CheckoutuserAgentValues]

AdornOps=copy CUST_GAC_OUT_UserAgentString DEG_OEMDevUserAgentString
AdornOps=copy CUST_GAC_OUT_UserAgentString DEG_USER_AGENT
AdornOps=copy DEG_OEMDevUniqueIdString DEG_UNIQUE_ID
AdornOps=copy CUST_GAC_OUT_UserAgentString DEG_AuditUserAgentString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/220.Authenticated_CompanionStoreToken]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=225C.DEG21CompanionStoreTokenRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/230.CheckRequestProcessedInteger]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,!=,1
TrueRuleChain=100.Authenticated_DeviceData
TrueRuleChain=200.Authenticated_ConnectivityAuthType
TrueRuleChain=300.Authenticated_GenerateResponse


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/230.CheckRequestProcessedInteger/100.Authenticated_DeviceData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=007.DEG20ReadEntitlementFCMappingNameRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/230.CheckRequestProcessedInteger/200.Authenticated_ConnectivityAuthType]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=224F.DEG20ConnectivityAuthTypeRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/230.CheckRequestProcessedInteger/300.Authenticated_GenerateResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/300.AkaRejected_InitResponse]

AdornOps=set DEG_OEMDevRespStatusString 6300
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/310.AkaRejected_GenerateResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/400.Unknown_SetHttpErrorResponseTo500C]

AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/600.DisallowedAction_InitResponse]

AdornOps=set DEG_OEMDevRespStatusString 6002
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225B.DEG21GenerateOEMResponseRuleChain/100.GenerateOEMResponse/610.DisallowedAction_GenerateResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitWorkingVariables
RuleNames=200.ReadTokenLifeTime
RuleNames=300.LookupCompanionTable
RuleNames=400.CheckServiceTokenKey


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/100.InitWorkingVariables]

AdornOps=setsystime DEG_OEMDevCurrentTimeStampLong
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/200.ReadTokenLifeTime]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitRequest
RuleNames=110.ReadValue
RuleNames=120.CheckErrorAndNoMatchFlag


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/200.ReadTokenLifeTime/100.InitRequest]

AdornOps=set DEG_OEMDevLicenseTypeString "ST"
AdornOps=set DEG_OEMDevTokenLifetimeLong 0
AdornOps=set DEG_OEMDevAuthThresholdCountInteger 0
AdornOps=set DEG_CDevDBErrorFlagInteger 0
AdornOps=set DEG_CDevDBNoMatchFlagInteger 0
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/200.ReadTokenLifeTime/110.ReadValue]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RequestAttributes=DEG_OEMDevLicenseTypeString
ResponseAttributes=DEG_OEMDevTokenLifetimeLong
ResponseAttributes=DEG_OEMDevAuthThresholdCountInteger
ResponseAttributes=DEG_CDevDBErrorFlagInteger
ResponseAttributes=DEG_CDevDBNoMatchFlagInteger
RuleChain=004.ReadTokenLifeTimeRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/200.ReadTokenLifeTime/120.CheckErrorAndNoMatchFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevDBErrorFlagInteger,=,0
FalseRuleChain=100.SetErrorForLog
FalseRuleChain=110.ErrorLog
TrueRuleChain=200.CheckIfKeyExists


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/200.ReadTokenLifeTime/120.CheckErrorAndNoMatchFlag/100.SetErrorForLog]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1414"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/200.ReadTokenLifeTime/120.CheckErrorAndNoMatchFlag/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to access DEG_LIC_LIMITS cache
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/200.ReadTokenLifeTime/120.CheckErrorAndNoMatchFlag/200.CheckIfKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevDBNoMatchFlagInteger,!=,0
TrueRuleChain=100.SetNoRowExistForLog
TrueRuleChain=110.NoRowExistLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/200.ReadTokenLifeTime/120.CheckErrorAndNoMatchFlag/200.CheckIfKeyExists/100.SetNoRowExistForLog]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1415"
AdornOps=set DEG_OEMDevErrorMessageString "No row found"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/200.ReadTokenLifeTime/120.CheckErrorAndNoMatchFlag/200.CheckIfKeyExists/110.NoRowExistLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=No Row found DEG_LIC_LIMITS cache: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/300.LookupCompanionTable]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=009.DEG21ReadCompanionDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/400.CheckServiceTokenKey]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevServiceTokenNotMatchString,=,0
TrueRuleChain=100.InitResponse
TrueRuleChain=400.CheckServiceTokenKeyLog
TrueRuleChain=110.UpdateSslSessionState
TrueRuleChain=130.GenerateResponse
TrueRuleChain=140.GenerateGetAuthenticationDisallowedActionEndAuditData


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/400.CheckServiceTokenKey/100.InitResponse]

AdornOps=set DEG_OEMDevRespStatusString 6300
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200"
AdornOps=set DEG_SSL_STATE "AKA_CHALLENGE_REJECTED_BY_DEG_TOKEN"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1416"
AdornOps=set DEG_OEMDevErrorMessageString "Database match not found for the incoming service token:"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/400.CheckServiceTokenKey/110.UpdateSslSessionState]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=225E.DEG21UpdateSslSessionStateRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/400.CheckServiceTokenKey/120.UpdateCompanionTokenTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitCompanionTokesUpdate
RuleNames=200.ExecuteCompanionTokensUpdate


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/400.CheckServiceTokenKey/120.UpdateCompanionTokenTable/100.InitCompanionTokesUpdate]

AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_SERVICETOKEN_STATUS DEG_SERVICETOKEN_STATUS
AdornOps=copy DEG_UNIQUE_ID DEG_UNIQUE_ID
AdornOps=copy DEG_TOKENCREATE_TIMESTAMP DEG_TOKENCREATE_TIMESTAMP
AdornOps=setsystime DEG_AUTH_TIMESTAMP
AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_COMPANION_TOKENS"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/400.CheckServiceTokenKey/120.UpdateCompanionTokenTable/200.ExecuteCompanionTokensUpdate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=225D.DEG21UpdateCompanionTokenRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/400.CheckServiceTokenKey/130.GenerateResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/400.CheckServiceTokenKey/140.GenerateGetAuthenticationDisallowedActionEndAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225C.DEG21CompanionStoreTokenRuleChain/400.CheckServiceTokenKey/400.CheckServiceTokenKeyLog]

Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIdString
Attributes=DEG_OEMDevServiceTokenString
Attributes=DEG_OEMDevRespStatusString
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_SSL_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database match not found for the incoming service token:
NullAlso=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225D.DEG21UpdateCompanionTokenRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.UpdateCompanionTokenTable
RuleNames=200.CheckUpdateStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225D.DEG21UpdateCompanionTokenRuleChain/100.UpdateCompanionTokenTable]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
MapAttributes=DEG_SERVICETOKEN_STATUS,DEG_SERVICETOKEN_STATUS
MapAttributes=DEG_TOKENCREATE_TIMESTAMP,DEG_TOKENCREATE_TIMESTAMP
MapAttributes=DEG_AUTH_TIMESTAMP,DEG_AUTH_TIMESTAMP
MapAttributes=DEG_USER_AGENT,DEG_USER_AGENT
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_COMPANION_TOKENS_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225D.DEG21UpdateCompanionTokenRuleChain/200.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
FalseRuleChain=200.CheckKeyExists
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225D.DEG21UpdateCompanionTokenRuleChain/200.CheckUpdateStatus/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1417"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225D.DEG21UpdateCompanionTokenRuleChain/200.CheckUpdateStatus/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_MDN
Attributes=DEG_SUBSTOKEN
Attributes=DEG_TOKENSTATUS
Attributes=DEG_EVENTTIMESTAMP
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to update entry in DEG_COMPANION_TOKENS session store
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225D.DEG21UpdateCompanionTokenRuleChain/200.CheckUpdateStatus/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG20GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225D.DEG21UpdateCompanionTokenRuleChain/200.CheckUpdateStatus/200.CheckKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225D.DEG21UpdateCompanionTokenRuleChain/200.CheckUpdateStatus/200.CheckKeyExists/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1418"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225D.DEG21UpdateCompanionTokenRuleChain/200.CheckUpdateStatus/200.CheckKeyExists/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_MDN
Attributes=DEG_SUBSTOKEN
Attributes=DEG_TOKENSTATUS
Attributes=DEG_EVENTTIMESTAMP
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_USER_AGENT
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to update entry in DEG_COMPANION_TOKENS session store:
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.LookupCompanionTokenTable
RuleNames=300.CheckUpdateStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/100.InitLookup]

AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevUniqueIDString DEG_UNIQUE_ID
AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEG_COMPANION_TOKENS"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/200.LookupCompanionTokenTable]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_IMSI,DEG_OEMDevImsiStringOld
MapAttributes=DEG_DEVICE_ID,DEG_OEMDeviceIdStringTemp
NativeCondition=1.MatchByUniqueId
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_COMPANION_TOKENS_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
FalseRuleChain=200.CheckIfSessionKeyExists
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1425"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/110.ErrorLog]

Attributes=DEG_OEMDevImsiStringOld
Attributes=DEG_UNIQUE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Unable to perform lookup or access DEG_COMPANION_TOKENS table: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG20GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
Conditions=DEG_OEMDevImsiStringOld,!=,DEG_OEMDevImsiString
Operations=and
TrueRuleChain=016.SetErrorLog
TrueRuleChain=000.LogRule
TrueRuleChain=001.UpdateUniqueIdDB


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/000.LogRule]

Attributes=DEG_OEMDevImsiStringOld
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_OEMDevUniqueIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Device used with another IMSI without setProvisioning disable from prior IMSI: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
DeleteDeviceData=300.DeleteDeviceDataTable
LookUpOldMDN=250.LookUpOldMDN
Operations=DoAll
SendAPNSNotification=400.SendAPNSNotification
TrueRuleChain=UpdateCompanionToken
TrueRuleChain=UpdateIMSData
TrueRuleChain=LookUpOldMDN
TrueRuleChain=SendAPNSNotification
TrueRuleChain=DeleteDeviceData
UpdateCompanionToken=100.UpdateCompanionTokenTable
UpdateIMSData=200.UpdateIMSDataTable


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitUpdate
RuleNames=200.UpdateCompanionTokenTable
RuleNames=300.CheckUpdateStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable/100.InitUpdate]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_COMPANION_TOKENS"
AdornOps=copy DEG_OEMDevImsiStringOld DEG_IMSI
AdornOps=copy DEG_OEMDeviceIdStringTemp DEG_DEVICE_ID
AdornOps=set DEG_SERVICETOKEN_STATUS "RE"
AdornOps=set DEG_UNIQUE_ID ""
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable/200.UpdateCompanionTokenTable]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
MapAttributes=DEG_SERVICETOKEN_STATUS,DEG_SERVICETOKEN_STATUS
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_COMPANION_TOKENS_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable/300.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
FalseRuleChain=200.CheckKeyExists
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable/300.CheckUpdateStatus/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1427"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable/300.CheckUpdateStatus/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_MDN
Attributes=DEG_DEVICE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_OEMDevImsiStringOld
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Unable to update entry in DEG_COMPANION_TOKENS session store: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable/300.CheckUpdateStatus/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG20GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable/300.CheckUpdateStatus/200.CheckKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable/300.CheckUpdateStatus/200.CheckKeyExists/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1428"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/100.UpdateCompanionTokenTable/300.CheckUpdateStatus/200.CheckKeyExists/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_MDN
Attributes=DEG_DEVICE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Unable to update entry in DEG_COMPANION_TOKENS session store: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.LookupIMSData
RuleNames=300.CheckLookupStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/100.InitLookup]

AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=copy DEG_OEMDevUniqueIDString  DEG_UNIQUE_ID
AdornOps=copy DEG_OEMDevImsiStringOld DEG_IMSI
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/200.LookupIMSData]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_IMSI,DEG_OEMDevImsiStringOld
MapAttributes=DEG_DEVICE_ID,DEG_OEMDeviceIdStringTemp
NativeCondition=4.MatchByIMSIAndUniqueId
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
Operations=None
RowExists=200.InitUpdate
RowExists=210.UpdateIMSData
RowExists=220.CheckUpdateStatus
SystemError=100.SystemError_SetResponse
SystemError=110.SystemError_Log
SystemError=120.GenerateErrorEndAudit
TrueRuleChain=SystemError
TrueRuleChain=RowExists


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus/100.SystemError_SetResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1429"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus/110.SystemError_Log]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Unable to perform lookup or access DEG_IMS_DATA table: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG20GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus/200.InitUpdate]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDeviceIdStringTemp DEG_DEVICE_ID
AdornOps=copy DEG_OEMDevImsiStringOld DEG_IMSI
AdornOps=set DEG_UNIQUE_ID ""
AdornOps=setsystime DEG_LASTUPDATE
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus/210.UpdateIMSData]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
MapAttributes=DEG_LASTUPDATE,DEG_LASTUPDATE
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus/220.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
TrueRuleChain=100.SystemError_SetResponse
TrueRuleChain=110.SystemError_Log
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus/220.CheckUpdateStatus/100.SystemError_SetResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1430"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus/220.CheckUpdateStatus/110.SystemError_Log]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_MDN
Attributes=DEG_DEVICE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Unable to perform update or access DEG_IMS_DATA table: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/200.UpdateIMSDataTable/300.CheckLookupStatus/220.CheckUpdateStatus/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG20GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.Lookup
RuleNames=300.CheckLookupStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN/100.InitLookup]

AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEG_TOKENS"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevImsiStringOld DEG_IMSI
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN/200.Lookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_MDN,DEG_OEMDevMdnLongOld
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_TOKENS_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN/300.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
FalseRuleChain=200.CheckIfSessionKeyExists
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN/300.CheckLookupStatus/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1431"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN/300.CheckLookupStatus/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiStringOld
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to perform lookup or access DEG_TOKENS table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN/300.CheckLookupStatus/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG20GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN/300.CheckLookupStatus/200.CheckIfSessionKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN/300.CheckLookupStatus/200.CheckIfSessionKeyExists/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1432"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/250.LookUpOldMDN/300.CheckLookupStatus/200.CheckIfSessionKeyExists/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiStringOld
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Unable to Look up DEG_TOKENS session store:
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDeviceDataUpdate
RuleNames=300.DeleteDeviceDataTable
RuleNames=300.CheckDeleteStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable/100.InitDeviceDataUpdate]

AdornOps=set log_DB_Operation DELETE
AdornOps=set log_Table_Name DEG_DEVICE_DATA
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevUniqueIDString  DEG_UNIQUE_ID
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable/300.CheckDeleteStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
FalseRuleChain=200.CheckKeyExists
TrueRuleChain=100.SystemError_SetResponse
TrueRuleChain=110.SystemError_Log
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable/300.CheckDeleteStatus/100.SystemError_SetResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1434"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable/300.CheckDeleteStatus/110.SystemError_Log]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Unable to perform delete operation on DEG_DEVICE_DATA table: 
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable/300.CheckDeleteStatus/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG20GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable/300.CheckDeleteStatus/200.CheckKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable/300.CheckDeleteStatus/200.CheckKeyExists/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1435"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable/300.CheckDeleteStatus/200.CheckKeyExists/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: No data in DEG_DEVICE_DATA session store
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/300.DeleteDeviceDataTable/300.DeleteDeviceDataTable]

ClassName=com.hp.siu.sessionserver.rules.DeleteSessionRule
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=2.MatchByUniqueId
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_DEVICE_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDeviceDataLookup
RuleNames=110.LookUpDeviceData
RuleNames=120.CheckDBErrorFlag


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/100.InitDeviceDataLookup]

AdornOps=set log_DB_Operation SELECT
AdornOps=set log_Table_Name DEG_DEVICE_DATA
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevImsiStringOld DEG_IMSI
AdornOps=set DEG_ENTITLEMENT_NAME ${VOWIFI_ENTITLEMENT_NAME}
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/110.LookUpDeviceData]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_IMSI,DEG_IMSI
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
MapAttributes=DEG_ENTITLEMENT_NAME,DEG_ENTITLEMENT_NAME
MapAttributes=DEG_APNS_TOKEN,DEG_APNS_TOKEN
MapAttributes=DEG_PUSH_NOTIFICATION_STATUS,DEG_PUSH_NOTIFICATION_STATUS
NativeCondition=4.MatchByIMSIAndEntitelementName
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_DEVICE_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/120.CheckDBErrorFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
FalseRuleChain=200.CheckKeyExistFlag
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.PrintError
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/120.CheckDBErrorFlag/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1433"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup or access DEG_DEVICE_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/120.CheckDBErrorFlag/110.PrintError]

Attributes=DEG_DEVICE_ENTITLEMENT
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: while looking up in DEG_DEVICE_DATA table
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/120.CheckDBErrorFlag/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG20GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/120.CheckDBErrorFlag/200.CheckKeyExistFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
TrueRuleChain=100.InitialRule
TrueRuleChain=110.RowFound


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/120.CheckDBErrorFlag/200.CheckKeyExistFlag/100.InitialRule]

AdornOps=set DEG_OEMDevAPNSTopicString ${VOWIFI_ENTITLEMENT_NAME}
AdornOps=copy DEG_APNS_TOKEN DEG_OEMDevAPNSTokenString
AdornOps=copy DEG_UNIQUE_ID DEG_APNSUniqueIdString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/120.CheckDBErrorFlag/200.CheckKeyExistFlag/110.RowFound]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_PUSH_NOTIFICATION_STATUS,=,6100
TrueRuleChain=000.Initialize
TrueRuleChain=100.SendAPNSNotification


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/120.CheckDBErrorFlag/200.CheckKeyExistFlag/110.RowFound/000.Initialize]

AdornOps=copy DEG_OEMDevImsiStringOld DEG_CarrIMSIString
AdornOps=copy DEG_OEMDevMdnLongOld DEG_CarrMDNLong
AdornOps=copy DEG_OEMDevAPNSTopicString DEG_APNSTopicString
AdornOps=copy DEG_OEMDevAPNSTokenString APNS_TokenString
AdornOps=set DEG_TriggerTypeString "service-token-invalidated"
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/001.UpdateUniqueIdDB/400.SendAPNSNotification/120.CheckDBErrorFlag/200.CheckKeyExistFlag/110.RowFound/100.SendAPNSNotification]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_Apple_APNS_SendNotification_Init
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateAndDeleteDBRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/016.SetErrorLog]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1426"
AdornOps=set DEG_OEMDevErrorMessageString "Device using IMSI without setProvisioning disable from prior IMSI"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitSslSessionUpdate
RuleNames=200.ExecuteSslSessionUpdate
RuleNames=300.CheckSslSessionUpdateStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain/100.InitSslSessionUpdate]

AdornOps=set log_DB_Operation UPDATE
AdornOps=set log_Table_Name DEG_SSL_SESSION
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=set  DEG_SSL_STATE "AKA_CHALLENGE_REJECTED_BY_DEG_TOKEN"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain/200.ExecuteSslSessionUpdate]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_SSL_STATE,DEG_SSL_STATE
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SSL_SESSION_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain/300.CheckSslSessionUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
FalseRuleChain=200.CheckKeyExists
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.GenerateErrorEndAudit


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain/300.CheckSslSessionUpdateStatus/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1419"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain/300.CheckSslSessionUpdateStatus/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to update entry in DEG_SSL_SESSION session store
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain/300.CheckSslSessionUpdateStatus/120.GenerateErrorEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=707.DEG20GenerateGetAuthenticationSystemErrorEndAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain/300.CheckSslSessionUpdateStatus/200.CheckKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain/300.CheckSslSessionUpdateStatus/200.CheckKeyExists/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1420"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225E.DEG21UpdateSslSessionStateRuleChain/300.CheckSslSessionUpdateStatus/200.CheckKeyExists/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to update entry in DEG_SSL_SESSION session store
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitIMSDataLookup
RuleNames=200.ExecuteIMSDataLookup
RuleNames=300.CheckUpdateStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/100.InitIMSDataLookup]

AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevCompanionDeviceUniqueIDString DEG_UNIQUE_ID
AdornOps=copy DEG_OEMDevImsiString DEG_IMSI
AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/200.ExecuteIMSDataLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_IMSI,DEG_IMSI
MapAttributes=DEG_DEVICE_ID,DEG_DEVICE_ID
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
NativeCondition=4.MatchByIMSIAndUniqueId
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
FalseRuleChain=200.CheckIfSessionKeyExists
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1421"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_OEMDevUniqueIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to perform lookup or access DEG_IMS_DATA table
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
FalseRuleChain=200.UpdateIMSData
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1422"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_OEMDevUniqueIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Row not found in the DEG_IMS_DATA table:
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/200.UpdateIMSData]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitIMSDataUpdate
RuleNames=200.ExecuteIMSDataUpdate
RuleNames=300.CheckUpdateStatus


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/200.UpdateIMSData/100.InitIMSDataUpdate]

AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevUniqueIdString DEG_UNIQUE_ID
AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_IMS_DATA"
AdornOps=setsystime DEG_LASTUPDATE
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/200.UpdateIMSData/200.ExecuteIMSDataUpdate]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
MapAttributes=DEG_LASTUPDATE,DEG_LASTUPDATE
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_IMS_DATA_SessionStore


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/200.UpdateIMSData/300.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
FalseRuleChain=200.CheckKeyExists
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/200.UpdateIMSData/300.CheckUpdateStatus/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1423"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/200.UpdateIMSData/300.CheckUpdateStatus/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_OEMDevUniqueIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to update entry in DEG_IMS_DATA session store
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/200.UpdateIMSData/300.CheckUpdateStatus/200.CheckKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/200.UpdateIMSData/300.CheckUpdateStatus/200.CheckKeyExists/100.SetErrorInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GA.1424"
AdornOps=set DEG_OEMDevErrorMessageString "Transient System Error"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/225F.DEG21UpdateIMSDataRuleChain/300.CheckUpdateStatus/200.CheckIfSessionKeyExists/200.UpdateIMSData/300.CheckUpdateStatus/200.CheckKeyExists/110.ErrorLog]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_OEMDevUniqueIdString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to update entry in DEG_IMS_DATA session store
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/800.DEG21GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditMessageAttribute_Append_DEG_CDevOutReturnCodeString
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/800.DEG21GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_CDevOutReturnCodeString "1"
AdornOps=copy DEG_CDevOutReturnCodeString DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditTransactionTypeString "getAuthentication"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=copy DEG_OEMDevImsiString DEG_AuditChannelNameString
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/800.DEG21GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getAuthentication response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/800.DEG21GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevSubscriberIdString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevSubscriberIdString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_SSL_STATE="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SSL_STATE DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/800.DEG21GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditDataRuleChain/400.PopulateAuditMessageAttribute_Append_DEG_CDevOutReturnCodeString]

AdornOps=set DEG_Tmp1String ", DEG_CDevOutReturnCodeString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_CDevOutReturnCodeString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/800.DEG21GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "Successful authentication by DEG_TOKEN,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/800.DEG21GenerateGetAuthenticationDEGTokenAuthenticatedEndAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditMessageAttribute_Append_DEG_CDevOutReturnCodeString
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_CDevOutReturnCodeString "12"
AdornOps=copy DEG_CDevOutReturnCodeString DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditTransactionTypeString "getAuthentication"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=copy DEG_OEMDevImsiString DEG_AuditChannelNameString
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getAuthentication response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevSubscriberIdString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevSubscriberIdString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_SSL_STATE="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SSL_STATE DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain/400.PopulateAuditMessageAttribute_Append_DEG_CDevOutReturnCodeString]

AdornOps=set DEG_Tmp1String ", DEG_CDevOutReturnCodeString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_CDevOutReturnCodeString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=copy DEG_SSL_STATE DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ",Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/801.DEG21GenerateGetAuthenticationDisallowedActionEndAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditMessageAttribute_Append_DEG_CDevOutReturnCodeString
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_CDevOutReturnCodeString "12"
AdornOps=copy DEG_CDevOutReturnCodeString DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditTransactionTypeString "getAuthentication"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=copy DEG_OEMDevImsiString DEG_AuditChannelNameString
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getAuthentication response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevSubscriberIdString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevSubscriberIdString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_SSL_STATE="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_SSL_STATE DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain/400.PopulateAuditMessageAttribute_Append_DEG_CDevOutReturnCodeString]

AdornOps=set DEG_Tmp1String ", DEG_CDevOutReturnCodeString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_CDevOutReturnCodeString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "Authentication attempt rejected by DEG_TOKEN,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetAuthentication_V2CompanionCore/RuleChains/802.DEG21GenerateGetAuthenticationAkaRejectedEndAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true
