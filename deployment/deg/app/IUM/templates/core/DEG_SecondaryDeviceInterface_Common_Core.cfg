[/templates/DEG/Secondary_DeviceInterface/Common_Core]


[/templates/DEG/Secondary_DeviceInterface/Common_Core/Connectors]

ClassName=ConnectorManager
ConnectorNames=100.DEGSecondaryDeviceHttpsConnector


[/templates/DEG/Secondary_DeviceInterface/Common_Core/Connectors/100.DEGSecondaryDeviceHttpsConnector]

ClassName=com.hp.siu.plugins.tomcat.HttpConnector
AcceptCount=${DEVICE_HTTP_ACCEPT_COUNT}
ConnectionTimeout=5000
Context=SecondaryDevInterface
KeyStoreFile=${DEG_SECONDARY_SERVER_CERT_KEYSTORE_FILE}
KeyStorePassword=${DEG_SECONDARY_SERVER_CERT_SIGNATURE_PASSWORD}
Managed=true
MaxKeepAliveRequests=5
MaxProcessors=${DEVICE_HTTP_CON_MAX_PROCESSORS}
MaxSpareProcessors=${DEVICE_HTTP_CON_MIN_PROCESSORS}
MinProcessors=${DEVICE_HTTP_CON_MIN_PROCESSORS}
Port=${DEG_SECONDARYDEVICE_SERVER_PORT}
Secured=true
ServerXMLTemplate=${SERVER_XML_TEMPLATE}
UseContextIdentifierOnly=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/Connectors/100.DEGSecondaryDeviceHttpsConnector/SecondaryDevInterface]

ClassName=com.hp.usage.soap.TextContextProvider
ContextIdentifier=SecondaryDevInterface
ErrorMessageAttribute=DEG_OEMDevHttpErrorMessageString
ErrorNameAttribute=DEG_OEMDevHttpErrorNameString
ErrorRuleChain=120.ProcessOEMParsingErrorRuleChain
NoLogExceptions=com.hp.usage.listoperations.CustomRuleException
RequestAttributeMap=terminal_id,DEG_OEMDevTerminalIdString,dummy
RequestAttributeMap=access_token,DEG_OEMDevAccessTokenString,dummy
RequestAttributeMap=message_id,DEG_OEMDevMessageIdInteger,-1
RequestAttributeMap=app,DEG_OEMDevAppNameList,com.hp.siu.utils.StringAttribute|1|64756d6d79
RequestAttributeMap=version,DEG_SDIDevVersionInteger,0
RequestAttributeMap=friendly_device_name,DEG_OEMDevFriendlyDeviceNameString,dummy
RequestAttributeMap=virtual_imsi,DEG_OEMDevVirtualIMSIString,dummy
RequestAttributeMap=terminal_type,DEG_OEMDevTerminalTypeInteger,-1
RequestAttributeMap=terminal_OS,DEG_OEMDevTerminalOSInteger,-1
RequestAttributeMap=terminal_sw_version,DEG_OEMDevTerminalSWVersionString,dummy
RequestAttributeMap=connectivity_auth,DEG_OEMDevConnectivityAuthString,dummy
RequestAttributeMap=certificate_action,DEG_OEMDevCertificateActionInteger,-1
RequestAttributeMap=cert_signing_request,DEG_OEMDevCertSigningRequestString,dummy
RequestAttributeMap=identity_action,DEG_OEMDevIdentityActionInteger,-1
RequestHeaderMap=User-Agent,DEG_OEMDevUserAgentString,Mozilla/5.0
RequestHeaderMap=Accept,DEG_OEMDevAcceptString,application/xml
RequestHeaderMap=Accept-Encoding,DEG_OEMDevAcceptEncodingString,gzip
RequestHeaderMap=Cookie,DEG_OEMDevSecondaryDeviceCookieList,null
#RFE71 : Display source ip in device log.
ClientAddressAttribute=DEG_OEMDevSourceIPAddressString
ResponseHeaderMap=Content-Type,ResponseMessageHeader,"text/xml;charset=UTF-8"
ResponseHandlerAttribute=DEG_OEMDevResponseHandlerString
ResponseHeaderMap=Connection,DEG_OEMDevConnectionString
ResponseHeaderMap=Content-Encoding,DEG_OEMDevEncodingString
ResponseStatusAttribute=DEG_OEMDevHttpStatusInteger
ResponseHeaderMap=Retry-After,ResponseHeaderRetryAfterInteger,0
RuleChainName=100.ProcessRequestRuleChain
QueryStringAttribute=DEG_OEMDevRequestAttributeString
ResponseHeaderMap=Set-Cookie,DEG_COOKIE_ID
ResponseHandlers=EmptyResponseHandler
ResponseHandlers=TextResponseHandler


[/templates/DEG/Secondary_DeviceInterface/Common_Core/Connectors/100.DEGSecondaryDeviceHttpsConnector/SecondaryDevInterface/EmptyResponseHandler]

ClassName=EmptyResponseGenerator


[/templates/DEG/Secondary_DeviceInterface/Common_Core/Connectors/100.DEGSecondaryDeviceHttpsConnector/SecondaryDevInterface/TextResponseHandler]

ClassName=PlainHttpResponseGenerator
SourceAttribute=ResponseMessage


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains]

ClassName=com.hp.siu.sessionserver.RuleChainManager
RuleChainNames=100.ProcessRequestRuleChain
RuleChainNames=120.ProcessOEMParsingErrorRuleChain
RuleChainNames=130.LookUpSecondaryLineTable
RuleChainNames=000.SessionStoreDefaultErrorRuleChain
RuleChainNames=001.SessionStoreKeyNotExistsRuleChain
RuleChainNames=002.SessionStoreDuplicateKeyRuleChain
RuleChainNames=110.GetResponseTemplateRuleChain
RuleChainNames=901.GenerateSecDevStartAuditDataRuleChain
RuleChainNames=902.GenerateSecDevEndOKAuditDataRuleChain
RuleChainNames=903.GenerateSecDevEndErrorAuditDataRuleChain
RuleChainNames=904.DEGGetActiveMonitoringSessionsRuleChain
RuleChainNames=650.DEGGenerateAuditAndNRBEventsRuleChain
RuleChainNames=651.DEGDumpMonitoringTransactionsRuleChain

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitVariables
RuleNames=200.LogNMERule
RuleNames=300.ProcessRequest
RuleNames=400.SetParametersForResponse

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/100.InitVariables]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_MDN 0
AdornOps=setifnull DEG_PIMSI ""
AdornOps=set DEG_OEMDevRequestProcessedInteger 0
AdornOps=set DEG_OEMDevTokenTimeStampDiffLong 0
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SSL_REQUEST_STATE "NEW"
AdornOps=set DEG_OEMDevResponseHandlerString "TextResponseHandler"
AdornOps=set DEG_SecondaryResponseTypeString ${DEG_SDI_RESPONSEFORMAT_TYPE}
AdornOps=copy DEG_SecondaryResponseTypeString ResponseMessageHeader
AdornOps=set DEG_OEMDevCookieExistInteger 0
AdornOps=set DEG_OEMDevMessageChainType ${DEG_SDI_MESSAGECHAIN_TYPE}
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0000"
AdornOps=set DEG_OEMDevMessageString "Received new https request for SecondaryDEVICE"
AdornOps=copy DEG_OEMDevMessageIdInteger DEG_OEMDevMessageIdString
AdornOps=set DEG_OEMDevAppNameCountInteger 0
AdornOps=set DEG_OEMDevAppNameInValidCountInteger 0
AdornOps=set DEG_OEMDevAppNameValidCountInteger 0
AdornOps=setifnull DEG_Common_ResponseTemplateString ""
AdornOps=setifnull DEG_ServiceStatusTemplateString ""
AdornOps=setifnull DEG_VoWiFiInitTemplateString ""
AdornOps=setifnull DEG_VoWiFiAppDataTemplateString ""
AdornOps=setifnull DEG_VoWiFiIdentitiesTemplateString ""
AdornOps=set DEG_OEMDevSDITempString "</wap-provisioningdoc>"
AdornOps=setsystime DEG_CDevProcessStartTimeLong


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/200.LogNMERule]

Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevAppNameList
Attributes=DEG_SDIDevVersionInteger
Attributes=DEG_OEMDevFriendlyDeviceNameString
Attributes=DEG_OEMDevVirtualIMSIString
Attributes=DEG_OEMDevTerminalTypeInteger
Attributes=DEG_OEMDevTerminalOSInteger
Attributes=DEG_OEMDevTerminalSWVersionString
Attributes=DEG_OEMDevConnectivityAuthString
Attributes=DEG_OEMDevCertificateActionInteger
Attributes=DEG_OEMDevCertSigningRequestString
Attributes=DEG_OEMDevIdentityActionInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevSecondaryDeviceCookieList
#RFE71 : Display source ip in device log.
Attributes=DEG_OEMDevSourceIPAddressString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=SecondaryDEVICE TO DEG -> Received new https request: 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Operations=DoAll

Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0

TrueRuleChain=GetActiveSession
TrueRuleChain=GenerateStartAudit
TrueRuleChain=ValidateMandatoryParameters
TrueRuleChain=ValidateApplicationParameters
TrueRuleChain=CheckMessageChainType
TrueRuleChain=CallOAuthCustomTemplate
TrueRuleChain=CheckSecondaryDeviceTable
TrueRuleChain=ProcessRequestBasedOnApp
TrueRuleChain=GenerateResponseTemplate


GetActiveSession=000.GetActiveSession
GenerateStartAudit=000.GenerateStartAudit
ValidateMandatoryParameters=100.ValidateMandatoryParameters
ValidateMandatoryParameters=100.GetCommonTemplate
ValidateApplicationParameters=110.ValidateApplicationParameters
ValidateApplicationParameters=100.GetCommonTemplate
CheckMessageChainType=200.CheckMessageChainType
CheckMessageChainType=100.GetCommonTemplate
CallOAuthCustomTemplate=300.CallOAuthCustomTemplate
CallOAuthCustomTemplate=100.GetCommonTemplate
CheckSecondaryDeviceTable=400.CheckSecondaryDeviceTable
ProcessRequestBasedOnApp=400.ProcessRequestBasedOnApp
GenerateResponseTemplate=500.GenerateResponseTemplate


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.GetCommonTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,1
TrueRuleChain=100.SetAppName
TrueRuleChain=200.GetTemplate
TrueRuleChain=300.FormatResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.GetCommonTemplate/100.SetAppName]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_APP_NAME "Common"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.GetCommonTemplate/200.GetTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=110.GetResponseTemplateRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.GetCommonTemplate/300.FormatResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,!=,0
TrueRuleChain=Format


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.GetCommonTemplate/300.FormatResponse/Format]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.JSONMessageFormatRule
TrueRuleChain=110.SetJSONResponse
FalseRuleChain=200.XMLMessageFormatRule
FalseRuleChain=210.SetXMLResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.GetCommonTemplate/300.FormatResponse/Format/100.JSONMessageFormatRule]

ClassName=com.hp.usage.rules.transform.MessageFormatRule
Locale=en_US
MessageFormat=DEG_RESP_JSON_TEMPLATES
ResultAttribute=DEG_RESP_TEMPLATES_FILE
UseDynamicMessageFormat=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.GetCommonTemplate/300.FormatResponse/Format/110.SetJSONResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set ResponseMessageHeader "text/JSON;charset=UTF-8"
AdornOps=setifnull DEG_RESP_TEMPLATES_FILE ""
AdornOps=replace "<" "{" DEG_RESP_TEMPLATES_FILE DEG_RESP_TEMPLATES_FILE
AdornOps=replace ">" "}" DEG_RESP_TEMPLATES_FILE DEG_RESP_TEMPLATES_FILE
AdornOps=copy DEG_RESP_TEMPLATES_FILE ResponseMessage


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.GetCommonTemplate/300.FormatResponse/Format/200.XMLMessageFormatRule]

ClassName=com.hp.usage.rules.transform.MessageFormatRule
Locale=en_US
MessageFormat=DEG_RESP_XML_TEMPLATES
ResultAttribute=DEG_RESP_TEMPLATES_FILE
UseDynamicMessageFormat=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.GetCommonTemplate/300.FormatResponse/Format/210.SetXMLResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set ResponseMessageHeader "text/xml;charset=UTF-8"
AdornOps=setifnull DEG_RESP_TEMPLATES_FILE ""
AdornOps=copy DEG_RESP_TEMPLATES_FILE ResponseMessage


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/000.GetActiveSession]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=904.DEGGetActiveMonitoringSessionsRuleChain
UseRuleChainManagerPool=false


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/000.GenerateStartAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=901.GenerateSecDevStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Operations=DoAll

Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0

TrueRuleChain=ValidateTerminalID
TrueRuleChain=ValidateAccessToken
TrueRuleChain=ValidateApp

ValidateTerminalID=100.ValidateTerminalID
ValidateAccessToken=200.ValidateAccessToken
ValidateApp=300.ValidateApp
ValidateApp=400.CheckAppNamesCount


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/100.ValidateTerminalID]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTerminalIdString,=,""
Conditions=DEG_OEMDevTerminalIdString,=,dummy
Operations=or
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/100.ValidateTerminalID/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0001"
AdornOps=set DEG_OEMDevErrorMessageString "Terminal ID is mandatory"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/100.ValidateTerminalID/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevAppNameList
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_OEMDevRequestProcessedInteger
LogLevel=WARNING
Message=Invalid request : Terminal ID is empty:
NullAlso=true
#Action=Invalid request :  Terminal ID should come in the request.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/200.ValidateAccessToken]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAccessTokenString,=,""
Conditions=DEG_OEMDevAccessTokenString,=,dummy
Operations=or
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/200.ValidateAccessToken/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0002"
AdornOps=set DEG_OEMDevErrorMessageString "Access Token is empty or not present in the request"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/200.ValidateAccessToken/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevAppNameList
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_OEMDevRequestProcessedInteger
LogLevel=WARNING
Message=Invalid request : Access Token is empty or not present in the request: 
NullAlso=true
#Action=Invalid request : Access Token is empty . Contact HP Admin.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAppNameList,=,com.hp.siu.utils.StringAttribute|1|
Conditions=DEG_OEMDevAppNameList,=,com.hp.siu.utils.StringAttribute|1|64756d6d79
Conditions=DEG_OEMDevRequestAttributeString,!contains,"app"
Operations=or,or
FalseRuleChain=100.CheckApp
FalseRuleChain=200.CreateFinalAuditEntitlementName
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0003"
AdornOps=set DEG_OEMDevErrorMessageString "App is not present in the request"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevAppNameList
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_OEMDevRequestProcessedInteger
LogLevel=WARNING
Message=Invalid request : App is not present in the request: 
NullAlso=true
#Action=Invalid irequest : App is not present in the request . Contact HP Admin.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/100.CheckApp]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevAppNameList
RuleChain=GetTotalCount
RuleChain=GetValidInvalidCount
TmpAttributeName=DEG_OEMDevAppString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/100.CheckApp/GetTotalCount]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevAppNameCountInteger 1 DEG_OEMDevAppNameCountInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/100.CheckApp/GetValidInvalidCount]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAppString,=,"Services_Status"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_Init"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_AppData"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_Identities"
Operations=or,or,or
TrueRuleChain=SetValidAppNameCount
TrueRuleChain=CreateAuditEntitlementName
FalseRuleChain=SetInValidAppNameCount


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/100.CheckApp/GetValidInvalidCount/SetValidAppNameCount]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevAppNameValidCountInteger 1 DEG_OEMDevAppNameValidCountInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/100.CheckApp/GetValidInvalidCount/CreateAuditEntitlementName]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_AuditEntitlementNameString DEG_OEMDevAppString DEG_AuditEntitlementNameString
AdornOps=+ DEG_AuditEntitlementNameString - DEG_AuditEntitlementNameString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/100.CheckApp/GetValidInvalidCount/SetInValidAppNameCount]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevAppNameInValidCountInteger 1 DEG_OEMDevAppNameInValidCountInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/200.CreateFinalAuditEntitlementName]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_AuditEntitlementNameString,!=,""
TrueRuleChain=100.Create


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/300.ValidateApp/200.CreateFinalAuditEntitlementName/100.Create]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=substr 0 length-1 DEG_AuditEntitlementNameString DEG_AuditEntitlementNameString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/400.CheckAppNamesCount]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestAttributeString,contains,"app"
TrueRuleChain=CheckCount


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/400.CheckAppNamesCount/CheckCount]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAppNameCountInteger,=,DEG_OEMDevAppNameInValidCountInteger
TrueRuleChain=100.SetErrorResponse
TrueRuleChain=110.LogInvalidServiceNames
FalseRuleChain=200.CheckCountNotMatching


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/400.CheckAppNamesCount/CheckCount/100.SetErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0004"
AdornOps=set DEG_OEMDevErrorMessageString "App name/s in the request is/are invalid"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/400.CheckAppNamesCount/CheckCount/110.LogInvalidServiceNames]

ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Action processed with error: App name/s in the request is/are invalid : 
Attributes=DEG_OEMDevRequestAttributeString
Attributes=DEG_OEMDevAppNameCountInteger
Attributes=DEG_OEMDevAppNameInValidCountInteger
Attributes=DEG_OEMDevAppNameList
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_CDevOutReturnCodeString
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/400.CheckAppNamesCount/CheckCount/200.CheckCountNotMatching]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAppNameInValidCountInteger,!=,0
Conditions=DEG_OEMDevAppNameInValidCountInteger,<,DEG_OEMDevAppNameCountInteger
Operations=and
TrueRuleChain=100.SetLogInfo
TrueRuleChain=200.LogInvalidAppName


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/400.CheckAppNamesCount/CheckCount/200.CheckCountNotMatching/100.SetLogInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0005"
AdornOps=set DEG_OEMDevErrorMessageString "App name/s in the request is/are invalid"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/100.ValidateMandatoryParameters/400.CheckAppNamesCount/CheckCount/200.CheckCountNotMatching/200.LogInvalidAppName]


ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Attributes=DEG_OEMDevAppNameCountInteger
Attributes=DEG_OEMDevAppNameInValidCountInteger
Attributes=DEG_OEMDevAppNameList
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Message=App name/s in the request is/are invalid : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevAppNameList
RuleChain=Validate
TmpAttributeName=DEG_OEMDevAppString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate]


ClassName=com.hp.siu.collector.rules.SwitchConditionRule
#Conditions=DEG_OEMDevAppString,=,"Services_Status"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_Init"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_AppData"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_Identities"
Operations=None

TrueRuleChain=ValidateVoWiFiInitParameters
TrueRuleChain=ValidateVoWiFiAppDataParameters
TrueRuleChain=ValidateVoWiFiIdentitiesParameters

ValidateVoWiFiInitParameters=100.ValidateTerminalType
ValidateVoWiFiInitParameters=110.ValidateTerminalOS
ValidateVoWiFiInitParameters=120.ValidateTerminalSWVersion
ValidateVoWiFiInitParameters=130.ValidateConnectivityAuth

ValidateVoWiFiAppDataParameters=200.ValidateVirtualIMSI
ValidateVoWiFiAppDataParameters=210.ValidateCertificateAction

ValidateVoWiFiIdentitiesParameters=200.ValidateVirtualIMSI
ValidateVoWiFiIdentitiesParameters=300.ValidateIdentityAction


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/100.ValidateTerminalType]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTerminalTypeInteger,!=,-1
TrueRuleChain=100.CheckRange


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/100.ValidateTerminalType/100.CheckRange]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTerminalTypeInteger,within,[0-31]
FalseRuleChain=100.SetErrorLog
FalseRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/100.ValidateTerminalType/100.CheckRange/100.SetErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0006"
AdornOps=set DEG_OEMDevErrorMessageString "Terminal type is invalid"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/100.ValidateTerminalType/100.CheckRange/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalTypeInteger
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevMessageChainType
LogLevel=WARNING
Message=Invalid request : terminal_type is invalid in the request: 
NullAlso=true
#Action=Invalid request : Terminal type is invalid .Contact HP Admin


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/110.ValidateTerminalOS]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTerminalOSInteger,!=,-1
TrueRuleChain=100.CheckRange


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/110.ValidateTerminalOS/100.CheckRange]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTerminalOSInteger,within,[0-15]
FalseRuleChain=100.SetErrorLog
FalseRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/110.ValidateTerminalOS/100.CheckRange/100.SetErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0007"
AdornOps=set DEG_OEMDevErrorMessageString "Terminal OS is invalid"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/110.ValidateTerminalOS/100.CheckRange/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalOSInteger
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevMessageChainType
LogLevel=WARNING
Message=Invalid request : terminal_OS is invalid in the request: 
NullAlso=true
#Action=Invalid request : Terminal OS is invalid .Contact HP Admin


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/120.ValidateTerminalSWVersion]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTerminalSWVersionString,!=,dummy
TrueRuleChain=CheckEmpty


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/120.ValidateTerminalSWVersion/CheckEmpty]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTerminalSWVersionString,!=,""
TrueRuleChain=100.SetLength
TrueRuleChain=200.CheckLength


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/120.ValidateTerminalSWVersion/CheckEmpty/100.SetLength]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=length DEG_OEMDevTerminalSWVersionString DEG_OEMDevTerminalSWVersionLength


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/120.ValidateTerminalSWVersion/CheckEmpty/200.CheckLength]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevTerminalSWVersionLength,>,10
TrueRuleChain=100.SetErrorLog
TrueRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/120.ValidateTerminalSWVersion/CheckEmpty/200.CheckLength/100.SetErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0008"
AdornOps=set DEG_OEMDevErrorMessageString "Terminal SWVersion length exceeded in the request"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/120.ValidateTerminalSWVersion/CheckEmpty/200.CheckLength/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalSWVersionString
Attributes=DEG_OEMDevTerminalSWVersionLength
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevMessageChainType
LogLevel=WARNING
Message=Invalid request : terminal_sw_version length exceeded in the request, maximum length should be 10.: 
NullAlso=true
#Action=Invalid request : Terminal OS is invalid .Contact HP Admin


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/130.ValidateConnectivityAuth]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevConnectivityAuthString,!=,dummy
TrueRuleChain=10.CheckValue


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/130.ValidateConnectivityAuth/10.CheckValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevConnectivityAuthString,=,MSCHAP
Conditions=DEG_OEMDevConnectivityAuthString,=,CERTIFICATE
Operations=or
FalseRuleChain=100.SetErrorLog
FalseRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/130.ValidateConnectivityAuth/10.CheckValue/100.SetErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0009"
AdornOps=set DEG_OEMDevErrorMessageString "Connectivity Auth has invalid value in the request"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/130.ValidateConnectivityAuth/10.CheckValue/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevConnectivityAuthString
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevMessageChainType
LogLevel=WARNING
Message=Invalid request : connectivity_auth has invalid value in the request : 
NullAlso=true
#Action=Invalid request : Connectivity Auth value is invalid .Contact HP Admin


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/200.ValidateVirtualIMSI]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevVirtualIMSIString,!=,dummy
TrueRuleChain=100.LookUpVirtualIMSI


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/200.ValidateVirtualIMSI/100.LookUpVirtualIMSI]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.LookUpTable
RuleNames=300.CheckVirtualIMSIExists


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/200.ValidateVirtualIMSI/100.LookUpVirtualIMSI/100.InitLookup]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevTerminalIdString DEG_TERMINAL_ID
AdornOps=copy DEG_OEMDevVirtualIMSIString DEG_VIMSI


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/200.ValidateVirtualIMSI/100.LookUpVirtualIMSI/200.LookUpTable]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=130.LookUpSecondaryLineTable
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/200.ValidateVirtualIMSI/100.LookUpVirtualIMSI/300.CheckVirtualIMSIExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Operations=and
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog
FalseRuleChain=200.SetExistsLog
FalseRuleChain=210.ExistsLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/200.ValidateVirtualIMSI/100.LookUpVirtualIMSI/300.CheckVirtualIMSIExists/200.SetExistsLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0010"
AdornOps=set DEG_OEMDevMessageString "Virtual IMSI is present in the table"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/200.ValidateVirtualIMSI/100.LookUpVirtualIMSI/300.CheckVirtualIMSIExists/210.ExistsLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_TERMINAL_ID
Attributes=DEG_OEMDevVirtualIMSIString
Attributes=DEG_VIMSI
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
Message=Virtual IMSI is present in the table :
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/200.ValidateVirtualIMSI/100.LookUpVirtualIMSI/300.CheckVirtualIMSIExists/100.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0011"
AdornOps=set DEG_OEMDevErrorMessageString "Virtual IMSI in the request is not present in the table"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/200.ValidateVirtualIMSI/100.LookUpVirtualIMSI/300.CheckVirtualIMSIExists/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_TERMINAL_ID
Attributes=DEG_OEMDevVirtualIMSIString
Attributes=DEG_VIMSI
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Invalid request : Virtual IMSI in the request is not present in the table for Terminal ID :
NullAlso=true
#Action=Invalid request :  Virtual IMSI in the request should be present in table for Terminal ID .  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/210.ValidateCertificateAction]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCertificateActionInteger,!=,-1
TrueRuleChain=10.CheckRange


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/210.ValidateCertificateAction/10.CheckRange]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCertificateActionInteger,within,[0-4]
FalseRuleChain=100.SetErrorLog
FalseRuleChain=110.ErrorLog
TrueRuleChain=200.ValidateCertSigningRequest


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/210.ValidateCertificateAction/10.CheckRange/200.ValidateCertSigningRequest]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCertificateActionInteger,=,0
TrueRuleChain=100.CheckCSR


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/210.ValidateCertificateAction/10.CheckRange/200.ValidateCertSigningRequest/100.CheckCSR]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCertSigningRequestString,=,dummy
Conditions=DEG_OEMDevCertSigningRequestString,=,""
Operations=or
TrueRuleChain=100.SetErrorLog
TrueRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/210.ValidateCertificateAction/10.CheckRange/200.ValidateCertSigningRequest/100.CheckCSR/100.SetErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0012"
AdornOps=set DEG_OEMDevErrorMessageString "cert_signing_request is missing in the request"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/210.ValidateCertificateAction/10.CheckRange/200.ValidateCertSigningRequest/100.CheckCSR/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevCertificateActionInteger
Attributes=DEG_OEMDevCertSigningRequestString
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevMessageChainType
LogLevel=WARNING
Message=Invalid request : cert_signing_request is missing in the request for certificate_action=0 :
NullAlso=true
#Action=Invalid request :  cert_signing_request is missing in the request, it should be there if certificate_action=0 .  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/210.ValidateCertificateAction/10.CheckRange/100.SetErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0013"
AdornOps=set DEG_OEMDevErrorMessageString "certificate_action is invalid"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/210.ValidateCertificateAction/10.CheckRange/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevCertificateActionInteger
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevMessageChainType
LogLevel=WARNING
Message=Invalid request : certificate_action is invalid in the request: 
NullAlso=true
#Action=Invalid request : Certificate Action integer is invalid .Contact HP Admin


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/300.ValidateIdentityAction]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevIdentityActionInteger,=,-1
TrueRuleChain=100.SetErrorLog
TrueRuleChain=110.ErrorLog
FalseRuleChain=200.CheckValues


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/300.ValidateIdentityAction/200.CheckValues]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevIdentityActionInteger,within,[1-2]
FalseRuleChain=100.SetError
FalseRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/300.ValidateIdentityAction/200.CheckValues/100.SetError]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0014"
AdornOps=set DEG_OEMDevErrorMessageString "identity_action is invalid"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/300.ValidateIdentityAction/200.CheckValues/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevIdentityActionInteger
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevMessageChainType
LogLevel=WARNING
Message=Invalid request : identity_action contains invalid value in the request: 
NullAlso=true
#Action=Invalid request : Identity Action integer is mandatory .Contact HP Admin


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/300.ValidateIdentityAction/100.SetErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0015"
AdornOps=set DEG_OEMDevErrorMessageString "identity_action is mandatory"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SDIDevReturnCodeInteger 2


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/110.ValidateApplicationParameters/Validate/300.ValidateIdentityAction/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevIdentityActionInteger
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevMessageChainType
LogLevel=WARNING
Message=Invalid request : identity_action is mandatory in the request: 
NullAlso=true
#Action=Invalid request : Identity Action integer is mandatory .Contact HP Admin


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevMessageChainType,=,"Message"
TrueRuleChain=100.CopyMessageID
TrueRuleChain=110.ValidateMessageID
FalseRuleChain=200.CheckCookieIDPresent


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/100.CopyMessageID]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevMessageIdInteger DEG_MESSAGE_ID


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/110.ValidateMessageID]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevMessageIdInteger,=,-1
Conditions=DEG_OEMDevMessageIdInteger,=,0
Operations=or
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/110.ValidateMessageID/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "200C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0016"
AdornOps=set DEG_OEMDevErrorMessageString "Message_id is empty or not present in the request"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/110.ValidateMessageID/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevMessageChainType
LogLevel=WARNING
Message=Invalid request : message_id is empty or not present in the request: 
NullAlso=true
#Action=Invalid request : message_id is empty .Contact HP Admin


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/200.CheckCookieIDPresent]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevSecondaryDeviceCookieList,=,null
FalseRuleChain=100.IterateCookieList
FalseRuleChain=110.CheckIfDEGCookieExists
TrueRuleChain=110.CheckIfDEGCookieExists


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/200.CheckCookieIDPresent/100.IterateCookieList]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevSecondaryDeviceCookieList
RuleChain=100.CheckCookieList
TmpAttributeName=DEG_OEMDevCookieTmpString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/200.CheckCookieIDPresent/100.IterateCookieList/100.CheckCookieList]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCookieTmpString,contains,"DEGSDCID="
TrueRuleChain=100.SetDEGCookie
TrueRuleChain=200.CheckCookieLength


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/200.CheckCookieIDPresent/100.IterateCookieList/100.CheckCookieList/100.SetDEGCookie]

AdornOps=copy DEG_OEMDevCookieTmpString DEG_COOKIE_ID
AdornOps=set DEG_OEMDevCookieExistInteger 1
AdornOps=length DEG_COOKIE_ID DEG_COOKIE_IDLengthInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/200.CheckCookieIDPresent/100.IterateCookieList/100.CheckCookieList/200.CheckCookieLength]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_COOKIE_IDLengthInteger,>,64
TrueRuleChain=100.SetErrorResponse
TrueRuleChain=200.SetErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/200.CheckCookieIDPresent/100.IterateCookieList/100.CheckCookieList/200.CheckCookieLength/100.SetErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0017"
AdornOps=set DEG_OEMDevErrorMessageString "Cookie length in the request is exceeded than expected length."
ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/200.CheckCookieIDPresent/100.IterateCookieList/100.CheckCookieList/200.CheckCookieLength/200.SetErrorLog]

Attributes=DEG_COOKIE_IDLengthInteger
Attributes=DEG_COOKIE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=ERROR
Message=Cookie length in the request is exceeded than expected length. Cannot process the request : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/200.CheckCookieIDPresent/110.CheckIfDEGCookieExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevCookieExistInteger,=,0
TrueRuleChain=100.GenerateCookie


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/200.CheckMessageChainType/200.CheckCookieIDPresent/110.CheckIfDEGCookieExists/100.GenerateCookie]

AdornOps=genKey "HmacSHA1" 160 - DEG_CDevSha1KeyBinary
AdornOps=encBase64 DEG_CDevSha1KeyBinary DEG_COOKIE_ID
AdornOps=set DEG_COOKIE_IDtempString "DEGSDCID="
AdornOps=+ DEG_COOKIE_IDtempString DEG_COOKIE_ID DEG_COOKIE_IDtempString
AdornOps=copy DEG_COOKIE_IDtempString DEG_COOKIE_ID
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CopyCoreToCustom
RuleNames=200.LogBeforeCustomCall
RuleNames=300.ProcessCallToCarrierOAUTH
RuleNames=350.CopyCustomToCore
RuleNames=400.LogAfterCustomCall
RuleNames=500.ValidateCustomReturnCode


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/100.CopyCoreToCustom]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_OEMDevAccessTokenString ""
AdornOps=setifnull DEG_OEMDevTerminalIdString ""
AdornOps=copy DEG_OEMDevAccessTokenString CUST_SDI_IN_ACCESS_TOKEN
AdornOps=copy DEG_OEMDevTerminalIdString CUST_SDI_IN_TERMINAL_ID
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0018"
AdornOps=set DEG_OEMDevMessageString "Log before AuthN custom call"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/200.LogBeforeCustomCall]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_IN_ACCESS_TOKEN
Attributes=CUST_SDI_IN_TERMINAL_ID
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log before AuthN custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/300.ProcessCallToCarrierOAUTH]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_SecondaryDevice_AuthNCustom
UseRuleChainManagerPool=true

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/400.LogAfterCustomCall]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_OUT_RETURN_CODE
Attributes=CUST_SDI_OUT_RETURN_DESC
Attributes=CUST_SDI_OUT_P_IMSI
Attributes=CUST_SDI_OUT_P_MSISDN
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log after AuthN custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/350.CopyCustomToCore]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull CUST_SDI_OUT_P_IMSI ""
AdornOps=setifnull CUST_SDI_OUT_P_MSISDN 0
AdornOps=setifnull CUST_SDI_OUT_RETURN_CODE -1
AdornOps=setifnull CUST_SDI_OUT_RETURN_DESC ""
AdornOps=copy CUST_SDI_OUT_RETURN_CODE DEG_SDIDevReturnCodeInteger
AdornOps=copy CUST_SDI_OUT_RETURN_DESC DEG_SDIDevReturnCodeDescString
AdornOps=copy CUST_SDI_OUT_P_IMSI DEG_PIMSI
AdornOps=copy CUST_SDI_OUT_P_MSISDN DEG_PMSISDN
AdornOps=copy CUST_SDI_OUT_P_MSISDN DEG_SDIDevPMSISDNString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0019"
AdornOps=set DEG_OEMDevMessageString "Log before AuthN custom call"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/500.ValidateCustomReturnCode]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_SDIDevReturnCodeInteger,=,-1
Conditions=DEG_SDIDevReturnCodeInteger,=,0
Conditions=DEG_SDIDevReturnCodeInteger,=,2
Conditions=DEG_SDIDevReturnCodeInteger,=,DEG_SDIDevReturnCodeInteger
Operations=None

TrueRuleChain=SetHttp500
TrueRuleChain=SuccessSetHttp200
TrueRuleChain=SetHttp403
TrueRuleChain=SetHttp200

SetHttp500=100.SetHttp500
SetHttp500=110.LogHttp500
SuccessSetHttp200=200.SetHttp200
SuccessSetHttp200=200.LogHttp200
SetHttp403=300.SetHttp403
SetHttp403=310.LogHttp403
SetHttp200=400.SetHttp200
SetHttp200=410.LogHttp200


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/500.ValidateCustomReturnCode/100.SetHttp500]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0020"
AdornOps=set DEG_OEMDevErrorMessageString "Http500 - Error response from External System"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_SSL_REQUEST_STATE "500C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/500.ValidateCustomReturnCode/110.LogHttp500]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SDIDevReturnCodeInteger
LogLevel=WARNING
Message=Received Error response from External System : 
NullAlso=true

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/500.ValidateCustomReturnCode/200.SetHttp200]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0021"
AdornOps=set DEG_OEMDevMessageString "Received success response from External System"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SSL_REQUEST_STATE "200C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/500.ValidateCustomReturnCode/200.LogHttp200]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_SDIDevReturnCodeInteger
LogLevel=DEBUG
Message=Received success response from External System : 
NullAlso=true

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/500.ValidateCustomReturnCode/300.SetHttp403]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0022"
AdornOps=set DEG_OEMDevErrorMessageString "Http403 - Error response from External System"
AdornOps=set DEG_CDevOutReturnCodeString "403"
AdornOps=set DEG_OEMDevHttpStatusInteger 403
AdornOps=set DEG_SSL_REQUEST_STATE "403C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/500.ValidateCustomReturnCode/310.LogHttp403]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SDIDevReturnCodeInteger
LogLevel=WARNING
Message=Received Error response from External System : 
NullAlso=true

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/500.ValidateCustomReturnCode/400.SetHttp200]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0023"
AdornOps=set DEG_OEMDevMessageString "Received response from External System"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SSL_REQUEST_STATE "200C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/300.CallOAuthCustomTemplate/500.ValidateCustomReturnCode/410.LogHttp200]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_SDIDevReturnCodeInteger
LogLevel=DEBUG
Message=Received response from External System : 
NullAlso=true

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SDIDevReturnCodeInteger,=,0
TrueRuleChain=100.InitLookup
TrueRuleChain=200.LookUpTable
TrueRuleChain=300.CheckLookUpStatus


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/100.InitLookup]

AdornOps=set log_DB_Operation SELECT
AdornOps=set log_Table_Name DEG_SDI_SECONDARY_DEVICE
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevTerminalIdString DEG_TERMINAL_ID
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/200.LookUpTable]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_TERMINAL_ID,DEG_TERMINAL_ID
NativeCondition=1.MatchTerminalID
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SDI_SECONDARY_DEVICE_SessionStore


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
TrueRuleChain=120.CallEndErrorAuditRuleChain
FalseRuleChain=200.CheckKeyExists


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0024"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to perform lookup or access DEG_SDI_SECONDARY_DEVICE table,Transient system error"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_SSL_REQUEST_STATE "500C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_TERMINAL_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
LogLevel=CRITICAL
Message=Database Error: Unable to perform lookup or access DEG_SDI_SECONDARY_DEVICE table
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/120.CallEndErrorAuditRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=903.GenerateSecDevEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
TrueRuleChain=100.InsertIntoTable
FalseRuleChain=200.UpdateTable


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/100.InsertIntoTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitInsert
RuleNames=200.InsertRow
RuleNames=300.CheckDBErrorFlag


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/100.InsertIntoTable/100.InitInsert]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set log_DB_Operation "INSERT"
AdornOps=set log_Table_Name "DEG_SDI_SECONDARY_DEVICE"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevTerminalIdString DEG_TERMINAL_ID
AdornOps=setifnull DEG_MESSAGE_ID -1
AdornOps=setifnull DEG_COOKIE_ID ""
AdornOps=setifnull DEG_PMSISDN 0
AdornOps=setsystime DEG_EVENTTIMESTAMP


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/100.InsertIntoTable/200.InsertRow]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
SessionStore=DEG_SDI_SECONDARY_DEVICE_SessionStore


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/100.InsertIntoTable/300.CheckDBErrorFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.PrintError
TrueRuleChain=120.CallEndAuditDataRuleChain


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/100.InsertIntoTable/300.CheckDBErrorFlag/120.CallEndAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=903.GenerateSecDevEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/100.InsertIntoTable/300.CheckDBErrorFlag/100.SetErrorInfo]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0025"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_OEMDevErrorMessageString "Unable to access or create entry in DEG_SDI_SECONDARY_DEVICE table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/100.InsertIntoTable/300.CheckDBErrorFlag/110.PrintError]

Attributes=DEG_TERMINAL_ID
Attributes=DEG_MESSAGE_ID
Attributes=DEG_COOKIE_ID
Attributes=DEG_PIMSI
Attributes=DEG_PMSISDN
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
NullAlso=true
Message=Database Error: unable to add row in DEG_SDI_SECONDARY_DEVICE table
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitUpdate
RuleNames=200.UpdateTable
RuleNames=300.CheckUpdateStatus


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/100.InitUpdate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_SDI_SECONDARY_DEVICE"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_OEMDevTerminalIdString DEG_TERMINAL_ID
AdornOps=setifnull DEG_MESSAGE_ID -1
AdornOps=setifnull DEG_COOKIE_ID ""
AdornOps=setsystime DEG_EVENTTIMESTAMP


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/200.UpdateTable]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_TERMINAL_ID,DEG_TERMINAL_ID
MapAttributes=DEG_PIMSI,DEG_PIMSI
MapAttributes=DEG_MESSAGE_ID,DEG_MESSAGE_ID
MapAttributes=DEG_COOKIE_ID,DEG_COOKIE_ID
MapAttributes=DEG_PMSISDN,DEG_PMSISDN
MapAttributes=DEG_EVENTTIMESTAMP,DEG_EVENTTIMESTAMP
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SDI_SECONDARY_DEVICE_SessionStore


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/300.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
Operations=None

TrueRuleChain=SystemError
TrueRuleChain=NoRowExists
TrueRuleChain=UpdateRow

SystemError=100.SetErrorAttribute
SystemError=200.PrintError
SystemError=120.CallEndAuditDataRuleChain
NoRowExists=100.SetErrorForNoRow
NoRowExists=200.PrintMessageForNoRow
NoRowExists=120.CallEndAuditDataRuleChain
UpdateRow=50.SetErrorInfo
UpdateRow=100.LogMessage


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/300.CheckUpdateStatus/120.CallEndAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=903.GenerateSecDevEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/300.CheckUpdateStatus/100.SetErrorAttribute]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0026"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to access DEG_SDI_SECONDARY_DEVICE table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/300.CheckUpdateStatus/200.PrintError]

Attributes=DEG_TERMINAL_ID
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Error while access DEG_SDI_SECONDARY_DEVICE Table : 
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/300.CheckUpdateStatus/100.SetErrorForNoRow]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0027"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update DEG_SDI_SECONDARY_DEVICE table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/300.CheckUpdateStatus/200.PrintMessageForNoRow]

Attributes=DEG_TERMINAL_ID
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Error while updating DEG_SDI_SECONDARY_DEVICE Table : 
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/300.CheckUpdateStatus/50.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0028"
AdornOps=set DEG_OEMDevMessageString "Row updated in DEG_SDI_SECONDARY_DEVICE Table"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.CheckSecondaryDeviceTable/300.CheckLookUpStatus/200.CheckKeyExists/200.UpdateTable/300.CheckUpdateStatus/100.LogMessage]

Attributes=DEG_TERMINAL_ID
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Row updated in DEG_SDI_SECONDARY_DEVICE Table : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SDIDevReturnCodeInteger,=,0
TrueRuleChain=100.ProcessBasedOnApp


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevAppNameList
RuleChain=Process
TmpAttributeName=DEG_OEMDevAppString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevAppString,=,"Services_Status"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_Init"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_AppData"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_Identities"
Operations=None

TrueRuleChain=ProcessServiceStatusRequest
TrueRuleChain=ProcessVoWiFiInitRequest
TrueRuleChain=ProcessVoWiFiAppDataRequest
TrueRuleChain=ProcessVoWiFiIdentitiesRequest

ProcessServiceStatusRequest=100.CopyToServiceStatusCustomNME
ProcessServiceStatusRequest=110.LogBeforeServiceStatusCustom
ProcessServiceStatusRequest=120.CallServiceStatusCustom
ProcessServiceStatusRequest=130.CopyNMEFromServiceStatusCustom
ProcessServiceStatusRequest=140.LogAfterServiceStatusCustom
ProcessServiceStatusRequest=500.ValidateCustomReturnCode
ProcessServiceStatusRequest=600.GetCommonTemplate
ProcessServiceStatusRequest=700.SetAppName
ProcessServiceStatusRequest=710.GetAppResponseTemplate
ProcessServiceStatusRequest=150.CopyServiceStatusTemplate

ProcessVoWiFiInitRequest=200.CopyToVoWiFiInitCustomNME
ProcessVoWiFiInitRequest=210.LogBeforeVoWiFiInitCustom
ProcessVoWiFiInitRequest=220.CallVoWiFiInitCustom
ProcessVoWiFiInitRequest=230.CopyNMEFromVoWiFiInitCustom
ProcessVoWiFiInitRequest=240.LogAfterVoWiFiInitCustom
ProcessVoWiFiInitRequest=500.ValidateCustomReturnCode
ProcessVoWiFiInitRequest=250.InsertVIMSI
ProcessVoWiFiInitRequest=600.GetCommonTemplate
ProcessVoWiFiInitRequest=700.SetAppName
ProcessVoWiFiInitRequest=710.GetAppResponseTemplate
ProcessVoWiFiInitRequest=260.CopyVoWiFiInitTemplate

ProcessVoWiFiAppDataRequest=300.CopyToVoWiFiAppDataCustomNME
ProcessVoWiFiAppDataRequest=310.LogBeforeVoWiFiAppDataCustom
ProcessVoWiFiAppDataRequest=320.CallVoWiFiAppDataCustom
ProcessVoWiFiAppDataRequest=330.CopyNMEFromVoWiFiAppDataCustom
ProcessVoWiFiAppDataRequest=340.LogAfterVoWiFiAppDataCustom
ProcessVoWiFiAppDataRequest=500.ValidateCustomReturnCode
ProcessVoWiFiAppDataRequest=600.GetCommonTemplate
ProcessVoWiFiAppDataRequest=700.SetAppName
ProcessVoWiFiAppDataRequest=710.GetAppResponseTemplate
ProcessVoWiFiAppDataRequest=350.CopyVoWiFiAppDataTemplate

ProcessVoWiFiIdentitiesRequest=400.CopyToVoWiFiIdentitiesCustomNME
ProcessVoWiFiIdentitiesRequest=410.LogBeforeVoWiFiIdentitiesCustom
ProcessVoWiFiIdentitiesRequest=420.CallVoWiFiIdentitiesCustom
ProcessVoWiFiIdentitiesRequest=430.CopyNMEFromVoWiFiIdentitiesCustom
ProcessVoWiFiIdentitiesRequest=440.LogAfterVoWiFiIdentitiesCustom
ProcessVoWiFiIdentitiesRequest=500.ValidateCustomReturnCode
ProcessVoWiFiIdentitiesRequest=450.InsertMSISDN
ProcessVoWiFiIdentitiesRequest=600.GetCommonTemplate
ProcessVoWiFiIdentitiesRequest=700.SetAppName
ProcessVoWiFiIdentitiesRequest=710.GetAppResponseTemplate
ProcessVoWiFiIdentitiesRequest=460.CopyVoWiFiIdentitiesTemplate


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/700.SetAppName]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevAppString DEG_APP_NAME


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/710.GetAppResponseTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=110.GetResponseTemplateRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/600.GetCommonTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_Common_ResponseTemplateString,=,""
TrueRuleChain=100.SetAppName
TrueRuleChain=200.GetTemplate
TrueRuleChain=300.CopyTemplate


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/600.GetCommonTemplate/100.SetAppName]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_APP_NAME "Common"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/600.GetCommonTemplate/200.GetTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=110.GetResponseTemplateRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/600.GetCommonTemplate/300.CopyTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,!=,0
TrueRuleChain=CheckResponseFormat


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/600.GetCommonTemplate/300.CopyTemplate/CheckResponseFormat]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.CopyJSONResponse
FalseRuleChain=200.CopyXMLResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/600.GetCommonTemplate/300.CopyTemplate/CheckResponseFormat/100.CopyJSONResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_JSON_TEMPLATES DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/600.GetCommonTemplate/300.CopyTemplate/CheckResponseFormat/200.CopyXMLResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_XML_TEMPLATES DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/100.CopyToServiceStatusCustomNME]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_PIMSI ""
AdornOps=setifnull DEG_OEMDevFriendlyDeviceNameString ""
AdornOps=setifnull DEG_SDIDevVersionInteger 0
AdornOps=copy DEG_PIMSI CUST_SDI_IN_P_IMSI
AdornOps=copy DEG_OEMDevAppString CUST_SDI_IN_APP
AdornOps=copy DEG_SDIDevVersionInteger CUST_SDI_IN_VERSION
AdornOps=copy DEG_OEMDevFriendlyDeviceNameString CUST_SDI_IN_FRIENDLY_DEVICE_NAME
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0029"
AdornOps=set DEG_OEMDevMessageString "Log before Service Status custom call"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/110.LogBeforeServiceStatusCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_IN_P_IMSI
Attributes=CUST_SDI_IN_APP
Attributes=CUST_SDI_IN_VERSION
Attributes=CUST_SDI_IN_FRIENDLY_DEVICE_NAME
Attributes=DEG_PIMSI
Attributes=DEG_OEMDevAppString
Attributes=DEG_SDIDevVersionInteger
Attributes=DEG_OEMDevFriendlyDeviceNameString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log before Service Status custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/120.CallServiceStatusCustom]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_SecondaryDevice_ServiceStatusCustom
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/140.LogAfterServiceStatusCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_OUT_RETURN_CODE
Attributes=CUST_SDI_OUT_RETURN_DESC
Attributes=CUST_SDI_OUT_SERVICE_NAME
Attributes=CUST_SDI_OUT_CLIENT_ID
Attributes=CUST_SDI_OUT_CLIENT_PACKAGE_NAME
Attributes=CUST_SDI_OUT_CLIENT_PACKAGE_URL
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log After Service Status custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/130.CopyNMEFromServiceStatusCustom]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull CUST_SDI_OUT_RETURN_CODE -1
AdornOps=setifnull CUST_SDI_OUT_RETURN_DESC ""
AdornOps=setifnull CUST_SDI_OUT_SERVICE_NAME ""
AdornOps=setifnull CUST_SDI_OUT_CLIENT_ID ""
AdornOps=setifnull CUST_SDI_OUT_CLIENT_PACKAGE_NAME ""
AdornOps=setifnull CUST_SDI_OUT_CLIENT_PACKAGE_URL ""

AdornOps=copy CUST_SDI_OUT_RETURN_CODE DEG_SDIDevReturnCodeInteger
AdornOps=copy CUST_SDI_OUT_RETURN_DESC DEG_SDIDevReturnCodeDescString
AdornOps=copy CUST_SDI_OUT_SERVICE_NAME DEG_SDIDevServiceNameString
AdornOps=copy CUST_SDI_OUT_CLIENT_ID DEG_DEG_SDIDevClientIDString
AdornOps=copy CUST_SDI_OUT_CLIENT_PACKAGE_NAME DEG_SDIDevClientPackageNameString
AdornOps=copy CUST_SDI_OUT_CLIENT_PACKAGE_URL DEG_SDIDevClientPackageUrlString

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0030"
AdornOps=set DEG_OEMDevMessageString "Log After Service Status custom call"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/500.ValidateCustomReturnCode]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SDIDevReturnCodeInteger,!=,-1
TrueRuleChain=100.SetHttp200Response
TrueRuleChain=110.LogHttp200Response
FalseRuleChain=200.SetHttp500Response
FalseRuleChain=210.LogHttp500Response


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/500.ValidateCustomReturnCode/200.SetHttp500Response]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0031"
AdornOps=set DEG_OEMDevErrorMessageString "Http500 - Error response from External System"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_SSL_REQUEST_STATE "500C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/500.ValidateCustomReturnCode/210.LogHttp500Response]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SDIDevReturnCodeInteger
LogLevel=WARNING
Message=Received Error response from External System :
NullAlso=true

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/500.ValidateCustomReturnCode/100.SetHttp200Response]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0032"
AdornOps=set DEG_OEMDevMessageString "Success response from External System"
AdornOps=set DEG_CDevOutReturnCodeString "200"
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_SSL_REQUEST_STATE "200C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/500.ValidateCustomReturnCode/110.LogHttp200Response]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
Message=Received Success response from External System : 
NullAlso=true

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,!=,0
TrueRuleChain=CheckResponseType


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.CopyJSONResponse
TrueRuleChain=200.CreateTemplate4MultiServNames
FalseRuleChain=200.CopyXMLResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CopyXMLResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_XML_TEMPLATES DEG_ServiceStatusTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/100.CopyJSONResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_JSON_TEMPLATES DEG_ServiceStatusTemplateString
AdornOps=substr "[" "]"  DEG_ServiceStatusTemplateString DEG_ServiceStatusTemplateTempString
AdornOps=copy DEG_ServiceStatusTemplateTempString DEG_ServiceStatusTemplateNewString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SDIDevServiceNameString,contains,","
Conditions=DEG_DEG_SDIDevClientIDString,contains,","
Conditions=DEG_SDIDevClientPackageNameString,contains,","
Conditions=DEG_SDIDevClientPackageUrlString,contains,","
Operations=or,or,or
TrueRuleChain=100.CreateTemplate


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Initialize
RuleNames=200.AddServiceNameList
RuleNames=210.AddClientIDList
RuleNames=220.AddClientPackageNameList
RuleNames=230.AddClientPackageUrlList
RuleNames=300.IterateList
RuleNames=400.CreateFinalTemplate


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/100.Initialize]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_ServiceStatusTemplateIndexInteger -1


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/200.AddServiceNameList]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
SourceAttribute=DEG_SDIDevServiceNameString
TokenAttribute=DEG_SDIDevServiceNameTempString
Delimiter=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/200.AddServiceNameList/IterationRule]

ClassName=RuleChain
RuleNames=100.IncrementIndex
RuleNames=110.CreateList


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/200.AddServiceNameList/IterationRule/100.IncrementIndex]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_ServiceStatusTemplateIndexInteger 1 DEG_ServiceStatusTemplateIndexInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/200.AddServiceNameList/IterationRule/110.CreateList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_SDIDevServiceNameTempString
ListAttribute=DEG_SDIDevServiceNameList


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/210.AddClientIDList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_DEG_SDIDevClientIDString
ListAttribute=DEG_DEG_SDIDevClientIDList
Delimiters=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/220.AddClientPackageNameList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_SDIDevClientPackageNameString
ListAttribute=DEG_SDIDevClientPackageNameList
Delimiters=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/230.AddClientPackageUrlList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_SDIDevClientPackageUrlString
ListAttribute=DEG_SDIDevClientPackageUrlList
Delimiters=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/300.IterateList]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_SDIDevServiceNameList
ListAttributeName=DEG_DEG_SDIDevClientIDList
ListAttributeName=DEG_SDIDevClientPackageNameList
ListAttributeName=DEG_SDIDevClientPackageUrlList
RuleChain=100.DecrementArrayIndex
RuleChain=200.ReplaceValues
RuleChain=300.CheckIndex
TmpAttributeName=DEG_SDIDevServiceNameTempString
TmpAttributeName=DEG_DEG_SDIDevClientIDTempString
TmpAttributeName=DEG_SDIDevClientPackageNameTempString
TmpAttributeName=DEG_SDIDevClientPackageUrlTempString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/300.IterateList/100.DecrementArrayIndex]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=- DEG_ServiceStatusTemplateIndexInteger 1 DEG_ServiceStatusTemplateIndexInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/300.IterateList/200.ReplaceValues]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=replace "{%DEG_SDIDevServiceNameString%}" DEG_SDIDevServiceNameTempString DEG_ServiceStatusTemplateNewString DEG_ServiceStatusTemplateNewString
AdornOps=replace "{%DEG_DEG_SDIDevClientIDString%}" DEG_DEG_SDIDevClientIDTempString DEG_ServiceStatusTemplateNewString DEG_ServiceStatusTemplateNewString
AdornOps=replace "{%DEG_SDIDevClientPackageNameString%}" DEG_SDIDevClientPackageNameTempString DEG_ServiceStatusTemplateNewString DEG_ServiceStatusTemplateNewString
AdornOps=replace "{%DEG_SDIDevClientPackageUrlString%}" DEG_SDIDevClientPackageUrlTempString DEG_ServiceStatusTemplateNewString DEG_ServiceStatusTemplateNewString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/300.IterateList/300.CheckIndex]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_ServiceStatusTemplateIndexInteger,>=,0
TrueRuleChain=CreateTemplateList


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/300.IterateList/300.CheckIndex/CreateTemplateList]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_ServiceStatusTemplateNewString , DEG_ServiceStatusTemplateNewString
AdornOps=+ DEG_ServiceStatusTemplateNewString DEG_ServiceStatusTemplateTempString DEG_ServiceStatusTemplateNewString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/150.CopyServiceStatusTemplate/CheckResponseType/200.CreateTemplate4MultiServNames/100.CreateTemplate/400.CreateFinalTemplate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=replace DEG_ServiceStatusTemplateTempString DEG_ServiceStatusTemplateNewString DEG_ServiceStatusTemplateString DEG_ServiceStatusTemplateString
AdornOps=substr 0 length-2 DEG_ServiceStatusTemplateString DEG_ServiceStatusTemplateString
AdornOps=+ DEG_ServiceStatusTemplateString ] DEG_ServiceStatusTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/200.CopyToVoWiFiInitCustomNME]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_PIMSI ""
AdornOps=setifnull DEG_OEMDevFriendlyDeviceNameString ""
AdornOps=setifnull DEG_SDIDevVersionInteger 0
AdornOps=setifnull DEG_SDIDevPMSISDNString ""
AdornOps=copy DEG_PIMSI CUST_SDI_IN_P_IMSI
AdornOps=copy DEG_SDIDevPMSISDNString CUST_SDI_IN_P_MSISDN
AdornOps=copy DEG_OEMDevTerminalTypeInteger CUST_SDI_IN_TERMINAL_TYPE
AdornOps=copy DEG_OEMDevTerminalOSInteger CUST_SDI_IN_TERMINAL_OS
AdornOps=copy DEG_OEMDevTerminalSWVersionString CUST_SDI_IN_TERMINAL_SW_VERSION
AdornOps=copy DEG_OEMDevConnectivityAuthString CUST_SDI_IN_CONNECTIVITY_AUTH
AdornOps=copy DEG_OEMDevAppString CUST_SDI_IN_APP
AdornOps=copy DEG_SDIDevVersionInteger CUST_SDI_IN_VERSION
AdornOps=copy DEG_OEMDevFriendlyDeviceNameString CUST_SDI_IN_FRIENDLY_DEVICE_NAME
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0033"
AdornOps=set DEG_OEMDevMessageString "Log before VoWiFiInit custom call"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/210.LogBeforeVoWiFiInitCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_IN_P_IMSI
Attributes=CUST_SDI_IN_P_MSISDN
Attributes=CUST_SDI_IN_TERMINAL_TYPE
Attributes=CUST_SDI_IN_TERMINAL_OS
Attributes=CUST_SDI_IN_TERMINAL_SW_VERSION
Attributes=CUST_SDI_IN_CONNECTIVITY_AUTH
Attributes=CUST_SDI_IN_APP
Attributes=CUST_SDI_IN_VERSION
Attributes=CUST_SDI_IN_FRIENDLY_DEVICE_NAME
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log before VoWiFiInit custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/220.CallVoWiFiInitCustom]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_SecondaryDevice_VoWiFiInitCustom
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/240.LogAfterVoWiFiInitCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_OUT_RETURN_CODE
Attributes=CUST_SDI_OUT_RETURN_DESC
Attributes=CUST_SDI_OUT_V_IMSI
Attributes=CUST_SDI_OUT_ROOT_CERT_CHAIN
Attributes=CUST_SDI_OUT_CERT_META_DATA
Attributes=CUST_SDI_OUT_EAP_PREFIX
Attributes=CUST_SDI_OUT_EAP_REALM
Attributes=CUST_SDI_OUT_MSCHAP_V2_USERNAME
Attributes=CUST_SDI_OUT_MSCHAP_V2_PASSWORD
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log After VoWiFiInit custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/230.CopyNMEFromVoWiFiInitCustom]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull CUST_SDI_OUT_RETURN_CODE -1
AdornOps=setifnull CUST_SDI_OUT_RETURN_DESC ""
AdornOps=setifnull CUST_SDI_OUT_V_IMSI ""
AdornOps=setifnull CUST_SDI_OUT_ROOT_CERT_CHAIN ""
AdornOps=setifnull CUST_SDI_OUT_CERT_META_DATA ""
AdornOps=setifnull CUST_SDI_OUT_EAP_PREFIX ""
AdornOps=setifnull CUST_SDI_OUT_EAP_REALM ""
AdornOps=setifnull CUST_SDI_OUT_MSCHAP_V2_USERNAME ""
AdornOps=setifnull CUST_SDI_OUT_MSCHAP_V2_PASSWORD ""
AdornOps=copy CUST_SDI_OUT_RETURN_CODE DEG_SDIDevReturnCodeInteger
AdornOps=copy CUST_SDI_OUT_RETURN_DESC DEG_SDIDevReturnCodeDescString
AdornOps=copy CUST_SDI_OUT_V_IMSI DEG_VIMSI
AdornOps=copy CUST_SDI_OUT_ROOT_CERT_CHAIN DEG_SDIDevRootCertChainString
AdornOps=copy CUST_SDI_OUT_CERT_META_DATA DEG_SDIDevCertMetaDataString
AdornOps=copy CUST_SDI_OUT_EAP_PREFIX DEG_SDIDevEAPPrefixString
AdornOps=copy CUST_SDI_OUT_EAP_REALM DEG_SDIDevEAPRealmString
AdornOps=copy CUST_SDI_OUT_MSCHAP_V2_USERNAME DEG_SDIDevMSCHAPV2UsernameString
AdornOps=copy CUST_SDI_OUT_MSCHAP_V2_PASSWORD DEG_SDIDevMSCHAPV2PasswordString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0034"
AdornOps=set DEG_OEMDevMessageString "Log After VoWiFiInit custom call"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/250.InsertVIMSI]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SDIDevReturnCodeInteger,=,0
Conditions=DEG_VIMSI,!=,""
Operations=and
TrueRuleChain=100.LookUpSecLineTable


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/250.InsertVIMSI/100.LookUpSecLineTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.LookUpTable
RuleNames=300.CheckLookUpStatus


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/250.InsertVIMSI/100.LookUpSecLineTable/100.InitLookup]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevTerminalIdString DEG_TERMINAL_ID


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/250.InsertVIMSI/100.LookUpSecLineTable/200.LookUpTable]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=130.LookUpSecondaryLineTable
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/250.InsertVIMSI/100.LookUpSecLineTable/300.CheckLookUpStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Operations=and
TrueRuleChain=100.InitInsert
TrueRuleChain=110.InsertIntoTable
FalseRuleChain=200.SetLogInfoInfo
FalseRuleChain=210.LogDuplicateError


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/250.InsertVIMSI/100.LookUpSecLineTable/300.CheckLookUpStatus/200.SetLogInfoInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0035"
AdornOps=set DEG_OEMDevMessageString "Row already exists in DEG_SDI_SECONDARY_LINE table"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/250.InsertVIMSI/100.LookUpSecLineTable/300.CheckLookUpStatus/210.LogDuplicateError]

Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Row already exists in DEG_SDI_SECONDARY_LINE table : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/250.InsertVIMSI/100.LookUpSecLineTable/300.CheckLookUpStatus/100.InitInsert]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set log_DB_Operation INSERT
AdornOps=set log_Table_Name DEG_SDI_SECONDARY_LINE
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=copy DEG_OEMDevTerminalIdString DEG_TERMINAL_ID
AdornOps=set DEG_MSISDN -1


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/250.InsertVIMSI/100.LookUpSecLineTable/300.CheckLookUpStatus/110.InsertIntoTable]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
SessionStore=DEG_SDI_SECONDARY_LINE_SessionStore


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/260.CopyVoWiFiInitTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,!=,0
TrueRuleChain=CheckResponseType


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/260.CopyVoWiFiInitTemplate/CheckResponseType]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.CopyJSONResponse
FalseRuleChain=200.CopyXMLResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/260.CopyVoWiFiInitTemplate/CheckResponseType/100.CopyJSONResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_JSON_TEMPLATES DEG_VoWiFiInitTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/260.CopyVoWiFiInitTemplate/CheckResponseType/200.CopyXMLResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_XML_TEMPLATES DEG_VoWiFiInitTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/300.CopyToVoWiFiAppDataCustomNME]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_OEMDevFriendlyDeviceNameString ""
AdornOps=setifnull DEG_SDIDevVersionInteger 0
AdornOps=copy DEG_OEMDevAppString CUST_SDI_IN_APP
AdornOps=copy DEG_SDIDevVersionInteger CUST_SDI_IN_VERSION
AdornOps=copy DEG_OEMDevFriendlyDeviceNameString CUST_SDI_IN_FRIENDLY_DEVICE_NAME
AdornOps=copy DEG_OEMDevCertificateActionInteger CUST_SDI_IN_CERTIFICATE_ACTION
AdornOps=copy DEG_OEMDevCertSigningRequestString CUST_SDI_IN_CERT_SIGNING_REQUEST
AdornOps=copy DEG_OEMDevVirtualIMSIString CUST_SDI_IN_V_IMSI
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0036"
AdornOps=set DEG_OEMDevMessageString "Log before VoWiFiAppaData custom call"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/310.LogBeforeVoWiFiAppDataCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_IN_V_IMSI
Attributes=CUST_SDI_IN_CERTIFICATE_ACTION
Attributes=CUST_SDI_IN_CERT_SIGNING_REQUEST
Attributes=CUST_SDI_IN_APP
Attributes=CUST_SDI_IN_VERSION
Attributes=CUST_SDI_IN_FRIENDLY_DEVICE_NAME
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log before VoWiFiAppaData custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/320.CallVoWiFiAppDataCustom]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_SecondaryDevice_VoWiFiAppDataCustom
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/340.LogAfterVoWiFiAppDataCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_OUT_RETURN_CODE
Attributes=CUST_SDI_OUT_RETURN_DESC
Attributes=CUST_SDI_OUT_IMS_CLIENT_CONFIG
Attributes=CUST_SDI_OUT_EPDG_SERVER_ADDR
Attributes=CUST_SDI_OUT_CLIENT_CERTIFICATE
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log After VoWiFiAppData custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/330.CopyNMEFromVoWiFiAppDataCustom]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull CUST_SDI_OUT_RETURN_CODE -1
AdornOps=setifnull CUST_SDI_OUT_RETURN_DESC ""
AdornOps=setifnull CUST_SDI_OUT_IMS_CLIENT_CONFIG ""
AdornOps=setifnull CUST_SDI_OUT_EPDG_SERVER_ADDR ""
AdornOps=setifnull CUST_SDI_OUT_CLIENT_CERTIFICATE ""
AdornOps=copy CUST_SDI_OUT_RETURN_CODE DEG_SDIDevReturnCodeInteger
AdornOps=copy CUST_SDI_OUT_RETURN_DESC DEG_SDIDevReturnCodeDescString
AdornOps=copy CUST_SDI_OUT_IMS_CLIENT_CONFIG DEG_SDIDevIMSClientConfigString
AdornOps=copy CUST_SDI_OUT_EPDG_SERVER_ADDR DEG_SDIDevEPDGServerAddrString
AdornOps=copy CUST_SDI_OUT_CLIENT_CERTIFICATE DEG_SDIDevClientCertificateString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0037"
AdornOps=set DEG_OEMDevMessageString "Log After VoWiFiAppData custom call"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/350.CopyVoWiFiAppDataTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,!=,0
TrueRuleChain=CheckResponseType


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/350.CopyVoWiFiAppDataTemplate/CheckResponseType]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.CopyJSONResponse
FalseRuleChain=200.CopyXMLResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/350.CopyVoWiFiAppDataTemplate/CheckResponseType/100.CopyJSONResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_JSON_TEMPLATES DEG_VoWiFiAppDataTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/350.CopyVoWiFiAppDataTemplate/CheckResponseType/200.CopyXMLResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_XML_TEMPLATES DEG_VoWiFiAppDataTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/400.CopyToVoWiFiIdentitiesCustomNME]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_OEMDevFriendlyDeviceNameString ""
AdornOps=setifnull DEG_SDIDevVersionInteger 0
AdornOps=copy DEG_OEMDevAppString CUST_SDI_IN_APP
AdornOps=copy DEG_SDIDevVersionInteger CUST_SDI_IN_VERSION
AdornOps=copy DEG_OEMDevFriendlyDeviceNameString CUST_SDI_IN_FRIENDLY_DEVICE_NAME
AdornOps=copy DEG_OEMDevVirtualIMSIString CUST_SDI_IN_V_IMSI
AdornOps=copy DEG_PIMSI CUST_SDI_IN_P_IMSI
AdornOps=copy DEG_OEMDevIdentityActionInteger CUST_SDI_IN_IDENTITY_ACTION
AdornOps=set DEG_OEMDevMessageString "Log before VoWiFiIdentities custom call"
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0038"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/410.LogBeforeVoWiFiIdentitiesCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_IN_V_IMSI
Attributes=CUST_SDI_IN_P_IMSI
Attributes=CUST_SDI_IN_IDENTITY_ACTION
Attributes=CUST_SDI_IN_APP
Attributes=CUST_SDI_IN_VERSION
Attributes=CUST_SDI_IN_FRIENDLY_DEVICE_NAME
Attributes=DEG_OEMDevMessageString
Attributes=DEG_CDevProcessingMessageIdString
LogLevel=DEBUG2
Message=Log before VoWiFiIdentities custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/420.CallVoWiFiIdentitiesCustom]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_SecondaryDevice_VoWiFiIdentitiesCustom
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/440.LogAfterVoWiFiIdentitiesCustom]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_SDI_OUT_RETURN_CODE
Attributes=CUST_SDI_OUT_RETURN_DESC
Attributes=CUST_SDI_OUT_MSISDN
Attributes=CUST_SDI_OUT_IS_DEFAULT
Attributes=CUST_SDI_OUT_LINE_IMSI
Attributes=CUST_SDI_OUT_LINE_FRIENDLY_NAME
Attributes=DEG_OEMDevMessageString
Attributes=DEG_CDevProcessingMessageIdString
LogLevel=DEBUG2
Message=Log After VoWiFiIdentities custom call : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/430.CopyNMEFromVoWiFiIdentitiesCustom]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull CUST_SDI_OUT_RETURN_CODE -1
AdornOps=setifnull CUST_SDI_OUT_RETURN_DESC ""
AdornOps=setifnull CUST_SDI_OUT_MSISDN ""
AdornOps=setifnull CUST_SDI_OUT_IS_DEFAULT ""
AdornOps=setifnull CUST_SDI_OUT_LINE_IMSI ""
AdornOps=setifnull CUST_SDI_OUT_LINE_FRIENDLY_NAME ""
AdornOps=copy CUST_SDI_OUT_RETURN_CODE DEG_SDIDevReturnCodeInteger
AdornOps=copy CUST_SDI_OUT_RETURN_DESC DEG_SDIDevReturnCodeDescString
AdornOps=copy CUST_SDI_OUT_MSISDN DEG_SDIDevSecondaryMSISDNString
AdornOps=copy CUST_SDI_OUT_IS_DEFAULT DEG_SDIDevIsDefaultString
AdornOps=copy CUST_SDI_OUT_LINE_IMSI DEG_SDIDevLineIMSIString
AdornOps=copy CUST_SDI_OUT_LINE_FRIENDLY_NAME DEG_SDIDevLineFriendlyNameString
AdornOps=set DEG_VoWiFiIdentitiesTemplateIndexInteger -1
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0039"
AdornOps=set DEG_OEMDevMessageString "Log After VoWiFiIdentities custom call"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CreateSecondaryMSISDNList
RuleNames=110.CreateLineIMSIList
RuleNames=200.UpdateTable

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/100.CreateSecondaryMSISDNList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_SDIDevSecondaryMSISDNString
ListAttribute=DEG_SDIDevSecondaryMSISDNList
Delimiters=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/110.CreateLineIMSIList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_SDIDevLineIMSIString
ListAttribute=DEG_SDIDevLineIMSIList
Delimiters=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable]


ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_SDIDevSecondaryMSISDNList
ListAttributeName=DEG_SDIDevLineIMSIList
RuleChain=IncreaseIndex
RuleChain=CheckIndex
TmpAttributeName=DEG_SDIDevSecondaryMSISDNTempString
TmpAttributeName=DEG_SDIDevLineIMSITempString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/IncreaseIndex]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_VoWiFiIdentitiesTemplateIndexInteger 1 DEG_VoWiFiIdentitiesTemplateIndexInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_VoWiFiIdentitiesTemplateIndexInteger,=,0
TrueRuleChain=Update


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitUpdate
RuleNames=110.UpdateTable
RuleNames=120.CheckUpdate


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/100.InitUpdate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set log_DB_Operation UPDATE
AdornOps=set log_Table_Name DEG_SDI_SECONDARY_LINE
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy DEG_SDIDevSecondaryMSISDNTempString DEG_MSISDN
AdornOps=copy DEG_SDIDevLineIMSITempString DEG_VIMSI


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/110.UpdateTable]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_TERMINAL_ID,DEG_TERMINAL_ID
MapAttributes=DEG_VIMSI,DEG_VIMSI
MapAttributes=DEG_MSISDN,DEG_MSISDN
NativeCondition=1.MapByTerminalIDAndVIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SDI_SECONDARY_LINE_SessionStore


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/120.CheckUpdate]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
Operations=None

TrueRuleChain=SystemError
TrueRuleChain=NoRowExists
TrueRuleChain=UpdateRow

SystemError=100.SetErrorAttribute
SystemError=200.PrintError
SystemError=120.CallEndAuditDataRuleChain
NoRowExists=100.SetErrorForNoRow
NoRowExists=200.PrintMessageForNoRow
NoRowExists=120.CallEndAuditDataRuleChain
UpdateRow=50.SetErrorInfo
UpdateRow=100.LogMessage


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/120.CheckUpdate/100.SetErrorAttribute]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0040"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to access DEG_SDI_SECONDARY_LINE table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/120.CheckUpdate/200.PrintError]

Attributes=DEG_TERMINAL_ID
Attributes=DEG_VIMSI
Attributes=DEG_MSISDN
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Error while access DEG_SDI_SECONDARY_LINE Table : 
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/120.CheckUpdate/120.CallEndAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=903.GenerateSecDevEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/120.CheckUpdate/100.SetErrorForNoRow]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0041"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update DEG_SDI_SECONDARY_LINE table"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/120.CheckUpdate/200.PrintMessageForNoRow]

Attributes=DEG_TERMINAL_ID
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Error while updating DEG_SDI_SECONDARY_LINE Table : 
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/120.CheckUpdate/50.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0042"
AdornOps=set DEG_OEMDevErrorMessageString "Row updated in DEG_SDI_SECONDARY_LINE Table"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/450.InsertMSISDN/200.UpdateTable/CheckIndex/Update/120.CheckUpdate/100.LogMessage]

Attributes=DEG_TERMINAL_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG
Message=Row updated in DEG_SDI_SECONDARY_LINE Table : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,!=,0
TrueRuleChain=CheckResponseType


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.CopyJSONResponse
TrueRuleChain=200.CreateTemplate4MultiVoWiFiIdentities
FalseRuleChain=200.CopyXMLResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CopyXMLResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_XML_TEMPLATES DEG_VoWiFiIdentitiesTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/100.CopyJSONResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_RESP_JSON_TEMPLATES DEG_VoWiFiIdentitiesTemplateString
AdornOps=substr "[" "]"  DEG_VoWiFiIdentitiesTemplateString DEG_VoWiFiIdentitiesTemplateTempString
AdornOps=copy DEG_VoWiFiIdentitiesTemplateTempString DEG_VoWiFiIdentitiesTemplateNewString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SDIDevSecondaryMSISDNString,contains,","
Conditions=DEG_SDIDevIsDefaultString,contains,","
Conditions=DEG_SDIDevLineIMSIString,contains,","
Conditions=DEG_SDIDevLineFriendlyNameString,contains,","
Operations=or,or,or
TrueRuleChain=100.CreateTemplate


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Initialize
RuleNames=200.AddSecondaryMSISDNList
RuleNames=210.AddIsDefaultList
RuleNames=220.AddLineIMSIList
RuleNames=230.AddLineFriendlyNameList
RuleNames=300.IterateList
RuleNames=400.CreateFinalTemplate


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/100.Initialize]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_VoWiFiIdentitiesTemplateIndexInteger -1
AdornOps=set DEG_SDIDevSecondaryMSISDNList null
AdornOps=set DEG_SDIDevLineIMSIList null

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/200.AddSecondaryMSISDNList]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
SourceAttribute=DEG_SDIDevSecondaryMSISDNString
TokenAttribute=DEG_SDIDevSecondaryMSISDNTempString
Delimiter=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/200.AddSecondaryMSISDNList/IterationRule]

ClassName=RuleChain
RuleNames=100.IncrementIndex
RuleNames=110.CreateList


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/200.AddSecondaryMSISDNList/IterationRule/100.IncrementIndex]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_VoWiFiIdentitiesTemplateIndexInteger 1 DEG_VoWiFiIdentitiesTemplateIndexInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/200.AddSecondaryMSISDNList/IterationRule/110.CreateList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_SDIDevSecondaryMSISDNTempString
ListAttribute=DEG_SDIDevSecondaryMSISDNList


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/210.AddIsDefaultList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_SDIDevIsDefaultString
ListAttribute=DEG_DEG_SDIDevIsDefaultList
Delimiters=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/220.AddLineIMSIList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_SDIDevLineIMSIString
ListAttribute=DEG_SDIDevLineIMSIList
Delimiters=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/230.AddLineFriendlyNameList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_SDIDevLineFriendlyNameString
ListAttribute=DEG_SDIDevLineFriendlyNameList
Delimiters=,


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/300.IterateList]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_SDIDevSecondaryMSISDNList
ListAttributeName=DEG_DEG_SDIDevIsDefaultList
ListAttributeName=DEG_SDIDevLineIMSIList
ListAttributeName=DEG_SDIDevLineFriendlyNameList
RuleChain=100.DecrementArrayIndex
RuleChain=200.ReplaceValues
RuleChain=300.CheckIndex
TmpAttributeName=DEG_SDIDevSecondaryMSISDNTempString
TmpAttributeName=DEG_SDIDevIsDefaultTempString
TmpAttributeName=DEG_SDIDevLineIMSITempString
TmpAttributeName=DEG_SDIDevLineFriendlyNameTempString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/300.IterateList/100.DecrementArrayIndex]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=- DEG_VoWiFiIdentitiesTemplateIndexInteger 1 DEG_VoWiFiIdentitiesTemplateIndexInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/300.IterateList/200.ReplaceValues]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=replace "{%DEG_SDIDevSecondaryMSISDNString%}" DEG_SDIDevSecondaryMSISDNTempString DEG_VoWiFiIdentitiesTemplateNewString DEG_VoWiFiIdentitiesTemplateNewString
AdornOps=replace "{%DEG_SDIDevIsDefaultString%}" DEG_SDIDevIsDefaultTempString DEG_VoWiFiIdentitiesTemplateNewString DEG_VoWiFiIdentitiesTemplateNewString
AdornOps=replace "{%DEG_SDIDevLineIMSIString%}" DEG_SDIDevLineIMSITempString DEG_VoWiFiIdentitiesTemplateNewString DEG_VoWiFiIdentitiesTemplateNewString
AdornOps=replace "{%DEG_SDIDevLineFriendlyNameString%}" DEG_SDIDevLineFriendlyNameTempString DEG_VoWiFiIdentitiesTemplateNewString DEG_VoWiFiIdentitiesTemplateNewString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/300.IterateList/300.CheckIndex]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_VoWiFiIdentitiesTemplateIndexInteger,>=,0
TrueRuleChain=CreateTemplateList


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/300.IterateList/300.CheckIndex/CreateTemplateList]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_VoWiFiIdentitiesTemplateNewString , DEG_VoWiFiIdentitiesTemplateNewString
AdornOps=+ DEG_VoWiFiIdentitiesTemplateNewString DEG_VoWiFiIdentitiesTemplateTempString DEG_VoWiFiIdentitiesTemplateNewString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/400.ProcessRequestBasedOnApp/100.ProcessBasedOnApp/Process/460.CopyVoWiFiIdentitiesTemplate/CheckResponseType/200.CreateTemplate4MultiVoWiFiIdentities/100.CreateTemplate/400.CreateFinalTemplate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=replace DEG_VoWiFiIdentitiesTemplateTempString DEG_VoWiFiIdentitiesTemplateNewString DEG_VoWiFiIdentitiesTemplateString DEG_VoWiFiIdentitiesTemplateString
AdornOps=substr 0 length-2 DEG_VoWiFiIdentitiesTemplateString DEG_VoWiFiIdentitiesTemplateString
AdornOps=+ DEG_VoWiFiIdentitiesTemplateString ] DEG_VoWiFiIdentitiesTemplateString




[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate]

ClassName=ConditionalRule
Conditions=DEG_Common_ResponseTemplateString,!=,""
TrueRuleChain=100.SetCommonTemplate
TrueRuleChain=200.AddResponseTemplatetoList
TrueRuleChain=300.FormFinalResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/100.SetCommonTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.JSONCommonResponse
FalseRuleChain=200.XMLCommonResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/100.SetCommonTemplate/100.JSONCommonResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=indexof ">" DEG_Common_ResponseTemplateString DEG_CommonTemplateIndexInteger
AdornOps=- DEG_CommonTemplateIndexInteger 1 DEG_CommonTemplateIndexInteger
AdornOps=substr 0 DEG_CommonTemplateIndexInteger DEG_Common_ResponseTemplateString DEG_Common_ResponseTemplateString
AdornOps=+ DEG_Common_ResponseTemplateString , DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/100.SetCommonTemplate/200.XMLCommonResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=indexof DEG_OEMDevSDITempString DEG_Common_ResponseTemplateString DEG_CommonTemplateIndexInteger
AdornOps=- DEG_CommonTemplateIndexInteger 1 DEG_CommonTemplateIndexInteger
AdornOps=substr 0 DEG_CommonTemplateIndexInteger DEG_Common_ResponseTemplateString DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevAppNameList
RuleChain=CreateFinalResponse
TmpAttributeName=DEG_OEMDevAppString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_OEMDevAppString,=,"Services_Status"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_Init"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_AppData"
Conditions=DEG_OEMDevAppString,=,"VoWiFi_Identities"

Operations=None

TrueRuleChain=AppendServicesStatusResponse
TrueRuleChain=AppendVoWiFiInitResponse
TrueRuleChain=AppendVoWiFiAppDataResponse
TrueRuleChain=AppendVoWiFiIdentitiesResponse

AppendServicesStatusResponse=100.AppendServicesStatusResponse
AppendVoWiFiInitResponse=200.AppendVoWiFiInitResponse
AppendVoWiFiAppDataResponse=300.AppendVoWiFiAppDataResponse
AppendVoWiFiIdentitiesResponse=400.AppendVoWiFiIdentitiesResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/100.AppendServicesStatusResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.AppendResponse4ServStatus
TrueRuleChain=110.AppendComma4ServStatus
FalseRuleChain=100.AppendResponse4ServStatus


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/100.AppendServicesStatusResponse/100.AppendResponse4ServStatus]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString DEG_ServiceStatusTemplateString DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/100.AppendServicesStatusResponse/110.AppendComma4ServStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAppNameValidCountInteger,>,1
TrueRuleChain=Append


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/100.AppendServicesStatusResponse/110.AppendComma4ServStatus/Append]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString , DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/200.AppendVoWiFiInitResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.AppendResponse4VInit
TrueRuleChain=110.AppendComma4VInit
FalseRuleChain=100.AppendResponse4VInit


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/200.AppendVoWiFiInitResponse/100.AppendResponse4VInit]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString DEG_VoWiFiInitTemplateString DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/200.AppendVoWiFiInitResponse/110.AppendComma4VInit]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAppNameValidCountInteger,>,1
TrueRuleChain=Append


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/200.AppendVoWiFiInitResponse/110.AppendComma4VInit/Append]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString , DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/300.AppendVoWiFiAppDataResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.AppendResponse4VAppData
TrueRuleChain=110.AppendComma4VAppData
FalseRuleChain=100.AppendResponse4VAppData


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/300.AppendVoWiFiAppDataResponse/100.AppendResponse4VAppData]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString DEG_VoWiFiAppDataTemplateString DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/300.AppendVoWiFiAppDataResponse/110.AppendComma4VAppData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAppNameValidCountInteger,>,1
TrueRuleChain=Append


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/300.AppendVoWiFiAppDataResponse/110.AppendComma4VAppData/Append]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString , DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/400.AppendVoWiFiIdentitiesResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.AppendResponse4VIdentities
TrueRuleChain=110.AppendComma4VIdentities
FalseRuleChain=100.AppendResponse4VIdentities


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/400.AppendVoWiFiIdentitiesResponse/100.AppendResponse4VIdentities]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString DEG_VoWiFiIdentitiesTemplateString DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/400.AppendVoWiFiIdentitiesResponse/110.AppendComma4VIdentities]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAppNameValidCountInteger,>,1
TrueRuleChain=Append


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/200.AddResponseTemplatetoList/CreateFinalResponse/400.AppendVoWiFiIdentitiesResponse/110.AppendComma4VIdentities/Append]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString , DEG_Common_ResponseTemplateString


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/300.FormFinalResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SecondaryResponseTypeString,=,"JSON"
TrueRuleChain=100.JSONResponse
TrueRuleChain=110.FormatMessage
TrueRuleChain=120.SetJSONResponse
FalseRuleChain=200.XMLResponse
FalseRuleChain=110.FormatMessage
FalseRuleChain=210.SetXMLResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/300.FormFinalResponse/100.JSONResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAppNameValidCountInteger,>,1
TrueRuleChain=SupressComma
TrueRuleChain=FormResponse
FalseRuleChain=FormResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/300.FormFinalResponse/100.JSONResponse/SupressComma]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=substr 0 length-1 DEG_Common_ResponseTemplateString DEG_Common_ResponseTemplateString

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/300.FormFinalResponse/100.JSONResponse/FormResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString >] DEG_Common_ResponseTemplateString
AdornOps=setifnull DEG_RESP_TEMPLATES_FILE ""
AdornOps=copy DEG_Common_ResponseTemplateString DEG_RESP_TEMPLATES_FILE


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/300.FormFinalResponse/200.XMLResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_ResponseTemplateString DEG_OEMDevSDITempString DEG_Common_ResponseTemplateString
AdornOps=setifnull DEG_RESP_TEMPLATES_FILE ""
AdornOps=copy DEG_Common_ResponseTemplateString DEG_RESP_TEMPLATES_FILE


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/300.FormFinalResponse/110.FormatMessage]

ClassName=com.hp.usage.rules.transform.MessageFormatRule
Locale=en_US
MessageFormat=DEG_RESP_TEMPLATES_FILE
ResultAttribute=DEG_RESP_TEMPLATES_FILE
UseDynamicMessageFormat=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/300.FormFinalResponse/120.SetJSONResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set ResponseMessageHeader "text/JSON;charset=UTF-8"
AdornOps=replace "<" "{" DEG_RESP_TEMPLATES_FILE DEG_RESP_TEMPLATES_FILE
AdornOps=replace ">" "}" DEG_RESP_TEMPLATES_FILE DEG_RESP_TEMPLATES_FILE
AdornOps=copy DEG_RESP_TEMPLATES_FILE ResponseMessage


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/300.ProcessRequest/500.GenerateResponseTemplate/300.FormFinalResponse/210.SetXMLResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set ResponseMessageHeader "text/xml;charset=UTF-8"
AdornOps=copy DEG_RESP_TEMPLATES_FILE ResponseMessage


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Operations=None

Conditions=DEG_SSL_REQUEST_STATE,=,"200C"
Conditions=DEG_SSL_REQUEST_STATE,=,"403C"
Conditions=DEG_SSL_REQUEST_STATE,=,"500C"
Conditions=DEG_SSL_REQUEST_STATE,=,"511C"
Conditions=DEG_SSL_REQUEST_STATE,=,"503C"
Conditions=DEG_SSL_REQUEST_STATE,=,DEG_SSL_REQUEST_STATE

TrueRuleChain=Http200C
TrueRuleChain=Http403C
TrueRuleChain=Http500C
TrueRuleChain=Http511C
TrueRuleChain=Http503C
TrueRuleChain=HttpUnknown

Http200C=200.Http200C_SetHttpResponse
Http200C=210.Http200C_LogResponse
Http200C=120.CallEndOKAuditDataRuleChain

Http403C=255.Http403C_InitErrorLog
Http403C=300.Http403C_LogResponse
Http403C=120.CallEndErrorAuditDataRuleChain
Http403C=310.Http403C_RaiseException

Http500C=350.Http500C_InitErrorLog
Http500C=400.Http500C_LogResponse
Http500C=120.CallEndErrorAuditDataRuleChain
Http500C=410.Http500C_RaiseException

HttpUnknown=450.HttpUnknown_InitErrorLog
HttpUnknown=500.HttpUnknown_LogResponse
HttpUnknown=120.CallEndErrorAuditDataRuleChain
HttpUnknown=510.HttpUnknown_RaiseException

Http511C=550.Http511C_InitErrorLog
Http511C=600.Http511C_LogResponse
Http511C=120.CallEndErrorAuditDataRuleChain
Http511C=610.Http511C_RaiseException

Http503C=655.Http503C_InitErrorLog
Http503C=700.Http503C_LogResponse
Http503C=120.CallEndErrorAuditDataRuleChain
Http503C=710.Http503C_RaiseException


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/120.CallEndOKAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=902.GenerateSecDevEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/120.CallEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=903.GenerateSecDevEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/200.Http200C_SetHttpResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevHttpStatusInteger 200
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "TextResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_OEMDevRequestProcessedInteger 0
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0043"
#AdornOps=set DEG_OEMDevMessageString "http status is set to 200"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/210.Http200C_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevAppString
Attributes=DEG_SDIDevVersionInteger
Attributes=DEG_OEMDevFriendlyDeviceNameString
Attributes=DEG_OEMDevVirtualIMSIString
Attributes=DEG_OEMDevTerminalTypeInteger
Attributes=DEG_OEMDevTerminalOSInteger
Attributes=DEG_OEMDevTerminalSWVersionString
Attributes=DEG_OEMDevConnectivityAuthString
Attributes=DEG_OEMDevCertificateActionInteger
Attributes=DEG_OEMDevCertSigningRequestString
Attributes=DEG_OEMDevIdentityActionInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=INFO
Message=Action processed successfully - http status is set to 200 and http session closed: 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/255.Http403C_InitErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0044"
AdornOps=setifnull DEG_OEMDevErrorMessageString "http status is set to 403"
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/300.Http403C_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevAppString
Attributes=DEG_SDIDevVersionInteger
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=INFO
Message=OEM action is invalid - http status is set to 403 and http session closed: 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/310.Http403C_RaiseException]

ClassName=com.hp.usage.listoperations.RaiseCustomRuleExceptionRule
ErrorId=403C
ErrorMessage=Http Request is rejected with http status 403


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/350.Http500C_InitErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0045"
AdornOps=setifnull DEG_OEMDevErrorMessageString "http status is set to 500"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/400.Http500C_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevAppString
Attributes=DEG_SDIDevVersionInteger
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=INFO
Message=Internal error during OEM action processing - http status is set to 500 and http session closed: 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/410.Http500C_RaiseException]

ClassName=com.hp.usage.listoperations.RaiseCustomRuleExceptionRule
ErrorId=500C
ErrorMessage=Http Request is rejected with http status 500


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/450.HttpUnknown_InitErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0046"
#AdornOps=set DEG_OEMDevErrorMessageString "http status is set to 500"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/500.HttpUnknown_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevAppString
Attributes=DEG_SDIDevVersionInteger
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=INFO
Message=Unknown internal error during OEM action processing - http status is set to 500 and http session closed: 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/510.HttpUnknown_RaiseException]

ClassName=com.hp.usage.listoperations.RaiseCustomRuleExceptionRule
ErrorId=500C
ErrorMessage=Http Request is rejected with http status 500


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/550.Http511C_InitErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0047"
#AdornOps=set DEG_OEMDevErrorMessageString "http status is set to 511"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/600.Http511C_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevAppString
Attributes=DEG_SDIDevVersionInteger
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=INFO
Message=Internal error during OEM action processing - http status is set to 511 and http session closed: 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/610.Http511C_RaiseException]

ClassName=com.hp.usage.listoperations.RaiseCustomRuleExceptionRule
ErrorId=511C
ErrorMessage=Http Request is rejected with http status 511


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/655.Http503C_InitErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0048"
#AdornOps=set DEG_OEMDevErrorMessageString "http status is set to 503"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/700.Http503C_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevTerminalIdString
Attributes=DEG_OEMDevAccessTokenString
Attributes=DEG_OEMDevMessageIdInteger
Attributes=DEG_OEMDevAppString
Attributes=DEG_SDIDevVersionInteger
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=INFO
Message=Internal error during OEM action processing - http status is set to 503 and http session closed: 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/100.ProcessRequestRuleChain/400.SetParametersForResponse/710.Http503C_RaiseException]

ClassName=com.hp.usage.listoperations.RaiseCustomRuleExceptionRule
ErrorId=503C
ErrorMessage=Http Request is rejected with http status 503


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Initialize
RuleNames=100.ExecuteServiceTemplateLookup
RuleNames=200.CheckLookupStatus


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/100.Initialize]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_SDIDevVersionInteger DEG_VERSION
AdornOps=copy DEG_OEMDevTerminalTypeInteger DEG_TERMINAL_TYPE
AdornOps=copy DEG_OEMDevTerminalOSInteger DEG_TERMINAL_OS
AdornOps=copy DEG_OEMDevTerminalSWVersionString DEG_TERMINAL_SW_VERSION
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=set DEG_OEMDevMessageString "Lookup Before DEG_SDI_SERVICE_RSP_TEMPLATES table"
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.SDI.0049"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/100.ExecuteServiceTemplateLookup]

ClassName=ConditionalRule
Conditions=DEG_SDIDevVersionInteger,!=,0
Conditions=DEG_OEMDevTerminalTypeInteger,!=,-1
Conditions=DEG_OEMDevTerminalOSInteger,!=,-1
Conditions=DEG_OEMDevTerminalSWVersionString,!=,dummy
Operations=and,and,and
TrueRuleChain=100.LogBeforeLookUp
TrueRuleChain=100.LookUpServiceRspTemplateDB
FalseRuleChain=100.LogBeforeLookUp
FalseRuleChain=110.SetVersionValue
FalseRuleChain=200.LookUpByVersionAndApp


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/100.ExecuteServiceTemplateLookup/100.LogBeforeLookUp]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_APP_NAME
Attributes=DEG_VERSION
Attributes=DEG_TERMINAL_TYPE
Attributes=DEG_TERMINAL_OS
Attributes=DEG_TERMINAL_SW_VERSION
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
Message=Lookup Before DEG_SDI_SERVICE_RSP_TEMPLATES table : : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/100.ExecuteServiceTemplateLookup/100.LookUpServiceRspTemplateDB]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=1.MatchByParameters
MapAttributes=DEG_VERSION,DEG_VERSION
MapAttributes=DEG_VERSION_VALIDITY,DEG_VERSION_VALIDITY
MapAttributes=DEG_APP_NAME,DEG_APP_NAME
MapAttributes=DEG_TERMINAL_TYPE,DEG_TERMINAL_TYPE
MapAttributes=DEG_TERMINAL_OS,DEG_TERMINAL_OS
MapAttributes=DEG_TERMINAL_SW_VERSION,DEG_TERMINAL_SW_VERSION
MapAttributes=DEG_RESP_JSON_TEMPLATES,DEG_RESP_JSON_TEMPLATES
MapAttributes=DEG_RESP_XML_TEMPLATES,DEG_RESP_XML_TEMPLATES
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SDI_SERVICE_RSP_TEMPLATES_SessionStore


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/100.ExecuteServiceTemplateLookup/110.SetVersionValue]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_VERSION 0


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/100.ExecuteServiceTemplateLookup/200.LookUpByVersionAndApp]


ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
NativeCondition=2.MatchByVersionAndAppName
MapAttributes=DEG_VERSION,DEG_VERSION
MapAttributes=DEG_VERSION_VALIDITY,DEG_VERSION_VALIDITY
MapAttributes=DEG_APP_NAME,DEG_APP_NAME
MapAttributes=DEG_TERMINAL_TYPE,DEG_TERMINAL_TYPE
MapAttributes=DEG_TERMINAL_OS,DEG_TERMINAL_OS
MapAttributes=DEG_TERMINAL_SW_VERSION,DEG_TERMINAL_SW_VERSION
MapAttributes=DEG_RESP_JSON_TEMPLATES,DEG_RESP_JSON_TEMPLATES
MapAttributes=DEG_RESP_XML_TEMPLATES,DEG_RESP_XML_TEMPLATES
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SDI_SERVICE_RSP_TEMPLATES_SessionStore


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/200.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog
FalseRuleChain=200.CheckKeyExists


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/200.CheckLookupStatus/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0050"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to perform lookup or access DEG_SDI_SERVICE_RSP_TEMPLATES table"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_SSL_REQUEST_STATE "500C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/200.CheckLookupStatus/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_APP_NAME
Attributes=DEG_VERSION
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
LogLevel=CRITICAL
Message=Database Error: Unable to perform lookup or access DEG_SDI_SERVICE_RSP_TEMPLATES table : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/200.CheckLookupStatus/200.CheckKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
TrueRuleChain=100.SetErrorInfo
TrueRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/200.CheckLookupStatus/200.CheckKeyExists/100.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0051"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to find a row in DEG_SDI_SERVICE_RSP_TEMPLATES table"
AdornOps=set DEG_SSL_REQUEST_STATE "500C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/110.GetResponseTemplateRuleChain/200.CheckLookupStatus/200.CheckKeyExists/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_APP_NAME
Attributes=DEG_VERSION
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
LogLevel=ERROR
Message=Database Error: Unable to find the record in DEG_SDI_SERVICE_RSP_TEMPLATES table : 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/130.LookUpSecondaryLineTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitLookup
RuleNames=200.LookUpTable
RuleNames=300.CheckDBError


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/130.LookUpSecondaryLineTable/100.InitLookup]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEG_SDI_SECONDARY_LINE"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/130.LookUpSecondaryLineTable/200.LookUpTable]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_TERMINAL_ID,DEG_TERMINAL_ID
MapAttributes=DEG_VIMSI,DEG_VIMSI
NativeCondition=1.MapByTerminalIDAndVIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_SDI_SECONDARY_LINE_SessionStore


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/130.LookUpSecondaryLineTable/300.CheckDBError]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
TrueRuleChain=100.SetHTTPErrorResponse
TrueRuleChain=110.ErrorLog


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/130.LookUpSecondaryLineTable/300.CheckDBError/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0052"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to perform lookup or access DEG_SDI_SECONDARY_LINE table"
AdornOps=set DEG_CDevOutReturnCodeString "500"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_SSL_REQUEST_STATE "500C"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/130.LookUpSecondaryLineTable/300.CheckDBError/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_TERMINAL_ID
Attributes=DEG_OEMDevVirtualIMSIString
Attributes=DEG_VIMSI
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=CRITICAL
Message=Database Error: Unable to perform lookup or access DEG_SDI_SECONDARY_LINE table
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetParametersOfHttpResponse

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Operations=None

Conditions=DEG_OEMDevHttpErrorNameString,contains,DecodeException
Conditions=DEG_OEMDevHttpErrorNameString,contains,XMLStreamException
Conditions=DEG_OEMDevHttpErrorNameString,contains,NumberFormatException
Conditions=DEG_SSL_REQUEST_STATE,=,"403C"
Conditions=DEG_SSL_REQUEST_STATE,=,"500C"
Conditions=DEG_SSL_REQUEST_STATE,=,"503C"
Conditions=DEG_SSL_REQUEST_STATE,=,"511C"
Conditions=DEG_SSL_REQUEST_STATE,=,DEG_SSL_REQUEST_STATE

TrueRuleChain=HttpParseError
TrueRuleChain=HttpParseError2
TrueRuleChain=HttpParseError3
TrueRuleChain=Http403C
TrueRuleChain=Http500C
TrueRuleChain=Http503C
TrueRuleChain=Http511C
TrueRuleChain=HttpUnknown

HttpParseError=200.HttpParseError_SetHttpResponse
HttpParseError=210.HttpParseError_LogResponse

HttpParseError2=200.HttpParseError_SetHttpResponse
HttpParseError2=210.HttpParseError_LogResponse

HttpParseError3=200.HttpParseError_SetHttpResponse
HttpParseError3=210.HttpParseError_LogResponse

Http403C=300.Http403C_SetHttpResponse
Http403C=310.Http403C_LogResponse

Http500C=400.Http500C_SetHttpResponse
Http500C=410.Http500C_LogResponse

Http503C=600.Http503C_SetHttpResponse
Http503C=610.Http503C_LogResponse

Http511C=700.Http511C_SetHttpResponse
Http511C=710.Http511C_LogResponse

HttpUnknown=500.HttpUnknown_SetHttpResponse
HttpUnknown=510.HttpUnknown_LogResponse


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/200.HttpParseError_SetHttpResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevHttpStatusInteger 403
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0053"
AdornOps=set DEG_OEMDevErrorMessageString "HTTP parsing error"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/210.HttpParseError_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_APP_NAME
Attributes=DEG_VERSION
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
LogLevel=WARNING
Message=HTTP parsing error - request processed with http status 403 and http session closed: 
NullAlso=true
#Action=HTTP parsing error - request processed with http status 403 and http session closed . Contact HP Admin.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/300.Http403C_SetHttpResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevHttpStatusInteger 403
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0054"
#AdornOps=set DEG_OEMDevErrorMessageString "Invalid request, http status 403"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/310.Http403C_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_APP_NAME
Attributes=DEG_VERSION
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
LogLevel=WARNING
Message=Invalid request - Response is http status 403 and http session closed
NullAlso=true
#Action=Invalid request - Response is http status 403 and http session closed . Contact HP Admin.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/400.Http500C_SetHttpResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0055"
AdornOps=setifnull DEG_OEMDevErrorMessageString "Internal error, http status 500"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/410.Http500C_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_APP_NAME
Attributes=DEG_VERSION
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
LogLevel=WARNING
Message=Internal error Response is http status 500 and http session closed
NullAlso=true
#Action=Internal error Response is http status 500 and http session closed. Contact HP Admin.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/600.Http503C_SetHttpResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevHttpStatusInteger 503
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0056"
AdornOps=set DEG_OEMDevErrorMessageString "Internal error, http status 503"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/610.Http503C_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_APP_NAME
Attributes=DEG_VERSION
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
LogLevel=WARNING
Message=Internal error Response is http status 503 and http session closed
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/700.Http511C_SetHttpResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevHttpStatusInteger 511
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0057"
AdornOps=set DEG_OEMDevErrorMessageString "Internal error, http status 511"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/710.Http511C_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_APP_NAME
Attributes=DEG_VERSION
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
LogLevel=WARNING
Message=Internal error Response is http status 511 and http session closed
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/500.HttpUnknown_SetHttpResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=set DEG_OEMDevConnectionString "close"
AdornOps=set DEG_OEMDevResponseHandlerString "EmptyResponseHandler"
AdornOps=set DEG_OEMDevEncodingString "gzip"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0058"
AdornOps=set DEG_OEMDevErrorMessageString "Unrecognized internal state"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/120.ProcessOEMParsingErrorRuleChain/100.SetParametersOfHttpResponse/510.HttpUnknown_LogResponse]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_APP_NAME
Attributes=DEG_VERSION
Attributes=DEG_CDevOutReturnCodeString
Attributes=DEG_OEMDevHttpStatusInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_SSL_REQUEST_STATE
LogLevel=WARNING
Message=Unrecognized internal state - request processed with http status 500 and http session closed: 
NullAlso=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/000.SessionStoreDefaultErrorRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetLookupErrorFlag
RuleNames=200.LogAlarming


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/000.SessionStoreDefaultErrorRuleChain/100.SetLookupErrorFlag]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0059"
AdornOps=set DEG_OEMDevErrorMessageString "Error while accessing database table"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/000.SessionStoreDefaultErrorRuleChain/200.LogAlarming]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=CRITICAL
Message=Database Error:
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/001.SessionStoreKeyNotExistsRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.ClearDuplicateKeyFlag


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/001.SessionStoreKeyNotExistsRuleChain/100.ClearDuplicateKeyFlag]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 0


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/002.SessionStoreDuplicateKeyRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetDuplicateKeyFlag


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/002.SessionStoreDuplicateKeyRuleChain/100.SetDuplicateKeyFlag]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1


[/templates/DEG/Secondary_DeviceInterface/Common_Core/SessionStores]

ClassName=com.hp.siu.session.SessionStoreManager
SessionStoreNames=DEG_SDI_SECONDARY_DEVICE_SessionStore
SessionStoreNames=DEG_SDI_SERVICE_RSP_TEMPLATES_SessionStore
SessionStoreNames=DEG_SDI_SECONDARY_LINE_SessionStore
SessionStoreNames=DEG_MONITORING_TRANSACTIONS_SessionStore

[/templates/DEG/Secondary_DeviceInterface/Common_Core/SessionStores/DEG_MONITORING_TRANSACTIONS_SessionStore]

Attributes=DEG_MSESSIONID,key
Attributes=DEG_MSESSIONTRANSID,key
Attributes=DEG_MSESSIONIMSI
Attributes=DEG_MSESSIONPROCID
Attributes=DEG_MSESSIONTIMESTAMP
Attributes=DEG_MSESSIONINTERFACE
Attributes=DEG_MSESSIONINOUT
Attributes=DEG_MSESSIONRESULTCODE
Attributes=DEG_MSESSIONMDN
Attributes=DEG_MSESSIONTRANSACTIONTYPE
Attributes=DEG_MSESSIONSOURCEDESTINATION
Attributes=DEG_MSESSIONMESSAGE
Attributes=DEG_MSESSIONUNIQUE_ID
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
CommonPolicyID=Policy2
DbSchema=${DBSCHEMA_NRB}
DatabaseId=DEG_MONITORING_TRANSACTIONS
MaxDatabaseConnections=${DEVICE_MAX_DBCONN_MONI_TRANS}
SQLTypeMap=DEG_MSESSIONID,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONTRANSID,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONPROCID,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONTIMESTAMP,BIGINT
SQLTypeMap=DEG_MSESSIONINTERFACE,VARCHAR(10)
SQLTypeMap=DEG_MSESSIONINOUT,VARCHAR(3)
SQLTypeMap=DEG_MSESSIONRESULTCODE,VARCHAR(15)
SQLTypeMap=DEG_MSESSIONMDN,BIGINT
SQLTypeMap=DEG_MSESSIONTRANSACTIONTYPE,VARCHAR(50)
SQLTypeMap=DEG_MSESSIONSOURCEDESTINATION,VARCHAR(32)
SQLTypeMap=DEG_MSESSIONMESSAGE,VARCHAR(512)
SQLTypeMap=DEG_MSESSIONIMSI,VARCHAR(64)
SQLTypeMap=DEG_MSESSIONUNIQUE_ID,VARCHAR(64)


[/templates/DEG/Secondary_DeviceInterface/Common_Core/SessionStores/DEG_SDI_SECONDARY_LINE_SessionStore]

Attributes=DEG_TERMINAL_ID,key
Attributes=DEG_VIMSI,key
Attributes=DEG_MSISDN
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DbSchema=${DBSCHEMA_DEG}
DatabaseId=DEG_SDI_SECONDARY_LINE
MaxDatabaseConnections=${DEVICE_MAX_DBCONN_DEG_TOKENS}
NativeConditions=1.MapByTerminalIDAndVIMSI
SQLTypeMap=DEG_TERMINAL_ID,VARCHAR(64)
SQLTypeMap=DEG_VIMSI,VARCHAR(64)
SQLTypeMap=DEG_MSISDN,BIGINT
CommonPolicyID=Policy1

[/templates/DEG/Secondary_DeviceInterface/Common_Core/SessionStores/DEG_SDI_SECONDARY_LINE_SessionStore/1.MapByTerminalIDAndVIMSI]

Condition=where DEG_TERMINAL_ID = %DEG_TERMINAL_ID AND DEG_VIMSI = %DEG_VIMSI


[/templates/DEG/Secondary_DeviceInterface/Common_Core/SessionStores/DEG_SDI_SERVICE_RSP_TEMPLATES_SessionStore]

Attributes=DEG_VERSION,key
Attributes=DEG_TERMINAL_TYPE,key
Attributes=DEG_TERMINAL_OS,key
Attributes=DEG_TERMINAL_SW_VERSION,key
Attributes=DEG_APP_NAME,key
Attributes=DEG_RESP_JSON_TEMPLATES
Attributes=DEG_RESP_XML_TEMPLATES
Attributes=DEG_VERSION_VALIDITY
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DbSchema=${DBSCHEMA_DEG}
DatabaseId=DEG_SDI_SERVICE_RSP_TEMPLATES
MaxDatabaseConnections=${DEVICE_MAX_DBCONN_DEG_TOKENS}
NativeConditions=1.MatchByParameters
NativeConditions=2.MatchByVersionAndAppName
SQLTypeMap=DEG_VERSION,VARCHAR(16)
SQLTypeMap=DEG_TERMINAL_TYPE,TINYINT
SQLTypeMap=DEG_TERMINAL_OS,TINYINT
SQLTypeMap=DEG_TERMINAL_SW_VERSION,VARCHAR(32)
SQLTypeMap=DEG_APP_NAME,VARCHAR(64)
SQLTypeMap=DEG_RESP_JSON_TEMPLATES,VARCHAR(4096)
SQLTypeMap=DEG_RESP_XML_TEMPLATES,VARCHAR(4096)
SQLTypeMap=DEG_VERSION_VALIDITY,VARCHAR(16)
CommonPolicyID=Policy1


[/templates/DEG/Secondary_DeviceInterface/Common_Core/SessionStores/DEG_SDI_SERVICE_RSP_TEMPLATES_SessionStore/1.MatchByParameters]

Condition=where DEG_APP_NAME = %DEG_APP_NAME AND DEG_VERSION = %DEG_VERSION AND DEG_TERMINAL_TYPE = %DEG_TERMINAL_TYPE AND DEG_TERMINAL_OS = %DEG_TERMINAL_OS AND DEG_TERMINAL_SW_VERSION = %DEG_TERMINAL_SW_VERSION


[/templates/DEG/Secondary_DeviceInterface/Common_Core/SessionStores/DEG_SDI_SERVICE_RSP_TEMPLATES_SessionStore/2.MatchByVersionAndAppName]

Condition=where DEG_APP_NAME = %DEG_APP_NAME AND DEG_VERSION = %DEG_VERSION

[/templates/DEG/Secondary_DeviceInterface/Common_Core/SessionStores/DEG_SDI_SECONDARY_DEVICE_SessionStore]

Attributes=DEG_TERMINAL_ID,key
Attributes=DEG_MESSAGE_ID
Attributes=DEG_COOKIE_ID
Attributes=DEG_PIMSI
Attributes=DEG_PMSISDN
Attributes=DEG_EVENTTIMESTAMP
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DbSchema=${DBSCHEMA_DEG}
DatabaseId=DEG_SDI_SECONDARY_DEVICE
MaxDatabaseConnections=${DEVICE_MAX_DBCONN_DEG_TOKENS}
NativeConditions=1.MatchTerminalID
SQLTypeMap=DEG_TERMINAL_ID,VARCHAR(64)
SQLTypeMap=DEG_MESSAGE_ID,BIGINT
SQLTypeMap=DEG_COOKIE_ID,VARCHAR(64)
SQLTypeMap=DEG_PIMSI,VARCHAR(64)
SQLTypeMap=DEG_PMSISDN,BIGINT
SQLTypeMap=DEG_EVENTTIMESTAMP,BIGINT
CommonPolicyID=Policy1


[/templates/DEG/Secondary_DeviceInterface/Common_Core/SessionStores/DEG_SDI_SECONDARY_DEVICE_SessionStore/1.MatchTerminalID]

Condition=where DEG_TERMINAL_ID = %DEG_TERMINAL_ID

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/901.GenerateSecDevStartAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditNRBMessageAttribute
RuleNames=500.GenerateAuditAndNRBEvents

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/901.GenerateSecDevStartAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AuditTimestampLong
#AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString "0"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevTerminalIdString 0
AdornOps=copy DEG_OEMDevTerminalIdString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditTransactionTypeString "SecondaryDeviceRequest"
AdornOps=set DEG_AuditSourceDestinationString "SecondaryDevice"
AdornOps=set DEG_AuditSourceDestinationVersionString "NA"
#AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/901.GenerateSecDevStartAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEVICE TO DEG -> Received request from secondary device: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/901.GenerateSecDevStartAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevTerminalIdString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/901.GenerateSecDevStartAuditDataRuleChain/400.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "DEVICE TO DEG -> Received request from secondary device for terminal_id="
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevTerminalIdString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/901.GenerateSecDevStartAuditDataRuleChain/500.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEGGenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/650.DEGGenerateAuditAndNRBEventsRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.DumpAuditRecord
RuleNames=200.DumpMonitoringTransactions

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/650.DEGGenerateAuditAndNRBEventsRuleChain/100.DumpAuditRecord]

ClassName=com.hp.siu.sessionserver.rules.NMEStoreRule
NMEStore=AuditNmeStore


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/650.DEGGenerateAuditAndNRBEventsRuleChain/200.DumpMonitoringTransactions]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RequestAttributes=DEG_NrbMonitoringSessionIdList
RequestAttributes=DEG_AuditProcessingNodeString
RequestAttributes=DEG_AuditTimestampLong
RequestAttributes=DEG_AuditInterfaceString
RequestAttributes=DEG_AuditInOutString
RequestAttributes=DEG_AuditResultCodeString
RequestAttributes=DEG_AuditMdnString
RequestAttributes=DEG_AuditIMSIString
RequestAttributes=DEG_AuditTransactionTypeString
RequestAttributes=DEG_AuditSourceDestinationString
RequestAttributes=DEG_AuditNRBMessageString
RequestAttributes=DEG_AuditMessageString
RequestAttributes=DEG_AuditEntitlementNameString
RequestAttributes=DEG_AuditUniqueIDString
RequestAttributes=DEG_AuditSourceDestinationVersionString
RuleChain=651.DEGDumpMonitoringTransactionsRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.DumpMonitoringTransactions

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions]

ClassName=com.hp.siu.collector.rules.ConditionalRule
TrueRuleChain=100.DumpMonitoringTransactions

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/Condition]

ClassName=com.hp.usage.script.rules.ExpressionCondition
Expression=DEG_NrbMonitoringSessionIdList != null


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_NrbMonitoringSessionIdList
RuleChain=100.InsertMonitoringTransactionToDb
TmpAttributeName=DEG_NrbMonitoringSessionIdString

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_MONITORINGID_GENERATOR


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.GenerateTransactionId
RuleNames=110.PopulateMonitoringTransactionAttributes
RuleNames=120.InitInsert2Db
RuleNames=200.Insert2Db
RuleNames=300.CheckCreateStatus


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/100.GenerateTransactionId]

AdornOps=setsystime DEG_Tmp1Long
AdornOps=copy DEG_Tmp1Long DEG_Tmp1String
AdornOps=+ DEG_Tmp1String DEG_MSESSIONTRANSID DEG_MSESSIONTRANSID
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/110.PopulateMonitoringTransactionAttributes]

AdornOps=copy DEG_AuditProcessingNodeString DEG_MSESSIONPROCID
AdornOps=copy DEG_AuditTimestampLong DEG_MSESSIONTIMESTAMP
AdornOps=copy DEG_AuditInterfaceString DEG_MSESSIONINTERFACE
AdornOps=copy DEG_AuditInOutString DEG_MSESSIONINOUT
AdornOps=copy DEG_AuditResultCodeString DEG_MSESSIONRESULTCODE
AdornOps=copy DEG_AuditMdnString DEG_MSESSIONMDN
AdornOps=copy DEG_AuditIMSIString DEG_MSESSIONIMSI
AdornOps=copy DEG_AuditTransactionTypeString DEG_MSESSIONTRANSACTIONTYPE
AdornOps=copy DEG_AuditSourceDestinationString DEG_MSESSIONSOURCEDESTINATION
AdornOps=copy DEG_AuditNRBMessageString DEG_MSESSIONMESSAGE
AdornOps=copy DEG_AuditUniqueIDString DEG_MSESSIONUNIQUE_ID
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/120.InitInsert2Db]

AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 0
AdornOps=copy DEG_NrbMonitoringSessionIdString DEG_MSESSIONID
AdornOps=set log_DB_Operation "CREATE"
AdornOps=set log_Table_Name "DEG_MONITORING_TRANSACTIONS"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/200.Insert2Db]

ClassName=com.hp.siu.sessionserver.rules.CreateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
DuplicateErrorRuleChain=002.SessionStoreDuplicateKeyRuleChain
LogInvalidSession=false
SessionStore=DEG_MONITORING_TRANSACTIONS_SessionStore

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/300.CheckCreateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,!=,0
Operations=or
TrueRuleChain=99.InitErrorLog
TrueRuleChain=100.ErrorLog

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/300.CheckCreateStatus/99.InitErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0060"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to create entry in DEG_MONITORING_TRANSACTIONS table"

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/MatchRule/300.CheckCreateStatus/100.ErrorLog]

Attributes=DEG_MSESSIONID
Attributes=DEG_MSESSIONTRANSID
Attributes=DEG_MSESSIONPROCID
Attributes=DEG_MSESSIONTIMESTAMP
Attributes=DEG_MSESSIONINTERFACE
Attributes=DEG_MSESSIONINOUT
Attributes=DEG_MSESSIONRESULTCODE
Attributes=DEG_MSESSIONMDN
Attributes=DEG_MSESSIONTRANSACTIONTYPE
Attributes=DEG_MSESSIONSOURCEDESTINATION
Attributes=DEG_MSESSIONMESSAGE
Attributes=DEG_MSESSIONUNIQUE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=WARNING
Message=Database Error: Unable to create entry in DEG_MONITORING_TRANSACTIONS session store
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/NoMatchRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetEmptyTransactionId
RuleNames=200.Log

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/NoMatchRule/100.SetEmptyTransactionId]

AdornOps=set DEG_MSESSIONTRANSID ""
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0061"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to generate unique value of monitoring transaction id"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/651.DEGDumpMonitoringTransactionsRuleChain/100.DumpMonitoringTransactions/100.DumpMonitoringTransactions/100.InsertMonitoringTransactionToDb/NoMatchRule/200.Log]

Attributes=DEG_MSESSIONTRANSID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=ERROR
Message=Unable to generate unique value of monitoring transaction id: 
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=10.GetActiveMonitoringSessionsByIMSI
RuleNames=20.GetActiveMonitoringSessionsByMDN
RuleNames=30.GetActiveMonitoringSessionsByUniqueID


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain/10.GetActiveMonitoringSessionsByIMSI]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Initialize
RuleNames=200.Query


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain/10.GetActiveMonitoringSessionsByIMSI/100.Initialize]

AdornOps=copy DEG_PIMSI DEG_MSESSIONKEY
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain/10.GetActiveMonitoringSessionsByIMSI/200.Query]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain/20.GetActiveMonitoringSessionsByMDN]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Initialize
RuleNames=200.Query


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain/20.GetActiveMonitoringSessionsByMDN/100.Initialize]

#AdornOps=copy DEG_OEMDevRespPhoneNumberString DEG_MDN
AdornOps=copy DEG_MDN DEG_MSESSIONKEY
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain/20.GetActiveMonitoringSessionsByMDN/200.Query]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain/30.GetActiveMonitoringSessionsByUniqueID]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Initialize
RuleNames=200.Query


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain/30.GetActiveMonitoringSessionsByUniqueID/100.Initialize]

AdornOps=copy DEG_OEMDevTerminalIdString DEG_MSESSIONKEY
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/904.DEGGetActiveMonitoringSessionsRuleChain/30.GetActiveMonitoringSessionsByUniqueID/200.Query]

ClassName=com.hp.usage.refdatasrv.RefDataLookupRule
QueryName=DEG_MONITORING_SESSIONS_ActiveSessions

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService]

ClassName=com.hp.siu.serverutils.RefDataServiceManager
QueryNames=DEG_MONITORINGID_GENERATOR
QueryNames=DEG_MONITORING_SESSIONS_ActiveSessions

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
FieldExtracted=DEG_MSESSIONID,DEG_MSESSIONID
#JDBCDataSourceConnectorName=120.RefDataDbConnectorNRB
CommonPolicyID=Policy2
QueryString=SELECT %FIELDS  FROM DEG_MONITORING_SESSIONS WHERE DEG_MSESSIONTYPE in ('MDN','IMSI') AND DEG_MSESSIONSTATUS='AE' AND DEG_MSESSIONKEY=%DEG_MSESSIONKEY
ResultAttribute=DEG_NrbMatchFoundInteger
ResultIndexAttribute=DEG_NrbIndexInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=50.SetErrorInfo
RuleNames=100.LogAlarming

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ErrorRule/50.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0062"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error:"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ErrorRule/100.LogAlarming]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_JsonEncodeAttribute
LogLevel=CRITICAL
Message=Database Error:
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/FinalRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Copy_MatchFoundFlag
RuleNames=200.CheckMSessionKey

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/FinalRule/100.Copy_MatchFoundFlag]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_NrbMatchFoundInteger DEG_NrbMatchFoundInteger

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/FinalRule/200.CheckMSessionKey]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_MSESSIONKEY,=,0

TrueRuleChain=100.Set_MSessionKeyFlag

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/FinalRule/200.CheckMSessionKey/100.Set_MSessionKeyFlag]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_SessionKeyInteger 1

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/InitialRule]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set DEG_MSESSIONID ""
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_MONITORING_SESSIONS"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.Set_MatchFound
RuleNames=200.PopulateMonitoringSessionIdsList


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/100.Set_MatchFound]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_NrbMatchFoundInteger 1


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORING_SESSIONS_ActiveSessions/ResultRowRule/200.PopulateMonitoringSessionIdsList]

ClassName=AddToListAttributeRule
Delimiters=,
InputAttribute=DEG_MSESSIONID
ListAttribute=DEG_NrbMonitoringSessionIdList


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORINGID_GENERATOR]

ClassName=com.hp.usage.refdatasrv.JDBCQuery
FieldExtracted=DEG_MSESSIONTRANSID,DEG_MSESSIONTRANSID
#JDBCDataSourceConnectorName=120.RefDataDbConnectorNRB
CommonPolicyID=Policy2
QueryString=SELECT SEQUENCE_NEXTVAL('DEG_MONITORINGID_GENERATOR') AS DEG_MSESSIONTRANSID
ResultAttribute=DEG_NrbMatchFoundInteger
ResultIndexAttribute=DEG_NrbIndexInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ErrorRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.SetErrorInfo
RuleNames=101.LogAlarming

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ErrorRule/100.SetErrorInfo]


ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.SDI.0063"
AdornOps=set DEG_OEMDevErrorMessageString "Database Error:"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ErrorRule/101.LogAlarming]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=log_DB_Operation
Attributes=log_Table_Name
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_JsonEncodeAttribute
LogLevel=CRITICAL
Message=Database Error:
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.

[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORINGID_GENERATOR/FinalRule]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_NrbMatchFoundInteger DEG_NrbMatchFoundInteger


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORINGID_GENERATOR/InitialRule]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_NrbMatchFoundInteger 0
AdornOps=set DEG_NrbIndexInteger 0
AdornOps=set DEG_MSESSIONTRANSID 0
AdornOps=set log_DB_Operation "QUERY"
AdornOps=set log_Table_Name "DEG_MONITORINGID_GENERATOR.NEXTVAL"


[/templates/DEG/Secondary_DeviceInterface/Common_Core/ReferenceDataService/DEG_MONITORINGID_GENERATOR/ResultRowRule]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_NrbMatchFoundInteger 1

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/902.GenerateSecDevEndOKAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/902.GenerateSecDevEndOKAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
#AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString 
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
#AdornOps=set DEG_AuditResultCodeString "1"
AdornOps=copy DEG_OEMDevHttpStatusInteger DEG_AuditResultCodeString
AdornOps=copy DEG_PIMSI DEG_OEMDevImsiString
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevTerminalIdString 0
AdornOps=copy DEG_OEMDevTerminalIdString DEG_AuditUniqueIDString
AdornOps=setifnull DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditTransactionTypeString "SecondaryDeviceRequest"
AdornOps=set DEG_AuditSourceDestinationString "SecondaryDevice"
AdornOps=set DEG_AuditSourceDestinationVersionString "NA"
#AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/902.GenerateSecDevEndOKAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending SecondaryDevice response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/902.GenerateSecDevEndOKAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevTerminalIdString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/902.GenerateSecDevEndOKAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "DEG TO DEVICE ->Sending SecondaryDevice success response,return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_AuditResultCodeString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/902.GenerateSecDevEndOKAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEGGenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/903.GenerateSecDevEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/903.GenerateSecDevEndErrorAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
#AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_OEMDevHttpStatusInteger DEG_AuditResultCodeString
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevTerminalIdString 0
AdornOps=copy DEG_OEMDevTerminalIdString DEG_AuditUniqueIDString
AdornOps=setifnull DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditTransactionTypeString "SecondaryDeviceRequest"
AdornOps=set DEG_AuditSourceDestinationString "SecondaryDevice"
AdornOps=set DEG_AuditSourceDestinationVersionString "NA"
#AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/903.GenerateSecDevEndErrorAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending SecondaryDeviceRequest error response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/903.GenerateSecDevEndErrorAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevTerminalIdString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/903.GenerateSecDevEndErrorAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "DEG TO DEVICE ->Sending SecondaryDevice error response:"
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevErrorMessageString DEG_AuditNRBMessageString
AdornOps=set DEG_Tmp1String ",HTTP status code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_Tmp1String DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString DEG_AuditResultCodeString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/Secondary_DeviceInterface/Common_Core/RuleChains/903.GenerateSecDevEndErrorAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEGGenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true
