

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core]



[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains]

RuleChainNames=214.DEG20ProcessOEMGetEntitlementRuleChain
RuleChainNames=214A.DEG20ExtractGetEntitlementRequestRuleChain
RuleChainNames=214B.DEG20ProcessGetEntitlementRequestRuleChain
RuleChainNames=214C.DEG20ProcessEntitlementNamesRequestRuleChain
RuleChainNames=214E.DEG20SetEntitlementStatusRuleChain
RuleChainNames=708.DEG20GenerateGetEntitlementStartAuditDataRuleChain
RuleChainNames=709.DEG20GenerateGetEntitlementEndErrorAuditDataRuleChain
RuleChainNames=710.DEG20GenerateGetEntitlementEndOKAuditDataRuleChain
RuleChainNames=004.SessionStoreKeyNotExistsRuleChain


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/004.SessionStoreKeyNotExistsRuleChain]

ClassName=RuleChain
RuleNames=ClearSessionExistsFlag


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/004.SessionStoreKeyNotExistsRuleChain/ClearSessionExistsFlag]

AdornOps=set DEG_AAASessionStoreKeyExistsFlagInteger 0
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitRequest
RuleNames=110.ReadSysValue


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/100.InitRequest]

AdornOps=set DEG_CDevSysParameter "getEntitlement"
AdornOps=set DEG_CDevSysValueString ${DEVICE_GETENTITLEMENT_STATUS}
AdornOps=setifnull DEG_CDevSysValueString "enabled"
AdornOps=lower DEG_CDevSysValueString DEG_CDevSysValueString
AdornOps=set DEG_OEMDevRequestProcessedInteger 0
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_OEMtempDevDeviceTypeString
AdornOps=set DEG_OEMDevEntitlementNameList null
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSysValueString,=,enabled
FalseRuleChain=200.GenerateGetEntitlementDisabledResponse
TrueRuleChain=100.ExtractGetEntitlementRequest
TrueRuleChain=110.ProcessGetEntitlementRequest


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/100.ExtractGetEntitlementRequest]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=214A.DEG20ExtractGetEntitlementRequestRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/110.ProcessGetEntitlementRequest]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=214B.DEG20ProcessGetEntitlementRequestRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/200.GenerateGetEntitlementDisabledResponse]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=50.DEG20GenerateGetEntitlementStartAudit
RuleNames=100.InitResponse
RuleNames=125.PopulateAuditNRBMessageAttribute
RuleNames=150.DEG20GenerateGetEntitlementEndAudit
RuleNames=200.GenerateResponseEntry
RuleNames=250.SetErrorInfo
RuleNames=300.Log


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/200.GenerateGetEntitlementDisabledResponse/50.DEG20GenerateGetEntitlementStartAudit]


ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=708.DEG20GenerateGetEntitlementStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/200.GenerateGetEntitlementDisabledResponse/100.InitResponse]

AdornOps=set DEG_OEMDevRespStatusString 6002
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/200.GenerateGetEntitlementDisabledResponse/125.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getEntitlement disable response: "
AdornOps=set DEG_AuditNRBMessageString "Sending getEntitlement disable response ,Return code is "
AdornOps=+ DEG_AuditNRBMessageString  DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/200.GenerateGetEntitlementDisabledResponse/150.DEG20GenerateGetEntitlementEndAudit]


ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=710.DEG20GenerateGetEntitlementEndOKAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/200.GenerateGetEntitlementDisabledResponse/200.GenerateResponseEntry]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/200.GenerateGetEntitlementDisabledResponse/250.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GE.0201"
AdornOps=set DEG_OEMDevErrorMessageString "GetEntitlement disabled"

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214.DEG20ProcessOEMGetEntitlementRuleChain/110.ReadSysValue/200.GenerateGetEntitlementDisabledResponse/300.Log]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_CDevSysParameter
Attributes=DEG_CDevSysValueString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=Action getEntitlement Disabled: 
NullAlso=true
UseProperty=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.GenerateGetEntitlementStartAuditData
RuleNames=110.ExtractEntitlementNames


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain/100.GenerateGetEntitlementStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=708.DEG20GenerateGetEntitlementStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain/110.ExtractEntitlementNames]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitArrayIndex
RuleNames=200.ExtractEntitlementNamesAttribute
RuleNames=300.SetEmptyEntitlementNamesFlag


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain/110.ExtractEntitlementNames/100.InitArrayIndex]

AdornOps=set DEG_OEMDevEntitlementNamesArrayIndexInteger -1
AdornOps=set DEG_OEMDevEntitlementNamesEmptyInteger 0
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain/110.ExtractEntitlementNames/200.ExtractEntitlementNamesAttribute]

ClassName=com.hp.usage.nme.rules.SplitArrayRule
SplitAttribute=entitlement_names
SplitRules=100.IncrementArrayIndex
SplitRules=200.ExtractEntitlementName
SplitRules=300.StoreEntitlementNameInNME


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain/110.ExtractEntitlementNames/200.ExtractEntitlementNamesAttribute/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevEntitlementNamesArrayIndexInteger 1 DEG_OEMDevEntitlementNamesArrayIndexInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain/110.ExtractEntitlementNames/200.ExtractEntitlementNamesAttribute/200.ExtractEntitlementName]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
StructuredNMEToNMEMap=entitlement_names[0].CData,DEG_OEMDevEntitlementNameString,""


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain/110.ExtractEntitlementNames/200.ExtractEntitlementNamesAttribute/300.StoreEntitlementNameInNME]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_OEMDevEntitlementNameString
ListAttribute=DEG_OEMDevEntitlementNameList


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain/110.ExtractEntitlementNames/300.SetEmptyEntitlementNamesFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevEntitlementNamesArrayIndexInteger,=,-1
TrueRuleChain=100.setEntitlementNamesEmpty


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214A.DEG20ExtractGetEntitlementRequestRuleChain/110.ExtractEntitlementNames/300.SetEmptyEntitlementNamesFlag/100.setEntitlementNamesEmpty]

AdornOps=set DEG_OEMDevEntitlementNamesEmptyInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214B.DEG20ProcessGetEntitlementRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CheckGetEntitlementRequest
RuleNames=200.GetEntitlementAuditData


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214B.DEG20ProcessGetEntitlementRequestRuleChain/100.CheckGetEntitlementRequest]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevEntitlementNamesEmptyInteger,=,0
FalseRuleChain=200.InvalidRequest_400C
FalseRuleChain=210.ErrorLog
TrueRuleChain=100.EntitlementNamesListPopulated


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214B.DEG20ProcessGetEntitlementRequestRuleChain/100.CheckGetEntitlementRequest/100.EntitlementNamesListPopulated]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=214C.DEG20ProcessEntitlementNamesRequestRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214B.DEG20ProcessGetEntitlementRequestRuleChain/100.CheckGetEntitlementRequest/200.InvalidRequest_400C]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GE.0202"
AdornOps=set DEG_OEMDevErrorMessageString "Invalid Request,Mandatory Fields are missing in Request"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214B.DEG20ProcessGetEntitlementRequestRuleChain/100.CheckGetEntitlementRequest/210.ErrorLog]

Attributes=DEG_OEMDevEntitlementNameString
Attributes=DEG_CDevSysParameter
Attributes=DEG_CDevSysValueString
Attributes=DEG_OEMDevRequestProcessedInteger
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=INFO
Message=DEG to Device -> Mandatory Fields are missing in Request:


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214B.DEG20ProcessGetEntitlementRequestRuleChain/200.GetEntitlementAuditData]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
FalseRuleChain=200.EntitlementErrorAuditData
TrueRuleChain=50.PopulateAuditNRBMessageAttribute
TrueRuleChain=100.EntitlementOKAuditData

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214B.DEG20ProcessGetEntitlementRequestRuleChain/200.GetEntitlementAuditData/50.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getEntitlement Success response: "
AdornOps=set DEG_AuditNRBMessageString "Sending getEntitlement success response ,Return code is "
AdornOps=+ DEG_AuditNRBMessageString  DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
AdornOps=+ DEG_AuditNRBMessageString  , DEG_AuditNRBMessageString
AdornOps=substr 0 length-1 DEG_OEMDevEntitlementNameListToStr DEG_OEMDevEntitlementNameListToStr
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevEntitlementNameListToStr DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214B.DEG20ProcessGetEntitlementRequestRuleChain/200.GetEntitlementAuditData/100.EntitlementOKAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=710.DEG20GenerateGetEntitlementEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214B.DEG20ProcessGetEntitlementRequestRuleChain/200.GetEntitlementAuditData/200.EntitlementErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=709.DEG20GenerateGetEntitlementEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitArrayIndex
RuleNames=200.ProcessEntitlementNames
RuleNames=201.SetFinalAuditEntName
RuleNames=210.CheckDAIFeature
RuleNames=220.CheckDAIFeatureStatus
RuleNames=300.GenerateMasterResponse


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/100.InitArrayIndex]

AdornOps=set DEG_OEMDevArrayIndexInteger -1
AdornOps=set DEG_OEMDevEntitlementNameListToStr ""
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames]

ClassName=com.hp.siu.collector.rules.ListAttributeIterator
ListAttributeName=DEG_OEMDevEntitlementNameList
RuleChain=100.IncrementArrayIndex
RuleChain=130.CheckDBResult
RuleChain=131.SetBackDeviceDataType
RuleChain=140.GenerateResponse
TmpAttributeName=DEG_OEMDevEntitlementNameString


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/100.IncrementArrayIndex]

AdornOps=+ DEG_OEMDevArrayIndexInteger 1 DEG_OEMDevArrayIndexInteger
AdornOps=set DEG_CDevDBErrorFlagInteger 0
AdornOps=set DEG_CDevDBNoMatchFlagInteger 0
AdornOps=set DEG_OEMDevEntitlementStatusInteger 0
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.InvokeExtractEntitlementStatusRule
RuleNames=170.SetErrorInfo
RuleNames=010.PrintRequest
RuleNames=100.InvokeCustomRule
RuleNames=110.CheckResponseFromCustomProcess

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/170.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GE.0203"
AdornOps=set DEG_OEMDevMessageString "Sending request to custom template :"


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/010.PrintRequest]

Attributes=DEG_OEMDevEntitlementNameString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_MDN
Attributes=DEG_SSL_EntitlementStatus
Attributes=DEG_OEMDevEntitlementStatusString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=LogNMERule
LogLevel=DEBUG
Message=Sending request to custom template : 


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/000.InvokeExtractEntitlementStatusRule]

ClassName=LocalRuleChainInvoker
RuleChain=214E.DEG20SetEntitlementStatusRuleChain
UseRuleChainManagerPool=true

### RFE#49  for customization improvements ###

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/100.InvokeCustomRule]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CopyBeforeEntitlementStatusFromExternalSystem
RuleNames=100.LogBeforeEntitlementStatusFromExternalSystem
RuleNames=200.ProcessEntitlementStatusFromExternalSystem
RuleNames=300.CopyAfterEntitlementStatusFromExternalSystem
RuleNames=300.LogAfterEntitlementStatusFromExternalSystem


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/100.InvokeCustomRule/100.CopyBeforeEntitlementStatusFromExternalSystem]

ClassName=AdornmentRule
AdornOps=copy DEG_OEMDevImsiString CUST_GEC_IN_IMSIString
AdornOps=copy DEG_MDN CUST_GEC_IN_MDN
AdornOps=copy DEG_OEMDevUniqueIDString CUST_GEC_IN_UniqueIDString
AdornOps=copy DEG_OEMDevEntitlementNameString CUST_GEC_IN_EntitlementNameString
AdornOps=copy DEG_SSL_ENTITLEMENTSTATUS CUST_GEC_IN_EntitlementStatus
AdornOps=copy DEG_OEMDevEntitlementStatusInteger CUST_GEC_OUT_EntitlementStatusInteger
AdornOps=copy DEG_OEMDevEntitlementResponseString CUST_GEC_OUT_EntitlementResponseString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GE.0204"
AdornOps=set DEG_OEMDevMessageString "Customise attributes Before GEC :"

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/100.InvokeCustomRule/100.LogBeforeEntitlementStatusFromExternalSystem]


ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_GEC_IN_IMSIString
Attributes=CUST_GEC_IN_MDN
Attributes=CUST_GEC_IN_UniqueIDString
Attributes=CUST_GEC_IN_SSL_SUBS_FEATURES
Attributes=CUST_GEC_IN_EntitlementNameString
Attributes=CUST_GEC_IN_EntitlementStatus
Attributes=CUST_GEC_OUT_EntitlementStatusInteger
Attributes=CUST_GEC_OUT_EntitlementResponseString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Customise attributes Before GEC :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/100.InvokeCustomRule/200.ProcessEntitlementStatusFromExternalSystem]

ClassName=LocalRuleChainInvoker
RuleChain=CUSTRC_Apple_GE_EntitlementStatus
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/100.InvokeCustomRule/300.CopyAfterEntitlementStatusFromExternalSystem]

ClassName=AdornmentRule
AdornOps=copy CUST_GEC_IN_IMSIString DEG_OEMDevImsiString
AdornOps=copy CUST_GEC_IN_MDN DEG_MDN
AdornOps=copy CUST_GEC_IN_UniqueIDString DEG_OEMDevUniqueIDString
AdornOps=copy CUST_GEC_IN_EntitlementNameString DEG_OEMDevEntitlementNameString
AdornOps=copy CUST_GEC_IN_EntitlementStatus DEG_SSL_EntitlementStatus
AdornOps=copy CUST_GEC_OUT_EntitlementStatusInteger DEG_OEMDevEntitlementStatusInteger
AdornOps=copy CUST_GEC_OUT_EntitlementResponseString DEG_OEMDevEntitlementResponseString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GE.0205"
AdornOps=set DEG_OEMDevMessageString "Customise attributes After GEC :"

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/100.InvokeCustomRule/300.LogAfterEntitlementStatusFromExternalSystem]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_GEC_IN_IMSIString
Attributes=CUST_GEC_IN_MDN
Attributes=CUST_GEC_IN_UniqueIDString
Attributes=CUST_GEC_IN_SSL_SUBS_FEATURES
Attributes=CUST_GEC_IN_EntitlementNameString
Attributes=CUST_GEC_IN_EntitlementStatus
Attributes=CUST_GEC_OUT_EntitlementStatusInteger
Attributes=CUST_GEC_OUT_EntitlementResponseString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Customise attributes After GEC :
NullAlso=true
PropertyName=LogRequestIssueLevel1
UseProperty=true



#RFE 86- Include Bell Changes into Product. Issue no. 8A.
[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/110.CheckResponseFromCustomProcess]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevEntitlementResponseString,=,0
FalseRuleChain=200.SetErrorResponse
#TrueRuleChain=100.SetEntitlementStatusString


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/110.CheckResponseFromCustomProcess/100.SetEntitlementStatusString]

AdornOps=copy DEG_OEMDevEntitlementStatusInteger DEG_OEMDevEntitlementNameStatusString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/110.CheckResponseFromCustomProcess/200.SetErrorResponse]

AdornOps=set DEG_OEMDevRespStatusString 6005
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/130.CheckDBResult/200.SetNoMatchResponse]

AdornOps=set DEG_OEMDevEntitlementStatusInteger 6102
AdornOps=set DEG_OEMDevEntitlementNameStatusString "Unknown Entitlement"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/131.SetBackDeviceDataType]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMtempDevDeviceTypeString DEG_OEMDevDeviceTypeString

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/140.GenerateResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
TrueRuleChain=100.AddEntitlementNameToList
TrueRuleChain=100.AddEntitlementStatusToList
TrueRuleChain=200.AppendResultForLog


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/140.GenerateResponse/100.AddEntitlementNameToList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_OEMDevEntitlementNameString
ListAttribute=DEG_OEMDevEntitlementNameResponseList

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/140.GenerateResponse/100.AddEntitlementStatusToList]

ClassName=com.hp.siu.collector.rules.AddToListAttributeRule
InputAttribute=DEG_OEMDevEntitlementStatusInteger
ListAttribute=DEG_OEMDevEntitlementStatusResponseList


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/200.ProcessEntitlementNames/140.GenerateResponse/200.AppendResultForLog]

AdornOps=+ DEG_OEMDevEntitlementNameListToStr DEG_OEMDevEntitlementNameString DEG_OEMDevEntitlementNameListToStr
AdornOps=+ DEG_OEMDevEntitlementNameListToStr : DEG_OEMDevEntitlementNameListToStr
AdornOps=+ DEG_OEMDevEntitlementNameListToStr DEG_OEMDevEntitlementStatusInteger DEG_OEMDevEntitlementNameListToStr
AdornOps=+ DEG_OEMDevEntitlementNameListToStr : DEG_OEMDevEntitlementNameListToStr
#AdornOps=+ DEG_OEMDevEntitlementNameListToStr DEG_OEMDevEntitlementNameStatusString DEG_OEMDevEntitlementNameListToStr
#AdornOps=+ DEG_OEMDevEntitlementNameListToStr ; DEG_OEMDevEntitlementNameListToStr
AdornOps=+ DEG_AuditEntitlementNameString DEG_OEMDevEntitlementNameString DEG_AuditEntitlementNameString
AdornOps=+ DEG_AuditEntitlementNameString - DEG_AuditEntitlementNameString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/201.SetFinalAuditEntName]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_AuditEntitlementNameString,!=,""
TrueRuleChain=100.SetValue
Operations=and


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/201.SetFinalAuditEntName/100.SetValue]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=substr 0 length-1 DEG_AuditEntitlementNameString DEG_AuditEntitlementNameString


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/210.CheckDAIFeature]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevDAIFeatureString ${DEG_DAI_FEATURE}
AdornOps=lower DEG_OEMDevDAIFeatureString DEG_OEMDevDAIFeatureString

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus]

ClassName=ConditionalRule
Conditions=DEG_OEMDevDAIFeatureString,=,"enabled"
TrueRuleChain=10.InitializeDAI
TrueRuleChain=20.ResetDAIPendingFlag
TrueRuleChain=30.CheckDBStatus


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/10.InitializeDAI]

ClassName=AdornmentRule
AdornOps=set PENDING_HB_RESPONSE_FLAG 0
AdornOps=copy DEG_SSL_IMSI DEG_IMSI

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/20.ResetDAIPendingFlag]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=PENDING_HB_RESPONSE_FLAG,PENDING_HB_RESPONSE_FLAG
NativeCondition=1.MatchByIMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_DEVICE_HEARTBEAT_SessionStore

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/30.CheckDBStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1

TrueRuleChain=100.SetLogError
TrueRuleChain=100.LogError
FalseRuleChain=200.CheckKeyExists

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/30.CheckDBStatus/100.SetLogError]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GE.0206"
AdornOps=set DEG_OEMDevErrorMessageString "GetEntitlement disabled"

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/30.CheckDBStatus/100.LogError]

ClassName=LogNMERule
Attributes=DEG_OEMDevImsiString
Attributes=DEG_IMSI
Attributes=DEG_OEMDevDAIFeatureString
Attributes=PENDING_HB_RESPONSE_FLAG
Attributes=DEG_CDevSessionStoreErrorFlagInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=CRITICAL
Message=Unable to access DEG_DEVICE_HEARTBEAT:


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/30.CheckDBStatus/200.CheckKeyExists]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0

TrueRuleChain=100.SetLogInfo
TrueRuleChain=100.RowNotFound

FalseRuleChain=200.SetLogInfo
FalseRuleChain=200.RowFound


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/30.CheckDBStatus/200.CheckKeyExists/100.SetLogInfo]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DI.GE.0207"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to find the row in DEG_DEVICE_HEARTBEAT"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/30.CheckDBStatus/200.CheckKeyExists/100.RowNotFound]

ClassName=LogNMERule
Attributes=DEG_OEMDevImsiString
Attributes=DEG_IMSI
Attributes=DEG_OEMDevDAIFeatureString
Attributes=PENDING_HB_RESPONSE_FLAG
Attributes=DEG_CDevSessionStoreErrorFlagInteger
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=DEBUG
Message=Unable to find the row in DEG_DEVICE_HEARTBEAT:

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/30.CheckDBStatus/200.CheckKeyExists/200.SetLogInfo]

AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DI.GE.0208"
AdornOps=set DEG_OEMDevMessageString "Row exists in DEG_DEVICE_HEARTBEAT"
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/220.CheckDAIFeatureStatus/30.CheckDBStatus/200.CheckKeyExists/200.RowFound]

ClassName=LogNMERule
Attributes=DEG_OEMDevImsiString
Attributes=DEG_IMSI
Attributes=DEG_OEMDevDAIFeatureString
Attributes=PENDING_HB_RESPONSE_FLAG
Attributes=DEG_CDevSessionStoreErrorFlagInteger
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
Message=row exists:


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/300.GenerateMasterResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
FalseRuleChain=200.GenerateErrorMasterResponse
TrueRuleChain=100.SetMasterResponse
TrueRuleChain=100.AppendMasterResponse
TrueRuleChain=110.GenerateMasterResponse



[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/300.GenerateMasterResponse/100.SetMasterResponse]

AdornOps=set DEG_OEMDevRespStatusString 6000
AdornOps=set DEG_OEMDevResponseArrayIndexInteger -1
ClassName=com.hp.siu.collector.rules.AdornmentRule




[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/300.GenerateMasterResponse/100.AppendMasterResponse]

ClassName=ListAttributeIterator
ListAttributeName=DEG_OEMDevEntitlementNameResponseList
ListAttributeName=DEG_OEMDevEntitlementStatusResponseList
RuleChain=Addtobody
TmpAttributeName=EntitlementName
TmpAttributeName=EntitlementStatus

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/300.GenerateMasterResponse/100.AppendMasterResponse/Addtobody]

ClassName=RuleChain
RuleNames=100.IncreamentIndex
RuleNames=200.AddToUmbrella

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/300.GenerateMasterResponse/100.AppendMasterResponse/Addtobody/100.IncreamentIndex]

ClassName=AdornmentRule
AdornOps=+ 1 DEG_OEMDevResponseArrayIndexInteger DEG_OEMDevResponseArrayIndexInteger


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/300.GenerateMasterResponse/100.AppendMasterResponse/Addtobody/200.AddToUmbrella]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=EntitlementName,jsonResponse.response[DEG_OEMDevResponseArrayIndexInteger].entitlement_name.CData
NMEToStructuredNMEMap=EntitlementStatus,jsonResponse.response[DEG_OEMDevResponseArrayIndexInteger].entitlement_status.CData
SNMEType=Umbrella:Body



[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/300.GenerateMasterResponse/110.GenerateMasterResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214C.DEG20ProcessEntitlementNamesRequestRuleChain/300.GenerateMasterResponse/200.GenerateErrorMasterResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitialSetting
RuleNames=110.CheckEntitlement


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/100.InitialSetting]

AdornOps=setifnull DEG_OEMDevEntitlementNameString ""
AdornOps=setifnull DEG_SSL_EntitlementStatus ""
AdornOps=set DEG_EntitlementIndexInteger -1
AdornOps=set DEG_EntitlementNameLengthInteger 0
AdornOps=set DEG_EntitlementEndIndexInteger 0
AdornOps=set DEG_EntitlementStatusCheckInteger -1
AdornOps=set DEG_OEMDevEntitlementStatusInteger 0
AdornOps=set DEG_OEMDevEntitlementNameStatusString ""
AdornOps=set DEG_OEMDevEntitlementResponseString 0
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement]

ClassName=ConditionalRule
Conditions=DEG_OEMDevEntitlementNameString,=,""
Conditions=DEG_SSL_EntitlementStatus,=,""
FalseRuleChain=100.GetEntitlementNameIndex
FalseRuleChain=110.CheckEntitlementNameIndex
Operations=or
TrueRuleChain=200.SetStatusDisabled


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement/100.GetEntitlementNameIndex]

AdornOps=set DEG_OEMDevTempString1 ,
AdornOps=+ DEG_OEMDevTempString1 DEG_SSL_EntitlementStatus DEG_SSL_EntitlementStatusTemp
AdornOps=+ DEG_OEMDevTempString1 DEG_OEMDevEntitlementNameString DEG_EntitlementNameTempString
AdornOps=+ DEG_EntitlementNameTempString = DEG_EntitlementNameTempString
AdornOps=indexof DEG_EntitlementNameTempString DEG_SSL_EntitlementStatusTemp DEG_EntitlementIndexInteger
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement/110.CheckEntitlementNameIndex]

ClassName=ConditionalRule
Conditions=DEG_EntitlementIndexInteger,=,-1
FalseRuleChain=100.GetEntitlementStatus
FalseRuleChain=110.ValidateEntitlementStatus
FalseRuleChain=120.CheckValidationResult
TrueRuleChain=200.SetStatusDisabled


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement/110.CheckEntitlementNameIndex/100.GetEntitlementStatus]

AdornOps=length DEG_EntitlementNameTempString DEG_EntitlementNameLengthInteger
AdornOps=+ DEG_EntitlementIndexInteger DEG_EntitlementNameLengthInteger DEG_EntitlementIndexInteger
AdornOps=+ DEG_EntitlementIndexInteger 4 DEG_EntitlementEndIndexInteger
AdornOps=substr DEG_EntitlementIndexInteger DEG_EntitlementEndIndexInteger DEG_SSL_EntitlementStatusTemp DEG_OEMDevEntitlementStatusString
ClassName=AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement/110.CheckEntitlementNameIndex/110.ValidateEntitlementStatus]

AttributeCheck=DEG_OEMDevEntitlementStatusString,y,4,REGEX:^\d{4}$
ClassName=NMEAttributesValidationRule
ContinueOnError=true
RetCodeNMEAttrName=DEG_EntitlementStatusCheckInteger
ThrowException=false


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement/110.CheckEntitlementNameIndex/120.CheckValidationResult]

ClassName=ConditionalRule
Conditions=DEG_EntitlementStatusCheckInteger,=,-1
FalseRuleChain=200.SetStatusDisabled
TrueRuleChain=100.SetStatusEnabled


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement/110.CheckEntitlementNameIndex/120.CheckValidationResult/100.SetStatusEnabled]

AdornOps=copy DEG_OEMDevEntitlementStatusString DEG_OEMDevEntitlementStatusInteger
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement/110.CheckEntitlementNameIndex/120.CheckValidationResult/200.SetStatusDisabled]

AdornOps=set DEG_OEMDevEntitlementStatusInteger 6101
AdornOps=set DEG_OEMDevEntitlementNameStatusString "Disabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement/110.CheckEntitlementNameIndex/200.SetStatusDisabled]

AdornOps=set DEG_OEMDevEntitlementStatusInteger 6101
AdornOps=set DEG_OEMDevEntitlementNameStatusString "Disabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/214E.DEG20SetEntitlementStatusRuleChain/110.CheckEntitlement/200.SetStatusDisabled]

AdornOps=set DEG_OEMDevEntitlementStatusInteger 6101
AdornOps=set DEG_OEMDevEntitlementNameStatusString "Disabled"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/708.DEG20GenerateGetEntitlementStartAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditNRBMessageAttribute
RuleNames=500.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/708.DEG20GenerateGetEntitlementStartAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_CDevProcessStartTimeLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString "0"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=setifnull DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditTransactionTypeString "getEntitlement"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/708.DEG20GenerateGetEntitlementStartAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEVICE TO DEG -> Received getEntitlement request: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/708.DEG20GenerateGetEntitlementStartAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/708.DEG20GenerateGetEntitlementStartAuditDataRuleChain/400.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "getEntitlement request received"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/708.DEG20GenerateGetEntitlementStartAuditDataRuleChain/500.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/709.DEG20GenerateGetEntitlementEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/709.DEG20GenerateGetEntitlementEndErrorAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditResultCodeString "400"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=setifnull DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditTransactionTypeString "getEntitlement"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/709.DEG20GenerateGetEntitlementEndErrorAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getEntitlement error response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/709.DEG20GenerateGetEntitlementEndErrorAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/709.DEG20GenerateGetEntitlementEndErrorAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "getEntitlement error response"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/709.DEG20GenerateGetEntitlementEndErrorAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/710.DEG20GenerateGetEntitlementEndOKAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
#RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
#RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/710.DEG20GenerateGetEntitlementEndOKAuditDataRuleChain/100.PopulateCommonAuditAttributes]

AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditResultCodeString "1"
AdornOps=setifnull DEG_MDN 0
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=setifnull DEG_OEMDevImsiString 0
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=setifnull DEG_OEMDevUniqueIDString 0
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=setifnull DEG_AuditEntitlementNameString ""
AdornOps=setifnull DEG_Tmp1String ""
AdornOps=setifnull DEG_OEMDevEntitlementNameListToStr ""
AdornOps=set DEG_AuditTransactionTypeString "getEntitlement"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/710.DEG20GenerateGetEntitlementEndOKAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending getEntitlement response: "
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/710.DEG20GenerateGetEntitlementEndOKAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevEntitlementNameListToStr="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevEntitlementNameListToStr DEG_AuditMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule

#RFE 32- JSON Return code for JSON request/response in NRB GUI
[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/710.DEG20GenerateGetEntitlementEndOKAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

AdornOps=set DEG_AuditNRBMessageString "Sending getEntitlement response,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/GetEntitlement_V2Core/RuleChains/710.DEG20GenerateGetEntitlementEndOKAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true
