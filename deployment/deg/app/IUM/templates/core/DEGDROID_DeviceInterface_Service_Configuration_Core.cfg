
[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core]


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains]

ClassName=com.hp.siu.sessionserver.RuleChainManager
RuleChainNames=600.DEG30ProcessServiceConfigurationRuleChain
RuleChainNames=610.LookupServiceTemplate
RuleChainNames=620.CallandAppendServiceXML
RuleChainNames=640.DEG30AndroidVoWiFiCoreRuleChain
RuleChainNames=650.DEGAndroidVoLTECoreRuleChain
RuleChainNames=CUSTRC_Android_VOWIFI_Status_URL_PostData
RuleChainNames=CUSTRC_Android_VOLTE_Entitlement_Status
RuleChainNames=CUSTRC_Android_SIPToCarrier
RuleChainNames=CallResponseXMLCustomize
RuleChainNames=CUSTRC_ResponseXMLCustomize
RuleChainNames=502.GenerateServiceStartAuditDataRuleChain
RuleChainNames=710.GenerateServiceEndOKAuditDataRuleChain


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=00.InitVariables
RuleNames=10.LogNMERule
RuleNames=20.ProcessAction


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/00.InitVariables]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setsystime DEG_CDevProcessStartTimeLong
AdornOps=setifnull DEG_OEMDevServiceNameString ""
AdornOps=setifnull DEG_Common_XMLTemplateString ""
AdornOps=setifnull DEG_VoWiFi_XMLTemplateString ""
AdornOps=setifnull DEG_VoLTE_XMLTemplateString ""
AdornOps=setifnull DEG_DevIdentity_XMLTemplateString ""
AdornOps=set DEG_OEMDevServiceNameCountInteger 0
AdornOps=set DEG_OEMDevServiceNameInValidCountInteger 0
AdornOps=set DEG_OEMDevAndroidTempString "</wap-provisioningdoc>"
AdornOps=set DEG_OEMDevAndroidVoLTEErrorFlagInteger 0
AdornOps=set DEG_OEMDevAndroidVoWiFiErrorFlagInteger 0
AdornOps=set DEG_OEMDevServiceNameTempString ""
AdornOps=set DEG_OEMDevServiceXMLTemplateExistsInteger 0
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.1801"
AdornOps=set DEG_OEMDevMessageString "DEGRIOD NEW REQUEST:INSIDE SERVICE CONFIG TEMPLATE"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/10.LogNMERule]

ClassName=LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
Message=DEGRIOD NEW REQUEST:INSIDE SERVICE CONFIG TEMPLATE :


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction]

ClassName=ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevRequestAttributeString,contains,"service_name"
Operations=and
TrueRuleChain=10.CheckServiceName


#QXCM1001474760-DEG core call manage device credential even though service name not present in the request.
#QXCM1001474760-Added condition to check service name before calling Custom VoWiFi rule chain.

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.GetValidInvalidCount
RuleNames=110.RemoveCommaFromServiceNameString
RuleNames=120.Log
RuleNames=200.CheckServiceNamesCount
RuleNames=300.GetServiceXMLTemplates
RuleNames=400.CreateResponseMessage


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/100.GetValidInvalidCount]

ClassName=ListAttributeIterator
ListAttributeName=DEG_OEMDevServiceNameList
RuleChain=GetInvalidCount
RuleChain=GetTotalCount
RuleChain=CreateServicesNameString
TmpAttributeName=DEG_OEMDevServiceNameString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/100.GetValidInvalidCount/CreateServicesNameString]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_OEMDevServiceNameTempString DEG_OEMDevServiceNameString DEG_OEMDevServiceNameTempString
AdornOps=+ DEG_OEMDevServiceNameTempString , DEG_OEMDevServiceNameTempString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/100.GetValidInvalidCount/GetTotalCount]

ClassName=AdornmentRule
AdornOps=+ DEG_OEMDevServiceNameCountInteger 1 DEG_OEMDevServiceNameCountInteger


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/100.GetValidInvalidCount/GetInvalidCount]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevServiceNameString,=,VoWiFi
Conditions=DEG_OEMDevServiceNameString,=,VoLTE
Conditions=DEG_OEMDevServiceNameString,=,Device_Identity
Operations=or,or
FalseRuleChain=SetInValidServiceNameCount


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/100.GetValidInvalidCount/GetInvalidCount/SetInValidServiceNameCount]

ClassName=AdornmentRule
AdornOps=+ DEG_OEMDevServiceNameInValidCountInteger 1 DEG_OEMDevServiceNameInValidCountInteger


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/110.RemoveCommaFromServiceNameString]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=substr 0 length-1 DEG_OEMDevServiceNameTempString DEG_OEMDevServiceNameTempString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.1811"
AdornOps=set DEG_OEMDevMessageString "Received Service Request"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/120.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevServiceNameTempString
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevSourceIPAddressString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=INFO
Message=Received Android Service request: 
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/200.CheckServiceNamesCount]

ClassName=ConditionalRule
Conditions=DEG_OEMDevServiceNameCountInteger,=,DEG_OEMDevServiceNameInValidCountInteger
TrueRuleChain=100.SetErrorResponse
TrueRuleChain=101.StartAudit
TrueRuleChain=110.LogInvalidServiceNames
FalseRuleChain=200.CheckCountNotMatching


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/200.CheckServiceNamesCount/101.StartAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=502.GenerateServiceStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/200.CheckServiceNamesCount/100.SetErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_SSL_REQUEST_STATE "403C"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_OEMDevErrorMessageString "Service name/s in the request is/are invalid"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.1802"
AdornOps=set DEG_CDevOutReturnCodeString "403"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/200.CheckServiceNamesCount/110.LogInvalidServiceNames]

ClassName=LogNMERule
LogLevel=WARNING
Message=Action processed with error: Service name/s in the request is/are invalid : 
Attributes=DEG_OEMDevServiceNameCountInteger
Attributes=DEG_OEMDevServiceNameInValidCountInteger
Attributes=DEG_OEMDevServiceNameList
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
AAttributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_CDevOutReturnCodeString
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/200.CheckServiceNamesCount/200.CheckCountNotMatching]

ClassName=ConditionalRule
Conditions=DEG_OEMDevServiceNameInValidCountInteger,!=,0
Conditions=DEG_OEMDevServiceNameInValidCountInteger,<,DEG_OEMDevServiceNameCountInteger
Operations=and
TrueRuleChain=100.SetLogInfo
TrueRuleChain=100.LogInvalidServiceName


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/200.CheckServiceNamesCount/200.CheckCountNotMatching/100.SetLogInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.1803"
AdornOps=set DEG_OEMDevErrorMessageString "Service name/s in the request is/are invalid"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/200.CheckServiceNamesCount/200.CheckCountNotMatching/100.LogInvalidServiceName]

ClassName=LogNMERule
LogLevel=WARNING
Attributes=DEG_OEMDevServiceNameCountInteger
Attributes=DEG_OEMDevServiceNameInValidCountInteger
Attributes=DEG_OEMDevServiceNameList
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Message=Service name/s in the request is/are invalid : 
Attributes=DEG_OEMDevServiceNameString
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CallandAppendServiceTemplate
RuleNames=200.AppendServiceXML


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/100.CallandAppendServiceTemplate]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
TrueRuleChain=10.Call


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/100.CallandAppendServiceTemplate/10.Call]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=620.CallandAppendServiceXML
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML]

ClassName=ConditionalRule
Conditions=DEG_Common_XMLTemplateString,!=,""
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Operations=and
TrueRuleChain=100.SetCommonXMLTemplate
TrueRuleChain=200.AddServiceTemplatetoList
TrueRuleChain=300.FormFinalServiceXML


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/100.SetCommonXMLTemplate]

ClassName=AdornmentRule
AdornOps=indexof DEG_OEMDevAndroidTempString DEG_Common_XMLTemplateString DEG_CommonXMLTemplateIndexInteger
AdornOps=- DEG_CommonXMLTemplateIndexInteger 1 DEG_CommonXMLTemplateIndexInteger
AdornOps=substr 0 DEG_CommonXMLTemplateIndexInteger DEG_Common_XMLTemplateString DEG_Common_XMLTemplateString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/200.AddServiceTemplatetoList]

ClassName=ListAttributeIterator
ListAttributeName=DEG_OEMDevServiceNameList
RuleChain=CreateXML
TmpAttributeName=DEG_OEMDevServiceNameString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/200.AddServiceTemplatetoList/CreateXML]

ClassName=SwitchConditionRule
Conditions=DEG_OEMDevServiceNameString,=,VoWiFi
Conditions=DEG_OEMDevServiceNameString,=,VoLTE
Conditions=DEG_OEMDevServiceNameString,=,Device_Identity

Operations=None

TrueRuleChain=AppendVoWiFiServiceXML
TrueRuleChain=AppendVoLTEServiceXML
TrueRuleChain=AppendDevIdentityServiceXML

AppendVoWiFiServiceXML=100.AppendVoWiFiServiceXML
AppendVoWiFiServiceXML=110.GenerateServiceEndAudit
AppendVoLTEServiceXML=200.AppendVoLTEServiceXML
AppendVoLTEServiceXML=110.GenerateServiceEndAudit
AppendDevIdentityServiceXML=330.AppendDevIdentityServiceXML
AppendDevIdentityServiceXML=110.GenerateServiceEndAudit


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/200.AddServiceTemplatetoList/CreateXML/110.GenerateServiceEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=710.GenerateServiceEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/200.AddServiceTemplatetoList/CreateXML/100.AppendVoWiFiServiceXML]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAndroidVoWiFiErrorFlagInteger,=,0
TrueRuleChain=10.AddVoWiFiXML


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/200.AddServiceTemplatetoList/CreateXML/100.AppendVoWiFiServiceXML/10.AddVoWiFiXML]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_XMLTemplateString DEG_VoWiFi_XMLTemplateString DEG_Common_XMLTemplateString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/200.AddServiceTemplatetoList/CreateXML/200.AppendVoLTEServiceXML]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAndroidVoLTEErrorFlagInteger,=,0
TrueRuleChain=10.AddVoLTEXML


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/200.AddServiceTemplatetoList/CreateXML/200.AppendVoLTEServiceXML/10.AddVoLTEXML]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_XMLTemplateString DEG_VoLTE_XMLTemplateString DEG_Common_XMLTemplateString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/200.AddServiceTemplatetoList/CreateXML/330.AppendDevIdentityServiceXML]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=+ DEG_Common_XMLTemplateString DEG_DevIdentity_XMLTemplateString DEG_Common_XMLTemplateString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/300.GetServiceXMLTemplates/200.AppendServiceXML/300.FormFinalServiceXML]

ClassName=AdornmentRule
AdornOps=+ DEG_Common_XMLTemplateString DEG_OEMDevAndroidTempString DEG_Common_XMLTemplateString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/400.CreateResponseMessage]

ClassName=ConditionalRule
Conditions=DEG_Common_XMLTemplateString,!=,""
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevServiceXMLTemplateExistsInteger,>,0
Operations=and,and
TrueRuleChain=100.CopyResponseMessage
TrueRuleChain=200.CallCustomTemplate
TrueRuleChain=300.MessageFormat
TrueRuleChain=400.AssignMessagetoResponse


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/400.CreateResponseMessage/100.CopyResponseMessage]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_XMLTemplateResponseString ""
AdornOps=copy DEG_Common_XMLTemplateString DEG_XMLTemplateResponseString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/400.CreateResponseMessage/200.CallCustomTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CallResponseXMLCustomize
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/400.CreateResponseMessage/300.MessageFormat]

ClassName=com.hp.usage.rules.transform.MessageFormatRule
Locale=en_US
MessageFormat=DEG_XMLTemplateResponseString
ResultAttribute=DEG_XMLTemplateResponseString
UseDynamicMessageFormat=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/600.DEG30ProcessServiceConfigurationRuleChain/20.ProcessAction/10.CheckServiceName/400.CreateResponseMessage/400.AssignMessagetoResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_XMLTemplateResponseString ""
AdornOps=copy DEG_XMLTemplateResponseString ResponseMessage


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=00.InitLookup
RuleNames=10.CheckParameterValues
RuleNames=20.CheckLookupStatus

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/00.InitLookup]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevVersionInteger DEG_VERSION
AdornOps=copy DEG_OEMDevVersionInteger DEGDROID_XML_VOWIFI_VERSION
AdornOps=set DEGDROID_XML_VOWIFI_CONFIG_VALIDITY ${DEGDROID_VOWIFI_CONFIG_VALIDITY}
AdornOps=copy DEG_OEMDevTerminalVendorString DEG_TERMINAL_VENDOR
AdornOps=copy DEG_OEMDevTerminalModelString DEG_TERMINAL_MODEL
AdornOps=copy DEG_OEMDevTermianlSWversionString DEG_TERMINAL_SW_VERSION
AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEGDROID_SERVICE_TEMPLATES"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/10.CheckParameterValues]

ClassName=ConditionalRule
Conditions=DEG_OEMDevVersionInteger,!=,-1
Conditions=DEG_OEMDevTerminalVendorString,!=,dummy
Conditions=DEG_OEMDevTerminalModelString,!=,dummy
Conditions=DEG_OEMDevTermianlSWversionString,!=,dummy
Operations=and,and,and
TrueRuleChain=10.LookUpServiceTemplateDB
FalseRuleChain=10.LookUpServiceTemplateDBWithVersion


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/10.CheckParameterValues/10.LookUpServiceTemplateDB]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_VERSION,DEG_VersionString
MapAttributes=DEG_SERVICE_NAME,DEG_ServiceNameString
MapAttributes=DEG_TERMINAL_VENDOR,DEG_TerminalVendorString
MapAttributes=DEG_TERMINAL_MODEL,DEG_TerminalModelString
MapAttributes=DEG_TERMINAL_SW_VERSION,DEG_SwVersionString
MapAttributes=DEG_XML_TEMPLATES_FILE,DEG_XMLTemplateString
NativeCondition=1.MatchAllParameters
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEGDROID_SERVICE_TEMPLATES_Sessionstore


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/10.CheckParameterValues/10.LookUpServiceTemplateDBWithVersion]

ClassName=ConditionalRule
Conditions=DEG_OEMDevVersionInteger,!=,-1
Conditions=DEG_OEMDevVersionInteger,=,0
Operations=and
TrueRuleChain=LookUpServiceTemplate


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/10.CheckParameterValues/10.LookUpServiceTemplateDBWithVersion/LookUpServiceTemplate]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_VERSION,DEG_VersionString
MapAttributes=DEG_XML_TEMPLATES_FILE,DEG_XMLTemplateString
NativeCondition=2.MatchVersionParameter
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEGDROID_SERVICE_TEMPLATES_Sessionstore


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/20.CheckLookupStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0

TrueRuleChain=SystemError
TrueRuleChain=NoRowExists

SystemError=100.SetHTTPErrorResponse
SystemError=110.ErrorLog
NoRowExists=200.SetErrorInfo
NoRowExists=210.ErrorLog


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/20.CheckLookupStatus/100.SetHTTPErrorResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.1804"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to perform lookup or access DEGDROID_SERVICE_TEMPLATES table"
AdornOps=set DEG_CDevOutReturnCodeString "500"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/20.CheckLookupStatus/110.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_SERVICE_NAME
LogLevel=CRITICAL
Message=Database Error: Unable to perform lookup or access DEGDROID_SERVICE_TEMPLATES table
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/20.CheckLookupStatus/200.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.1805"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to find the record in DEGDROID_SERVICE_TEMPLATES table"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/610.LookupServiceTemplate/20.CheckLookupStatus/210.ErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_SERVICE_NAME
LogLevel=WARNING
Message=Database Error: Unable to find the record in DEGDROID_SERVICE_TEMPLATES table
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.IterateServiceNamesList
RuleNames=200.SetError


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/200.SetError]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevServiceNameCountInteger,=,1
Conditions=DEG_OEMDevServiceNameInValidCountInteger,=,0
Operations=and
TrueRuleChain=100.CheckErrorFlag
FalseRuleChain=200.CheckServiceNames


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/200.SetError/200.CheckServiceNames]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevServiceNameTempString,contains,"VoLTE"
Conditions=DEG_OEMDevServiceNameTempString,contains,"VoWiFi"
Conditions=DEG_OEMDevServiceNameTempString,!contains,"Device_Identity"
Conditions=DEG_OEMDevAndroidVoLTEErrorFlagInteger,=,1
Conditions=DEG_OEMDevAndroidVoWiFiErrorFlagInteger,=,1
TrueRuleChain=100.SetInvalidServiceName
TrueRuleChain=110.LogInvalidServiceName
Operations=and,and,and,and


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/200.SetError/200.CheckServiceNames/100.SetInvalidServiceName]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_SSL_REQUEST_STATE "403C"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_OEMDevErrorMessageString "VoLTE and VoWiFi Service names are not present in Entitlement List"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.1806"
AdornOps=set DEG_CDevOutReturnCodeString "403"

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/200.SetError/200.CheckServiceNames/110.LogInvalidServiceName]

ClassName=LogNMERule
LogLevel=WARNING
Message=Action processed with error: VoLTE and VoWiFi Service names are not present in Entitlement List : 
Attributes=DEG_OEMDevServiceNameCountInteger
Attributes=DEG_OEMDevServiceNameInValidCountInteger
Attributes=DEG_OEMDevServiceNameList
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
AAttributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_CDevOutReturnCodeString
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/200.SetError/100.CheckErrorFlag]

ClassName=SwitchConditionRule
Conditions=DEG_OEMDevAndroidVoLTEErrorFlagInteger,=,1
Conditions=DEG_OEMDevAndroidVoWiFiErrorFlagInteger,=,1

Operations=None
TrueRuleChain=SetVoLTE403
TrueRuleChain=SetVoWiFi403

SetVoLTE403=100.SetVoLTE403
SetVoLTE403=110.LogVoLTE403
SetVoWiFi403=200.SetVoWiFi403
SetVoWiFi403=210.LogVoWiFi403


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/200.SetError/100.CheckErrorFlag/100.SetVoLTE403]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_SSL_REQUEST_STATE "403C"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.1807"
AdornOps=set DEG_OEMDevErrorMessageString "Android_VoLTE is not present in Entitlement List"
AdornOps=set DEG_CDevOutReturnCodeString "403"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/200.SetError/100.CheckErrorFlag/110.LogVoLTE403]

ClassName=LogNMERule
LogLevel=WARNING
Message=Action processed with error: Android_VoLTE is not present in Entitlement List : 
Attributes=DEG_OEMDevServiceNameCountInteger
Attributes=DEG_OEMDevServiceNameInValidCountInteger
Attributes=DEG_OEMDevServiceNameList
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
AAttributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_CDevOutReturnCodeString
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/200.SetError/100.CheckErrorFlag/200.SetVoWiFi403]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_SSL_REQUEST_STATE "403C"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_OEMDevErrorMessageString "Android_VoWiFi is not present in Entitlement List"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.1808"
AdornOps=set DEG_CDevOutReturnCodeString "403"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/200.SetError/100.CheckErrorFlag/210.LogVoWiFi403]

ClassName=LogNMERule
LogLevel=WARNING
Message=Action processed with error: AAndroid_VoWiFi is not present in Entitlement List : 
Attributes=DEG_OEMDevServiceNameCountInteger
Attributes=DEG_OEMDevServiceNameInValidCountInteger
Attributes=DEG_OEMDevServiceNameList
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevRequestProcessedInteger
AAttributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_CDevOutReturnCodeString
NullAlso=true

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList]

ClassName=ListAttributeIterator
ListAttributeName=DEG_OEMDevServiceNameList
RuleChain=100.CallServiceXML
TmpAttributeName=DEG_OEMDevServiceNameString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML]

ClassName=SwitchConditionRule
Conditions=DEG_OEMDevServiceNameString,=,VoWiFi
Conditions=DEG_OEMDevServiceNameString,=,VoLTE
Conditions=DEG_OEMDevServiceNameString,=,Device_Identity

Operations=None
TrueRuleChain=CallVoWiFiServiceXML
TrueRuleChain=CallVoLTEServiceXML
TrueRuleChain=CallDevIdentityServiceXML

CallVoWiFiServiceXML=100.CallVoWiFiServiceXML
CallVoWiFiServiceXML=110.CallCommonServiceXML

CallVoLTEServiceXML=200.CallVoLTEServiceXML
CallVoLTEServiceXML=110.CallCommonServiceXML

CallDevIdentityServiceXML=300.InitValues
CallDevIdentityServiceXML=310.StartAudit
CallDevIdentityServiceXML=320.CallServiceXMLForDevIdentity
CallDevIdentityServiceXML=110.CallCommonServiceXML


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/300.InitValues]

ClassName=AdornmentRule
AdornOps=set DEG_OEMDevAndroidXMLErrorFlagInteger 0
AdornOps=setsystime DEG_CDevProcessStartTimeLong
AdornOps=set DEG_SERVICE_NAME "Device_Identity"
AdornOps=set DEG_OEMDevRespPhoneNumberString ${DEVICE_COUNTRYISD_CODE}
AdornOps=+ DEG_OEMDevRespPhoneNumberString DEG_MDN DEG_OEMDevRespPhoneNumberString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/310.StartAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=502.GenerateServiceStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/320.CallServiceXMLForDevIdentity]

ClassName=RuleChain
RuleNames=100.LookupDevIdentityTemplate
RuleNames=200.CopyDevIdentityTemplate


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/320.CallServiceXMLForDevIdentity/100.LookupDevIdentityTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=610.LookupServiceTemplate
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/320.CallServiceXMLForDevIdentity/200.CopyDevIdentityTemplate]

ClassName=ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
TrueRuleChain=CopyTemplate


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/320.CallServiceXMLForDevIdentity/200.CopyDevIdentityTemplate/CopyTemplate]

ClassName=AdornmentRule
AdornOps=+ DEG_OEMDevServiceXMLTemplateExistsInteger 1 DEG_OEMDevServiceXMLTemplateExistsInteger
AdornOps=copy DEG_XMLTemplateString DEG_DevIdentity_XMLTemplateString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/100.CallVoWiFiServiceXML]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=640.DEG30AndroidVoWiFiCoreRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/110.CallCommonServiceXML]

ClassName=ConditionalRule
Conditions=DEG_OEMDevAndroidXMLErrorFlagInteger,=,0
Conditions=DEG_Common_XMLTemplateString,=,""
Operations=and
TrueRuleChain=100.SetServiceName
TrueRuleChain=200.LookupCommonServiceXMLTemplate
TrueRuleChain=300.CopyCommonXMLServiceTemplate


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/110.CallCommonServiceXML/100.SetServiceName]

ClassName=AdornmentRule
AdornOps=set DEG_SERVICE_NAME "Common"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/110.CallCommonServiceXML/200.LookupCommonServiceXMLTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=610.LookupServiceTemplate
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/110.CallCommonServiceXML/300.CopyCommonXMLServiceTemplate]

ClassName=ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
TrueRuleChain=CopyTemplate


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/110.CallCommonServiceXML/300.CopyCommonXMLServiceTemplate/CopyTemplate]

ClassName=AdornmentRule
AdornOps=copy DEG_XMLTemplateString DEG_Common_XMLTemplateString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/620.CallandAppendServiceXML/100.IterateServiceNamesList/100.CallServiceXML/200.CallVoLTEServiceXML]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEGAndroidVoLTECoreRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/CallResponseXMLCustomize]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=000.InitVariables
RuleNames=100.CopybeforeResponseXMLCustomize
RuleNames=200.LogbeforeResponseXMLCustomize
RuleNames=300.ProcessResponseXMLCustomize
RuleNames=400.CopyAfterResponseXMLCustomize
RuleNames=500.LogAfterResponseXMLCustomize

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/CallResponseXMLCustomize/000.InitVariables]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_OEMDevServiceNameList null
AdornOps=setifnull DEG_OEMDevVersionInteger 0
AdornOps=setifnull DEG_OEMDevTerminalVendorString ""
AdornOps=setifnull DEG_OEMDevTerminalModelString ""
AdornOps=setifnull DEG_OEMDevTermianlSWversionString ""
AdornOps=setifnull DEG_OEMDevFriendlyDeviceString ""
AdornOps=setifnull DEG_OEMDevSipUserNameString ""
AdornOps=setifnull CUST_DDRXC_OUT_XMLTemplateResponseString ""


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/CallResponseXMLCustomize/100.CopybeforeResponseXMLCustomize]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevServiceNameList CUST_DDRXC_IN_ServiceNamesList
AdornOps=copy DEG_OEMDevVersionInteger CUST_DDRXC_IN_VersionInteger
AdornOps=copy DEG_OEMDevTerminalVendorString CUST_DDRXC_IN_TerminalVendorString
AdornOps=copy DEG_OEMDevTerminalModelString CUST_DDRXC_IN_TerminalModelString
AdornOps=copy DEG_OEMDevTermianlSWversionString CUST_DDRXC_IN_TermianlSWversionString
AdornOps=copy DEG_OEMDevFriendlyDeviceString CUST_DDRXC_IN_FriendlyDeviceString
AdornOps=copy DEG_OEMDevSipUserNameString CUST_DDRXC_IN_SipUserNameString
AdornOps=copy DEG_XMLTemplateResponseString CUST_DDRXC_OUT_XMLTemplateResponseString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.1809"
AdornOps=set DEG_OEMDevMessageString "Log before setting values for service configuration XML"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/CallResponseXMLCustomize/200.LogbeforeResponseXMLCustomize]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_DDRXC_IN_ServiceNamesList
Attributes=CUST_DDRXC_IN_VersionInteger
Attributes=CUST_DDRXC_IN_TerminalVendorString
Attributes=CUST_DDRXC_IN_TerminalModelString
Attributes=CUST_DDRXC_IN_TermianlSWversionString
Attributes=CUST_DDRXC_IN_FriendlyDeviceString
Attributes=CUST_DDRXC_IN_SipUserNameString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log before setting values for service configuration XML
NullAlso=true

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/CallResponseXMLCustomize/300.ProcessResponseXMLCustomize]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_ResponseXMLCustomize
UseRuleChainManagerPool=true

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/CallResponseXMLCustomize/400.CopyAfterResponseXMLCustomize]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy CUST_DDRXC_OUT_XMLTemplateResponseString DEG_XMLTemplateResponseString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.1810"
AdornOps=set DEG_OEMDevMessageString "Log after setting values for service configuration XML"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/CallResponseXMLCustomize/500.LogAfterResponseXMLCustomize]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=CUST_DDRXC_OUT_XMLTemplateResponseString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG2
Message=Log after setting values for service configuration XML
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/502.GenerateServiceStartAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/502.GenerateServiceStartAuditDataRuleChain/100.PopulateCommonAuditAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString "0"
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=set DEG_AuditTransactionTypeString "auth-and-service-config-request"
#QXCM1001510541&QXCM1001509543--Multiple Sprint NRB log
AdornOps=copy DEG_AuditTransactionTypeString DEG_AuditTransactionTypeStringtemp
AdornOps=copy DEG_OEMDevServiceNameString DEG_AuditEntitlementNameString
AdornOps=set DEG_AuditSourceDestinationString "AndroidDevice"
AdornOps=copy DEG_OEMDevImsiString DEG_AuditChannelNameString
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/502.GenerateServiceStartAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "Android DEVICE TO DEG -> Service request received: "


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/502.GenerateServiceStartAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevSubscriberIdString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevSubscriberIdString DEG_AuditMessageString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/502.GenerateServiceStartAuditDataRuleChain/400.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditNRBMessageString ""


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/502.GenerateServiceStartAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=600.GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/710.GenerateServiceEndOKAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/710.GenerateServiceEndOKAuditDataRuleChain/100.PopulateCommonAuditAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
#AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AuditTimestampLong
AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
#AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditResultCodeString "1"
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
#AdornOps=set DEG_AuditTransactionTypeString "Service-VoWiFi"
AdornOps=copy DEG_AuditTransactionTypeStringtemp DEG_AuditTransactionTypeString
AdornOps=copy DEG_OEMDevServiceNameString DEG_AuditEntitlementNameString
AdornOps=set DEG_AuditSourceDestinationString "AndroidDevice"
AdornOps=copy DEG_OEMDevImsiString DEG_AuditChannelNameString
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/710.GenerateServiceEndOKAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending Service response:"

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/710.GenerateServiceEndOKAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevSubscriberIdString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevSubscriberIdString DEG_AuditMessageString

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/710.GenerateServiceEndOKAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditNRBMessageString "Successful Service response"


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/RuleChains/710.GenerateServiceEndOKAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=600.GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/SessionStores]

ClassName=com.hp.siu.session.SessionStoreManager
SessionStoreNames=DEGDROID_SERVICE_TEMPLATES_Sessionstore

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/SessionStores/DEGDROID_SERVICE_TEMPLATES_Sessionstore]

Attributes=DEG_VERSION,key
Attributes=DEG_SERVICE_NAME,key
Attributes=DEG_TERMINAL_VENDOR
Attributes=DEG_TERMINAL_MODEL
Attributes=DEG_TERMINAL_SW_VERSION
Attributes=DEG_XML_TEMPLATES_FILE
ClassName=com.hp.siu.sessionserver.JDBCSessionStore
DbSchema=${DBSCHEMA_DEG}
DatabaseId=DEGDROID_SERVICE_TEMPLATES
MaxDatabaseConnections=${DEVICE_MAX_DBCONN_DEG_TOKENS}
NativeConditions=1.MatchAllParameters
NativeConditions=2.MatchVersionParameter
SQLTypeMap=DEG_VERSION,VARCHAR(16)
SQLTypeMap=DEG_SERVICE_NAME,VARCHAR(64)
SQLTypeMap=DEG_TERMINAL_VENDOR,VARCHAR(20)
SQLTypeMap=DEG_TERMINAL_MODEL,VARCHAR(20)
SQLTypeMap=DEG_TERMINAL_SW_VERSION,VARCHAR(20)
SQLTypeMap=DEG_XML_TEMPLATES_FILE,VARCHAR(4096)
CommonPolicyID=Policy1

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/SessionStores/DEGDROID_SERVICE_TEMPLATES_Sessionstore/1.MatchAllParameters]

Condition=where DEG_VERSION = %DEG_VERSION AND DEG_SERVICE_NAME = %DEG_SERVICE_NAME AND DEG_TERMINAL_VENDOR=%DEG_TERMINAL_VENDOR AND DEG_TERMINAL_MODEL=%DEG_TERMINAL_MODEL AND DEG_TERMINAL_SW_VERSION=%DEG_TERMINAL_SW_VERSION

[/templates/DEG/DEGDROID_DeviceInterface/Service_Configuration_Core/SessionStores/DEGDROID_SERVICE_TEMPLATES_Sessionstore/2.MatchVersionParameter]

Condition=where DEG_VERSION = %DEG_VERSION AND DEG_SERVICE_NAME = %DEG_SERVICE_NAME
