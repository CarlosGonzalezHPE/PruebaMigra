[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core]


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains]

RuleChainNames=215.DEG20ProcessOEMUpdatePushTokenRuleChain
RuleChainNames=721.DEG20GenerateUpdatePushTokenStartAuditDataRuleChain
RuleChainNames=722.DEG20GenerateUpdatePushTokenEndErrorAuditDataRuleChain
RuleChainNames=723.DEG20GenerateUpdatePushTokenEndOKAuditDataRuleChain


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitRequest
RuleNames=110.ExecuteDependingOnSysParameterValue


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/100.InitRequest]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevSysParameter "updatePushToken"
AdornOps=set DEG_CDevSysValueString ${DEVICE_UPDATEPUSHTOKEN_STATUS}
AdornOps=lower DEG_CDevSysValueString DEG_CDevSysValueString


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSysValueString,=,"enabled"
TrueRuleChain=100.SetProcessingStartTime
TrueRuleChain=110.GenerateUpdatePushTokenStartAuditData
TrueRuleChain=120.ExtractUpdatePushTokenAttributes
TrueRuleChain=130.GenerateResponseEntry
FalseRuleChain=200.GenerateUpdatePushTokenDisabledResponse


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/100.SetProcessingStartTime]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setsystime DEG_CDevProcessStartTimeLong


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/110.GenerateUpdatePushTokenStartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=721.DEG20GenerateUpdatePushTokenStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/120.ExtractUpdatePushTokenAttributes]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
StructuredNMEToNMEMap=apns_token.CData,DEG_OEMDevAPNSTokenString,""


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAPNSTokenString,=,""
TrueRuleChain=100.InitErrorResponse400C
TrueRuleChain=110.GenerateUpdatePushTokenEndErrorAuditData
FalseRuleChain=200.ExecuteDependingPushTokenInterfaceValue


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/100.InitErrorResponse400C]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_SSL_REQUEST_STATE "400C"
AdornOps=set DEG_OEMDevErrorMessageString "APNS Token not present in request"


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/110.GenerateUpdatePushTokenEndErrorAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=722.DEG20GenerateUpdatePushTokenEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InvokeUpdatePushTokenRuleChain
RuleNames=200.SetUpdateResponse

#QXCM1001472893: For UpdatePushToken, common custom file is used for version 1 and 2

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue/100.InvokeUpdatePushTokenRuleChain]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=006.UpdateDEGTokensTable
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue/200.SetUpdateResponse]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
TrueRuleChain=100.SetResponseOKStatus
TrueRuleChain=110.GenerateOKResponse
TrueRuleChain=115.PopulateAuditNRBMessageAttribute
TrueRuleChain=120.GenerateUpdatePushTokenEndOKAuditData
FalseRuleChain=200.SetErrorResonse
FalseRuleChain=210.GenerateErrorResonse
FalseRuleChain=220.GenerateUpdatePushTokenEndErrorAuditData


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue/200.SetUpdateResponse/100.SetResponseOKStatus]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString 6000


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue/200.SetUpdateResponse/110.GenerateOKResponse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue/200.SetUpdateResponse/115.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending updatePushToken Success response: "
AdornOps=set DEG_AuditNRBMessageString "Sent UpdatePushToken Success to Device ,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue/200.SetUpdateResponse/120.GenerateUpdatePushTokenEndOKAuditData]

ClassName=LocalRuleChainInvoker
RuleChain=723.DEG20GenerateUpdatePushTokenEndOKAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue/200.SetUpdateResponse/200.SetErrorResonse]

AdornOps=set DEG_OEMDevRespStatusString 6005
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue/200.SetUpdateResponse/210.GenerateErrorResonse]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/130.GenerateResponseEntry/200.ExecuteDependingPushTokenInterfaceValue/200.SetUpdateResponse/220.GenerateUpdatePushTokenEndErrorAuditData]

ClassName=LocalRuleChainInvoker
RuleChain=722.DEG20GenerateUpdatePushTokenEndErrorAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/200.GenerateUpdatePushTokenDisabledResponse]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=50.DEG20GenerateUpdatePushTokenStartAudit
RuleNames=100.InitResponse
RuleNames=125.PopulateAuditNRBMessageAttribute
RuleNames=150.DEG20GenerateUpdatePushTokenEndAudit
RuleNames=200.GenerateResponseEntry
RuleNames=250.SetErrorLog
RuleNames=300.Log

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/200.GenerateUpdatePushTokenDisabledResponse/50.DEG20GenerateUpdatePushTokenStartAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=721.DEG20GenerateUpdatePushTokenStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/200.GenerateUpdatePushTokenDisabledResponse/100.InitResponse]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRespStatusString 6002

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/200.GenerateUpdatePushTokenDisabledResponse/125.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending updatePushToken disable response: "
AdornOps=set DEG_AuditNRBMessageString "Sent UpdatePushToken disable to Device ,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/200.GenerateUpdatePushTokenDisabledResponse/150.DEG20GenerateUpdatePushTokenEndAudit]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=723.DEG20GenerateUpdatePushTokenEndOKAuditDataRuleChain
UseRuleChainManagerPool=true

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/200.GenerateUpdatePushTokenDisabledResponse/200.GenerateResponseEntry]

ClassName=com.hp.usage.nme.rules.NMEConversionRule
CreateMissingAttributeInSNME=true
CreateSNMEIfNeeded=true
NMEToStructuredNMEMap=DEG_OEMDevRequestIdString,jsonResponse.response_id.CData
NMEToStructuredNMEMap=DEG_OEMDevRespStatusString,jsonResponse.status.CData
SNMEType=Umbrella:Body

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/200.GenerateUpdatePushTokenDisabledResponse/250.SetErrorLog]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingErrorIdString "updatePushToken action is Disabled"
AdornOps=set DEG_OEMDevErrorMessageString "DEG.DI.UPT.0201"

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/215.DEG20ProcessOEMUpdatePushTokenRuleChain/110.ExecuteDependingOnSysParameterValue/200.GenerateUpdatePushTokenDisabledResponse/300.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevRequestIdString
Attributes=DEG_OEMDevActionNameString
Attributes=DEG_MDN
Attributes=DEG_CDevSysParameter
Attributes=DEG_CDevUpdatePushTokenSysValueString
LogLevel=INFO
Message=Action updatePushToken Disabled: 
NullAlso=true
PropertyName=LogRequestFlowLevel1
UseProperty=true


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/721.DEG20GenerateUpdatePushTokenStartAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=400.PopulateAuditNRBMessageAttribute
RuleNames=500.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/721.DEG20GenerateUpdatePushTokenStartAuditDataRuleChain/100.PopulateCommonAuditAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_CDevProcessStartTimeLong DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditDurationString 0
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "IN"
AdornOps=set DEG_AuditResultCodeString "0"
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditTransactionTypeString "updatePushToken"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/721.DEG20GenerateUpdatePushTokenStartAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "DEVICE TO DEG -> Received updatePushToken request: "


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/721.DEG20GenerateUpdatePushTokenStartAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String "DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/721.DEG20GenerateUpdatePushTokenStartAuditDataRuleChain/400.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditNRBMessageString "UpdatePushToken request received"


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/721.DEG20GenerateUpdatePushTokenStartAuditDataRuleChain/500.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/722.DEG20GenerateUpdatePushTokenEndErrorAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/722.DEG20GenerateUpdatePushTokenEndErrorAuditDataRuleChain/100.PopulateCommonAuditAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditResultCodeString "400"
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditTransactionTypeString "updatePushToken"
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/722.DEG20GenerateUpdatePushTokenEndErrorAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending updatePushToken Error response: "


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/722.DEG20GenerateUpdatePushTokenEndErrorAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String "DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevErrorMessageString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevErrorMessageString DEG_AuditMessageString

[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/722.DEG20GenerateUpdatePushTokenEndErrorAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditNRBMessageString "UpdatePushToken error response"


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/722.DEG20GenerateUpdatePushTokenEndErrorAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/723.DEG20GenerateUpdatePushTokenEndOKAuditDataRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.PopulateCommonAuditAttributes
#RuleNames=200.PopulateAuditMessageAttribute_Header
RuleNames=300.PopulateAuditMessageAttribute_Append_Attributes
#RuleNames=500.PopulateAuditNRBMessageAttribute
RuleNames=600.GenerateAuditAndNRBEvents


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/723.DEG20GenerateUpdatePushTokenEndOKAuditDataRuleChain/100.PopulateCommonAuditAttributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setsystime DEG_AuditTimestampLong
AdornOps=copy DEG_SSL_ID DEG_AuditSessionIdString
AdornOps=- DEG_AuditTimestampLong DEG_CDevProcessStartTimeLong DEG_AuditDurationString
AdornOps=set DEG_AuditProcessingNodeString ${HOST_NAME}
AdornOps=set DEG_AuditInterfaceString "HTTPS"
AdornOps=set DEG_AuditInOutString "OUT"
AdornOps=set DEG_AuditResultCodeString "1"
AdornOps=copy DEG_MDN DEG_AuditMdnString
AdornOps=copy DEG_OEMDevImsiString DEG_AuditIMSIString
AdornOps=copy DEG_OEMDevUniqueIDString DEG_AuditUniqueIDString
AdornOps=set DEG_AuditTransactionTypeString "updatePushToken"
AdornOps=set DEG_AuditSourceDestinationString "Device"
AdornOps=set DEG_AuditEntitlementNameString ""
AdornOps=set DEG_AuditSourceDestinationVersionString "V2"
AdornOps=copy DEG_OEMDevDeviceTypeString DEG_AuditDeviceTypeString


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/723.DEG20GenerateUpdatePushTokenEndOKAuditDataRuleChain/200.PopulateAuditMessageAttribute_Header]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditMessageString "DEG TO DEVICE -> Sending updatePushToken response: "


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/723.DEG20GenerateUpdatePushTokenEndOKAuditDataRuleChain/300.PopulateAuditMessageAttribute_Append_Attributes]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_Tmp1String "DEG_MDN="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_MDN DEG_AuditMessageString
AdornOps=set DEG_Tmp1String ", DEG_OEMDevImsiString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevImsiString DEG_AuditMessageString
AdornOps=set DEG_Tmp1String "DEG_OEMDevUniqueIDString="
AdornOps=+ DEG_AuditMessageString DEG_Tmp1String DEG_AuditMessageString
AdornOps=+ DEG_AuditMessageString DEG_OEMDevUniqueIDString DEG_AuditMessageString

#RFE 32- JSON Return code for JSON request/response in NRB GUI
[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/723.DEG20GenerateUpdatePushTokenEndOKAuditDataRuleChain/500.PopulateAuditNRBMessageAttribute]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_AuditNRBMessageString "Sent UpdatePushToken Success to Device,Return code is "
AdornOps=+ DEG_AuditNRBMessageString DEG_OEMDevRespStatusString DEG_AuditNRBMessageString


[/templates/DEG/DeviceInterface/UpdatePushToken_V2Core/RuleChains/723.DEG20GenerateUpdatePushTokenEndOKAuditDataRuleChain/600.GenerateAuditAndNRBEvents]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=650.DEG20GenerateAuditAndNRBEventsRuleChain
UseRuleChainManagerPool=true