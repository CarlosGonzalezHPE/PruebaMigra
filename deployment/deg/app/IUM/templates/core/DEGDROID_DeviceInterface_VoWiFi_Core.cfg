[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core]

[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains]

[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.ProcessAction

[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction]

ClassName=ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
TrueRuleChain=95.SetErrorINFO
TrueRuleChain=99.logNME
TrueRuleChain=100.InitVariables
TrueRuleChain=101.StartAuditData
TrueRuleChain=110.CheckAndroidVoWiFiPresent
TrueRuleChain=200.GetEntitlementStatus
TrueRuleChain=300.CheckXMLErrorFlag


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/95.SetErrorINFO]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.2001"
AdornOps=set DEG_OEMDevMessageString "ENTERED INSIDE VOWIFICORE TEMPLATE"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/99.logNME]

ClassName=LogNMERule
LogLevel=DEBUG
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Message=ENTERED INSIDE VOWIFICORE TEMPLATE :


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/100.InitVariables]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setsystime DEG_CDevProcessStartTimeLong
AdornOps=set DEG_OEMDevFeatureCodeTypeString ${ANDROIDVOWIFI_ENTITLEMENT_NAME}
AdornOps=set DEG_OEMDevAndroidXMLErrorFlagInteger 0


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/101.StartAuditData]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=502.GenerateServiceStartAuditDataRuleChain
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/110.CheckAndroidVoWiFiPresent]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_SSL_EntitlementStatus,contains,DEG_OEMDevFeatureCodeTypeString
FalseRuleChain=100.SetErrorFlag
FalseRuleChain=200.LogError


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/110.CheckAndroidVoWiFiPresent/100.SetErrorFlag]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevAndroidXMLErrorFlagInteger 1
AdornOps=set DEG_OEMDevAndroidVoWiFiErrorFlagInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.2002"
AdornOps=set DEG_OEMDevErrorMessageString "Android_VoWiFi is not present in Entiltlement List"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/110.CheckAndroidVoWiFiPresent/200.LogError]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSubscriberIdString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_OEMDevFeatureCodeTypeString
Attributes=DEG_SSL_EntitlementStatus
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Action processed with error - Android_VoWiFi is not present in Entiltlement List
NullAlso=true



[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/200.GetEntitlementStatus]

ClassName=com.hp.siu.collector.rules.StringTokenizerRule
Delimiter=,
SourceAttribute=DEG_SSL_EntitlementStatus
TokenAttribute=tmp_FEATCODE


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/200.GetEntitlementStatus/IterationRule]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=tmp_FEATCODE,contains,DEG_OEMDevFeatureCodeTypeString
TrueRuleChain=100.CopyEntitlementStatusValue
TrueRuleChain=101.CheckEntitlementStatusValue


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/200.GetEntitlementStatus/IterationRule/100.CopyEntitlementStatusValue]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=substr "=" length tmp_FEATCODE DEG_OEMDevAndroidVoWiFiStatusString


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/200.GetEntitlementStatus/IterationRule/101.CheckEntitlementStatusValue]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevAndroidVoWiFiStatusString,=,null
Conditions=DEG_OEMDevAndroidVoWiFiStatusString,=,""
Operations=or
TrueRuleChain=10.SetError
TrueRuleChain=20.LogError


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/200.GetEntitlementStatus/IterationRule/101.CheckEntitlementStatusValue/10.SetError]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevAndroidXMLErrorFlagInteger 1
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.2003"
AdornOps=set DEG_OEMDevErrorMessageString "Android_VoWiFi Value is not present in Entiltlement List"
AdornOps=set DEG_OEMDevAndroidVoWiFiErrorFlagInteger 1


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/200.GetEntitlementStatus/IterationRule/101.CheckEntitlementStatusValue/20.LogError]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevSubscriberIdString
Attributes=DEG_SSL_REQUEST_STATE
Attributes=DEG_EntitlementStatus
Attributes=DEG_OEMDevAndroidVoWiFiStatusString
Attributes=DEG_OEMDevFeatureCodeTypeString
Attributes=DEG_SSL_EntitlementStatus
Attributes=tmp_FEATCODE
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
LogLevel=WARNING
Message=Action processed with error - Android_VoWiFi Value is not present in Entiltlement List
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag]

ClassName=ConditionalRule
Conditions=DEG_OEMDevAndroidXMLErrorFlagInteger,=,0
TrueRuleChain=100.LookupVoWiFiServiceXMLTemplate
TrueRuleChain=200.CallAndroidVoWiFiCustom
TrueRuleChain=300.CheckSipUserName


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/100.LookupVoWiFiServiceXMLTemplate]

ClassName=RuleChain
RuleNames=100.InitVariables
RuleNames=200.LookupVoWiFierviceTemplate
RuleNames=300.CopyVoWiFiServiceTemplate


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/100.LookupVoWiFiServiceXMLTemplate/100.InitVariables]

ClassName=AdornmentRule
AdornOps=set DEG_SERVICE_NAME "VoWiFi"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/100.LookupVoWiFiServiceXMLTemplate/200.LookupVoWiFierviceTemplate]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=610.LookupServiceTemplate
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/100.LookupVoWiFiServiceXMLTemplate/300.CopyVoWiFiServiceTemplate]

ClassName=ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,!=,0
TrueRuleChain=CopyVoWiFiServiceTemplate

[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/100.LookupVoWiFiServiceXMLTemplate/300.CopyVoWiFiServiceTemplate/CopyVoWiFiServiceTemplate]

ClassName=AdornmentRule
AdornOps=+ DEG_OEMDevServiceXMLTemplateExistsInteger 1 DEG_OEMDevServiceXMLTemplateExistsInteger
AdornOps=copy DEG_XMLTemplateString DEG_VoWiFi_XMLTemplateString


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=050.ResponseInfo
RuleNames=100.LogIncomingAttributes
RuleNames=110.LookUpDeviceDataTable


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/050.ResponseInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.2004"
AdornOps=set DEG_OEMDevMessageString "Values before Device Data Lookup"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/100.LogIncomingAttributes]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevFriendlyDeviceString
Attributes=DEG_OEMDevSipUserNameString
Attributes=DEG_DevAndroidEntitlementNameString
LogLevel=DEBUG
Message=Values before Device Data Lookup :
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitDeviceDataLookup
RuleNames=110.ExecuteDeviceDataLookup
RuleNames=120.CheckErrorAndNoMatchFlag


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/100.InitDeviceDataLookup]

AdornOps=set log_DB_Operation "SELECT"
AdornOps=set log_Table_Name "DEG_DEVICE_DATA"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevImsiString DEG_IMSI
AdornOps=set DEG_ENTITLEMENT_NAME ${ANDROIDVOWIFI_ENTITLEMENT_NAME}


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/110.ExecuteDeviceDataLookup]

ClassName=com.hp.siu.sessionserver.rules.LookupSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_ADDR_UPDATE_POSTDATA,DEG_ADDR_UPDATE_POSTDATA
MapAttributes=DEG_TC_STATUS,DEG_TC_STATUS
MapAttributes=DEG_DISPLAY_NAME,DEG_DISPLAY_NAME
MapAttributes=DEG_SIP_USERNAME,DEG_SIP_USERNAME
MapAttributes=DEG_ADDRESS_STATUS,DEG_ADDRESS_STATUS
MapAttributes=DEG_PROVISIONING_STATUS,DEG_PROVISIONING_STATUS
MapAttributes=DEG_ENTITLEMENT_NAME,DEG_ENTITLEMENT_NAME
MapAttributes=DEG_IMSI,DEG_IMSI
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
NativeCondition=4.MatchByIMSIAndEntitelementName
SessionStore=DEG_DEVICE_DATA_SessionStore


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,!=,0
TrueRuleChain=110.SetErrorInfo
TrueRuleChain=120.SetErrorLog
FalseRuleChain=210.CheckKeyExistFlag


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/110.SetErrorInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.2005"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to perform lookup or access DEG_DEVICE_DATA table"
AdornOps=set DEG_CDevOutReturnCodeString "500"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/120.SetErrorLog]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_ENTITLEMENT_NAME
LogLevel=CRITICAL
Message=Database Error: Unable to perform lookup or access DEG_DEVICE_DATA table
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,!=,0
TrueRuleChain=100.RowFound
FalseRuleChain=200.SetErrorResponse
FalseRuleChain=300.LogError


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.CopyDbAttributestoOutput
RuleNames=150.CopyBeforeVoWiFiCustomTemplate
RuleNames=160.SetValueBeforeVoWiFiCusotomTemplate
RuleNames=170.LogBeforeVoWiFiCustomTemplate
RuleNames=200.CallVoWiFiCustom
RuleNames=250.CopyAfterVoWiFiCustomTemplate
RuleNames=260.LogAfterVoWiFiCustomTemplate
RuleNames=270.CheckTemplateInvocationStatus
RuleNames=300.CheckStatus


#QXCM1001473060:Response XML where "Status" is used it was displaying "Entitlement status" instead of "Provisioning status"
[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/100.CopyDbAttributestoOutput]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=setifnull DEG_TC_STATUS ${DEG_DEFAULT_TC_STATUS}
AdornOps=setifnull DEG_ADDRESS_STATUS ${DEG_DEFAULT_ADDRESS_STATUS}
AdornOps=setifnull DEG_PROVISIONING_STATUS ${DEG_DEFAULT_PROVISIONING_STATUS}
AdornOps=setifnull DEG_ADDR_UPDATE_POSTDATA ""
AdornOps=setifnull DEG_ADDRESS_UPDATE_URL ""
AdornOps=setifnull DEG_SSL_ADDRESS_UPDATE_URL ""
AdornOps=copy DEG_TC_STATUS DEGDROID_XML_TC_STATUS
AdornOps=copy DEG_ADDRESS_STATUS DEGDROID_XML_ADDRESS_STATUS
AdornOps=copy DEG_PROVISIONING_STATUS DEGDROID_XML_PROVISIONING_STATUS
AdornOps=copy DEG_ADDR_UPDATE_POSTDATA DEGDROID_XML_ADDR_UPDATE_POSTDATA
AdornOps=copy DEG_SSL_ADDRESS_UPDATE_URL DEGDROID_XML_ADDRESS_UPDATE_URL
#AdornOps=set DEG_ADDRESS_UPDATE_URL ${DEGDROID_DEVICE_ADDRESS_UPDATE_URL}
#AdornOps=copy DEG_ADDRESS_UPDATE_URL DEGDROID_XML_ADDRESS_UPDATE_URL
AdornOps=setifnull DEG_OEMDevPrevSipUserNameString ""
AdornOps=setifnull DEG_OEMDevPrevFriendlyDeviceString ""
AdornOps=setifnull DEG_SIP_USERNAME ""
AdornOps=setifnull DEG_DISPLAY_NAME ""
AdornOps=copy DEG_SIP_USERNAME DEG_OEMDevPrevSipUserNameString
AdornOps=copy DEG_DISPLAY_NAME DEG_OEMDevPrevFriendlyDeviceString

AdornOps=setifnull DEG_OEMDevSipUserNameString ""
AdornOps=setifnull DEG_OEMDevFriendlyDeviceString ""
AdornOps=setifnull DEG_OEMDevImsiString ""
AdornOps=setifnull DEG_OEMDevUniqueIDString ""
AdornOps=setifnull DEG_OEMDevRequestProcessedInteger 0
AdornOps=setifnull DEGDROID_XML_PROVISIONING_STATUS ${DEG_DEFAULT_PROVISIONING_STATUS}
AdornOps=setifnull DEG_OEMDevURLPostDataString ""
AdornOps=setifnull DEG_OEMDevUpdateDeviceDataInteger 0
AdornOps=setifnull CUST_VOWIFI_OUT_TemplateInvokationStatus 0
AdornOps=setifnull CUST_VOWIFI_OUT_TCStatusString ${DEG_DEFAULT_TC_STATUS}
AdornOps=setifnull CUST_VOWIFI_OUT_AddressStatusString ${DEG_DEFAULT_ADDRESS_STATUS}
AdornOps=setifnull CUST_VOWIFI_OUT_AddressUpdateURLString ""
AdornOps=setifnull CUST_VOWIFI_OUT_ResponsePostDataString ""
AdornOps=setifnull CUST_VOWIFI_OUT_ProvStatusInteger ${DEG_DEFAULT_PROVISIONING_STATUS}
AdornOps=setifnull CUST_VOWIFI_OUT_UpdateDeviceDataFlagInteger 0
AdornOps=setifnull CUST_VOWIFI_OUT_PersistPostDataString ""


#Sprint Isuue #67 : Previous unique id will get from DEGDROID_TOKENS table, before updating it with the new unique id.
#Previous uniqueid is provided only for primary devices.
[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/150.CopyBeforeVoWiFiCustomTemplate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy DEG_OEMDevSipUserNameString CUST_VOWIFI_IN_SipUserNameString
AdornOps=copy DEG_OEMDevFriendlyDeviceString CUST_VOWIFI_IN_FriendlyDeviceString
AdornOps=copy DEG_OEMDevImsiString CUST_VOWIFI_IN_IMSIString
AdornOps=copy DEG_OEMDevPrevSipUserNameString CUST_VOWIFI_IN_PrevSipUserNameString
AdornOps=copy DEG_OEMDevPrevFriendlyDeviceString CUST_VOWIFI_IN_PreFriendlyDeviceString
AdornOps=copy DEG_OEMDevUniqueIDString CUST_VOWIFI_IN_UniqueIDString
AdornOps=copy DEG_ADDR_UPDATE_POSTDATA CUST_VOWIFI_IN_PrevPostData
AdornOps=copy DEG_TC_STATUS CUST_VOWIFI_OUT_TCStatusString
AdornOps=copy DEG_ADDRESS_STATUS CUST_VOWIFI_OUT_AddressStatusString
AdornOps=copy DEG_PROVISIONING_STATUS CUST_VOWIFI_OUT_ProvStatusInteger
AdornOps=copy DEG_ADDR_UPDATE_POSTDATA CUST_VOWIFI_OUT_ResponsePostDataString
AdornOps=copy DEG_SSL_ADDRESS_UPDATE_URL CUST_VOWIFI_OUT_AddressUpdateURLString


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/160.SetValueBeforeVoWiFiCusotomTemplate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.2006"
AdornOps=set DEG_OEMDevMessageString "before VoWiFi custom call"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/170.LogBeforeVoWiFiCustomTemplate]

Attributes=CUST_VOWIFI_IN_SipUserNameString
Attributes=CUST_VOWIFI_IN_FriendlyDeviceString
Attributes=CUST_VOWIFI_IN_IMSIString
Attributes=CUST_VOWIFI_IN_PrevSipUserNameString
Attributes=CUST_VOWIFI_IN_PreFriendlyDeviceString
Attributes=CUST_VOWIFI_IN_PrevUniqueIDString
Attributes=CUST_VOWIFI_IN_UniqueIDString
Attributes=CUST_VOWIFI_IN_PrevPostData
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG2
Message=Log before android VoWiFi custom call::
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/200.CallVoWiFiCustom]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_Android_VOWIFI_Status_URL_PostData
UseRuleChainManagerPool=true


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/250.CopyAfterVoWiFiCustomTemplate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=copy CUST_VOWIFI_OUT_TCStatusString DEGDROID_XML_TC_STATUS
AdornOps=copy CUST_VOWIFI_OUT_AddressStatusString DEGDROID_XML_ADDRESS_STATUS
AdornOps=copy CUST_VOWIFI_OUT_AddressUpdateURLString DEGDROID_XML_ADDRESS_UPDATE_URL
AdornOps=copy CUST_VOWIFI_OUT_ResponsePostDataString DEGDROID_XML_ADDR_UPDATE_POSTDATA
AdornOps=copy CUST_VOWIFI_OUT_ProvStatusInteger DEGDROID_XML_PROVISIONING_STATUS
AdornOps=copy CUST_VOWIFI_OUT_UpdateDeviceDataFlagInteger DEG_OEMDevUpdateDeviceDataInteger
AdornOps=copy CUST_VOWIFI_OUT_PersistPostDataString DEG_OEMDevURLPostDataString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.2007"
AdornOps=set DEG_OEMDevMessageString "After VoWiFi custom call"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/260.LogAfterVoWiFiCustomTemplate]

Attributes=CUST_VOWIFI_OUT_TemplateInvokationStatus
Attributes=CUST_VOWIFI_OUT_TCStatusString
Attributes=CUST_VOWIFI_OUT_AddressStatusString
Attributes=CUST_VOWIFI_OUT_AddressUpdateURLString
Attributes=CUST_VOWIFI_OUT_ResponsePostDataString
Attributes=CUST_VOWIFI_OUT_ProvStatusInteger
Attributes=CUST_VOWIFI_OUT_UpdateDeviceDataFlagInteger
Attributes=CUST_VOWIFI_OUT_PersistPostDataString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=DEBUG2
Message=Log after Android VoWiFi custom call::
NullAlso=true


#Sprint Issue #101 : Updating DEGDROID_TOKENS table with previous unique-id, if external system failure occurs
[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/270.CheckTemplateInvocationStatus]

ClassName=ConditionalRule
Conditions=CUST_VOWIFI_OUT_TemplateInvokationStatus,=,1
TrueRuleChain=90.UpdatePrevUniqueID
TrueRuleChain=100.SetError
TrueRuleChain=101.LogError


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/270.CheckTemplateInvocationStatus/90.UpdatePrevUniqueID]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=100.InitUpdate
RuleNames=110.UpdateTokensTable
RuleNames=120.CheckUpdateStatus


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/270.CheckTemplateInvocationStatus/90.UpdatePrevUniqueID/100.InitUpdate]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=copy CUST_VOWIFI_IN_PrevUniqueIDString DEG_UNIQUE_ID
AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEGDROID_TOKENS"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/270.CheckTemplateInvocationStatus/90.UpdatePrevUniqueID/110.UpdateTokensTable]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_UNIQUE_ID,DEG_UNIQUE_ID
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEGDROID_TOKENS_SessionStore


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/270.CheckTemplateInvocationStatus/90.UpdatePrevUniqueID/120.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Operations=and
TrueRuleChain=100.SetSystemErrorResponse
TrueRuleChain=110.SystemError_Log


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/270.CheckTemplateInvocationStatus/90.UpdatePrevUniqueID/120.CheckUpdateStatus/100.SetSystemErrorResponse]

AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.2008"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to update or access DEGDROID_TOKENS table"
AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/270.CheckTemplateInvocationStatus/90.UpdatePrevUniqueID/120.CheckUpdateStatus/110.SystemError_Log]

Attributes=DEG_OEMDevSslSessionIdString
Attributes=DEG_OEMDevImsiString
Attributes=DEG_OEMDevUniqueIDString
Attributes=DEG_UNIQUE_ID
Attributes=CUST_VOWIFI_IN_PrevUniqueIDString
Attributes=DEG_MDN
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Database Error: Unable to update or access DEGDROID_TOKENS table
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/270.CheckTemplateInvocationStatus/100.SetError]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_OEMDevHttpStatusInteger 500
AdornOps=copy CUST_VOWIFI_OUT_TemplateInvokationStatus DEG_OEMDevRequestProcessedInteger
AdornOps=set DEG_OEMDevErrorMessageString "VoWiFi Custom Configuration Failure"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.2009"
AdornOps=set DEG_CDevOutReturnCodeString "500"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/270.CheckTemplateInvocationStatus/101.LogError]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_OEMDevErrorMessageString
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_SSL_REQUEST_STATE
LogLevel=ERROR
Message=VoWiFi Custom Configuration Failure : 
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=200.CheckDeviceDataInteger


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger]

ClassName=com.hp.siu.collector.rules.ConditionalRule
Conditions=DEG_OEMDevRequestProcessedInteger,=,0
Conditions=DEG_OEMDevUpdateDeviceDataInteger,=,1
Operations=and
TrueRuleChain=100.UpdateDeviceDataTable


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable]

ClassName=com.hp.siu.collector.rules.RuleChain
RuleNames=95.SetLogInfo
RuleNames=99.Log
RuleNames=100.InitUpdate
RuleNames=200.UpdateData
RuleNames=300.CheckUpdateStatus


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/95.SetLogInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.2010"
AdornOps=set DEG_OEMDevMessageString "Values after VoWiFiCustom RuleChain"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/99.Log]

ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Attributes=DEG_UNIQUE_ID
Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_OEMDevSipUserNameString
Attributes=DEG_OEMDevFriendlyDeviceString
Attributes=DEG_OEMDevPrevSipUserNameString
Attributes=DEG_OEMDevPrevFriendlyDeviceString
Attributes=DEG_OEMDevAddressUpdateURLString
Attributes=DEGDROID_XML_ADDRESS_UPDATE_URL
Attributes=DEGDROID_XML_ADDR_UPDATE_POSTDATA
Attributes=DEGDROID_XML_ADDRESS_STATUS
Attributes=DEGDROID_XML_TC_STATUS
LogLevel=DEBUG
Message=Values after VoWiFiCustom RuleChain : : :
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/100.InitUpdate]

AdornOps=set log_DB_Operation "UPDATE"
AdornOps=set log_Table_Name "DEG_DEVICE_DATA"
AdornOps=set DEG_CDevSessionStoreErrorFlagInteger 0
AdornOps=set DEG_CDevSessionStoreKeyExistsFlagInteger 1
AdornOps=setifnull DEG_OEMDevURLPostDataString ""
AdornOps=setifnull DEG_OEMDevSipUserNameString ""
AdornOps=setifnull DEG_OEMDevFriendlyDeviceString ""
AdornOps=setifnull DEGDROID_XML_ADDRESS_STATUS ${DEG_DEFAULT_ADDRESS_STATUS}
AdornOps=setifnull DEGDROID_XML_PROVISIONING_STATUS ${DEG_DEFAULT_PROVISIONING_STATUS}
AdornOps=setifnull DEGDROID_XML_TC_STATUS ${DEG_DEFAULT_TC_STATUS}
AdornOps=copy DEG_OEMDevSipUserNameString DEG_SIP_USERNAME
AdornOps=copy DEG_OEMDevFriendlyDeviceString DEG_DISPLAY_NAME
AdornOps=copy DEGDROID_XML_ADDRESS_STATUS DEG_ADDRESS_STATUS
AdornOps=copy DEGDROID_XML_PROVISIONING_STATUS DEG_PROVISIONING_STATUS
AdornOps=copy DEG_OEMDevURLPostDataString DEG_ADDR_UPDATE_POSTDATA
AdornOps=copy DEGDROID_XML_TC_STATUS DEG_TC_STATUS
AdornOps=setsystime DEG_LASTUPDATE
ClassName=com.hp.siu.collector.rules.AdornmentRule


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/200.UpdateData]

ClassName=com.hp.siu.sessionserver.rules.UpdateSessionRule
ContinueAfterErrorFixed=true
DefaultErrorRuleChain=000.SessionStoreDefaultErrorRuleChain
LogInvalidSession=false
MapAttributes=DEG_IMSI,DEG_IMSI
MapAttributes=DEG_ENTITLEMENT_NAME,DEG_ENTITLEMENT_NAME
MapAttributes=DEG_PROVISIONING_STATUS,DEG_PROVISIONING_STATUS
MapAttributes=DEG_DISPLAY_NAME,DEG_DISPLAY_NAME
MapAttributes=DEG_SIP_USERNAME,DEG_SIP_USERNAME
MapAttributes=DEG_ADDRESS_STATUS,DEG_ADDRESS_STATUS
MapAttributes=DEG_TC_STATUS,DEG_TC_STATUS
MapAttributes=DEG_ADDR_UPDATE_POSTDATA,DEG_ADDR_UPDATE_POSTDATA
MapAttributes=DEG_LASTUPDATE,DEG_LASTUPDATE
NotExistsErrorRuleChain=001.SessionStoreKeyNotExistsRuleChain
SessionStore=DEG_DEVICE_DATA_SessionStore


##QXCM1001465742 : fix done for getting URL post data different in response and device data table..(removed 200.CopyDbAttributesToOutput rule chain)
[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/300.CheckUpdateStatus]

ClassName=com.hp.siu.collector.rules.SwitchConditionRule
Conditions=DEG_CDevSessionStoreErrorFlagInteger,=,1
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,0
Conditions=DEG_CDevSessionStoreKeyExistsFlagInteger,=,1
Operations=None

TrueRuleChain=SystemError
TrueRuleChain=NoRowExists
TrueRuleChain=UpdateRow

SystemError=100.SetErrorAttribute
SystemError=200.PrintError

NoRowExists=100.SetErrorForNoRow
NoRowExists=200.PrintMessageForNoRow

UpdateRow=090.SetLogInfo
UpdateRow=100.LogMessage


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/300.CheckUpdateStatus/090.SetLogInfo]

ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.2011"
AdornOps=set DEG_OEMDevMessageString "Row updated in Device Data Table"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/300.CheckUpdateStatus/100.LogMessage]

Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_IMSI
Attributes=DEG_UNIQUE_ID
ClassName=com.hp.siu.collector.rules.LogNMERule
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
LogLevel=DEBUG
Message=Row updated in Device Data Table:
NullAlso=true


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/300.CheckUpdateStatus/100.SetErrorAttribute]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.2012"
AdornOps=set DEG_OEMDevErrorMessageString "Error while updating Device Data Table"
ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevOutReturnCodeString "500"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/300.CheckUpdateStatus/100.SetErrorForNoRow]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.2013"
AdornOps=set DEG_OEMDevErrorMessageString "Error while access Device Data Table"
ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevOutReturnCodeString "500"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/300.CheckUpdateStatus/200.PrintError]

Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_IMSI
Attributes=DEG_UNIQUE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Error while access Device Data Table:
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/100.RowFound/300.CheckStatus/200.CheckDeviceDataInteger/100.UpdateDeviceDataTable/300.CheckUpdateStatus/200.PrintMessageForNoRow]

Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_IMSI
Attributes=DEG_UNIQUE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Error while updating Device Data Table:
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/200.SetErrorResponse]

AdornOps=set DEG_OEMDevRequestProcessedInteger 1
AdornOps=set DEG_SSL_REQUEST_STATE "500C"
AdornOps=set DEG_CDevProcessingErrorIdString "DEG.DDI.2014"
AdornOps=set DEG_OEMDevErrorMessageString "Unable to lookup DEG_DEVICE_DATA table"
ClassName=com.hp.siu.collector.rules.AdornmentRule
AdornOps=set DEG_CDevOutReturnCodeString "500"


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/200.CallAndroidVoWiFiCustom/110.LookUpDeviceDataTable/120.CheckErrorAndNoMatchFlag/210.CheckKeyExistFlag/300.LogError]

Attributes=DEG_ENTITLEMENT_NAME
Attributes=DEG_IMSI
Attributes=DEG_UNIQUE_ID
Attributes=DEG_CDevProcessingErrorIdString
Attributes=DEG_OEMDevErrorMessageString
ClassName=com.hp.siu.collector.rules.LogNMERule
LogLevel=CRITICAL
Message=Error while looking up Device Data Table:
NullAlso=true
#Action=Bring up TimesTen if it is down.  If it is up and healthy and still this error is encountered, DEG DB objects or data may be corrupt.  Contact HP Support.


[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/300.CheckSipUserName]

ClassName=ConditionalRule
Conditions=DEG_OEMDevSipUserNameString,!=,-99DEGINVALID-99
#Conditions=DEG_OEMDevFriendlyDeviceString,!=,-99DEGINVALID-99
TrueRuleChain=10.CopyDEGAttributeToCustomAttribute
TrueRuleChain=10.LogCustomAttributeBeforeCall
TrueRuleChain=10.CallSiptoCarrier

[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/300.CheckSipUserName/10.CopyDEGAttributeToCustomAttribute]

ClassName=AdornmentRule
AdornOps=copy DEG_OEMDevSipUserNameString CUST_ASTC_IN_SIPUserNameString
AdornOps=copy DEG_OEMDevFriendlyDeviceString CUST_ASTC_IN_FriendlyDeviceString
AdornOps=copy DEG_OEMDevImsiString CUST_ASTC_IN_IMSIString
AdornOps=set DEG_CDevProcessingMessageIdString "DEG.DDI.2015"
AdornOps=set DEG_OEMDevMessageString "Logging Before SIP To Carrier Custom Call"

[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/300.CheckSipUserName/10.LogCustomAttributeBeforeCall]

ClassName=LogNMERule
LogLevel=DEBUG2
Attributes=CUST_ASTC_IN_SIPUserNameString
Attributes=CUST_ASTC_IN_FriendlyDeviceString
Attributes=CUST_ASTC_IN_IMSIString
Attributes=DEG_CDevProcessingMessageIdString
Attributes=DEG_OEMDevMessageString
Message=Logging Before SIP To Carrier Custom Call:

[/templates/DEG/DEGDROID_DeviceInterface/VoWiFi_Core/RuleChains/640.DEG30AndroidVoWiFiCoreRuleChain/100.ProcessAction/300.CheckXMLErrorFlag/300.CheckSipUserName/10.CallSiptoCarrier]

ClassName=com.hp.siu.sessionserver.rules.LocalRuleChainInvoker
RuleChain=CUSTRC_Android_SIPToCarrier
UseRuleChainManagerPool=true

